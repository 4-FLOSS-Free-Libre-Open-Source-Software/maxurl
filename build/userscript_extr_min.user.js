// ==UserScript==
// @name              Image Max URL
// @name:ar           Image Max URL
// @name:cs           Image Max URL
// @name:da           Image Max URL
// @name:de           Image Max URL
// @name:el           Image Max URL
// @name:eo           Image Max URL
// @name:es           Image Max URL
// @name:fi           Image Max URL
// @name:fr           Image Max URL
// @name:fr-CA        Image Max URL
// @name:he           Image Max URL
// @name:hi           Image Max URL
// @name:hu           Image Max URL
// @name:id           Image Max URL
// @name:it           Image Max URL
// @name:ja           Image Max URL
// @name:ko           Image Max URL
// @name:nb           Image Max URL
// @name:nl           Image Max URL
// @name:pl           Image Max URL
// @name:pt-BR        Image Max URL
// @name:ru           Image Max URL
// @name:bg           Image Max URL
// @name:uk           Image Max URL
// @name:th           Image Max URL
// @name:tr           Image Max URL
// @name:vi           Image Max URL
// @name:zh           Image Max URL
// @name:zh-CN        Image Max URL
// @name:zh-TW        Image Max URL
// @name:zh-HK        Image Max URL
// @description       Finds larger or original versions of images and videos for 8000+ websites, including a powerful media popup and download feature
// @description:ar    البحث عن نسخ أكبر أو أصلية من الصور لأكثر من 8000 موقع ويب
// @description:cs    Vyhledá větší nebo původní verze obrázků a videí pro více než 8000 webů
// @description:da    Finder større eller originale versioner af billeder og videoer til mere end 8000 websteder
// @description:de    Sucht nach größeren oder originalen Versionen von Bildern und Videos für mehr als 8000 Websites
// @description:el    Βρίσκει μεγαλύτερες ή πρωτότυπες εκδόσεις εικόνων και βίντεο για περισσότερους από 8000 ιστότοπους
// @description:eo    Trovas pli grandajn aŭ originalajn versiojn de bildoj kaj filmetoj por pli ol 8000 retejoj
// @description:es    Encuentra imágenes más grandes y originales para más de 8000 sitios
// @description:fi    Etsii suurempia tai alkuperäisiä versioita kuvista ja videoista yli 8000 verkkosivustolle
// @description:fr    Trouve des versions plus grandes ou originales d'images et de vidéos pour plus de 8 000 sites web, y compris une puissante fonction de popup média
// @description:fr-CA Trouve des versions plus grandes ou originales d'images et de vidéos pour plus de 8 000 sites web, y compris une puissante fonction de popup média
// @description:he    מוצא גרסאות גדולות יותר או מקוריות של תמונות וסרטונים עבור יותר מ-8000 אתרים
// @description:hi    8000 से अधिक वेबसाइटों के लिए फ़ोटो और वीडियो के बड़े या मूल संस्करण ढूँढता है
// @description:hu    Több mint 8000 webhely képének és videóinak nagyobb vagy eredeti változatát találja
// @description:id    Menemukan versi gambar dan video yang lebih besar atau orisinal untuk lebih dari 8000 situs web
// @description:it    Trova versioni più grandi o originali di immagini e video per oltre 8000 siti web
// @description:ja    8000以上のウェブサイトで高画質や原本画像を見つけ出します
// @description:ko    8000개 이상의 사이트에 대해 고화질이나 원본 이미지를 찾아드립니다
// @description:nb    Finner større eller originale versjoner av bilder og videoer for mer enn 8000 nettsteder
// @description:nl    Vindt grotere of originele versies van foto's en video's voor meer dan 8000 websites
// @description:pl    Wyszukuje większe lub oryginalne wersje obrazów i filmów dla ponad 8000 stron internetowych
// @description:pt-BR Encontra versões maiores ou originais de imagens e vídeos para mais de 8000 sites
// @description:ru    Находит увеличенные или оригинальные версии изображений для более чем 8000 веб-сайтов
// @description:bg    Намира увеличени или оригинални версии на изображения за повече от 8000 уеб сайтове
// @description:uk    Знаходить збільшені або оригінальні версії зображень для більш ніж 8000 веб-сайтів
// @description:th    หาที่ใหญ่กว่าหรือเวอร์ชั่นดั้งเดิมของภาพทั้งหมดและวีดีโอสำหรับมากกว่า 8000 งเว็บไซต์
// @description:tr    8000'den fazla web sitesi için resim ve videoların daha büyük veya orijinal sürümlerini bulur
// @description:vi    Tìm phiên bản lớn hơn hoặc phiên bản gốc của hình ảnh và video cho hơn 8000 trang web
// @description:zh    为8000多个网站查找更大或原始图像
// @description:zh-CN 为8000多个网站查找更大或原始图像
// @description:zh-TW 為8000多個網站查找更大或原始圖像
// @description:zh-HK 為8000多個網站查找更大或原始圖像
// @namespace         http://tampermonkey.net/
// @version           0.19.5
// @author            qsniyg
// @homepageURL       https://qsniyg.github.io/maxurl/options.html
// @supportURL        https://github.com/qsniyg/maxurl/issues
// @icon              https://raw.githubusercontent.com/qsniyg/maxurl/b5c5488ec05e6e2398d4e0d6e32f1bbad115f6d2/resources/logo_256.png
// @include           *
// @grant             GM.xmlHttpRequest
// @grant             GM_xmlhttpRequest
// @grant             GM.setValue
// @grant             GM_setValue
// @grant             GM.getValue
// @grant             GM_getValue
// @grant             GM_registerMenuCommand
// @grant             GM_unregisterMenuCommand
// @grant             GM_addValueChangeListener
// @grant             GM_download
// @grant             GM_openInTab
// @grant             GM.openInTab
// @grant             GM_notification
// @grant             GM.notification
// @grant             GM_setClipboard
// @grant             GM.setClipboard
// @connect           *
// api.github.com is used for checking for updates (can be disabled through the "Check Updates" setting)
// @connect           api.github.com
// @run-at            document-start
// @license           Apache-2.0
// non-greasyfork/oujs versions need updateURL and downloadURL to auto-update for certain userscript managers
// @updateURL         https://raw.githubusercontent.com/qsniyg/maxurl/master/userscript.meta.js
// @downloadURL       https://raw.githubusercontent.com/qsniyg/maxurl/master/userscript_smaller.user.js
//
//  Greasyfork and OpenUserJS have 2MB and 1MB limits for userscripts (respectively).
//  Because of this, the rules (~1.4MB) have been split into a separate file, linked below.
//  Note that jsdelivr.net might not always be reliable, but (AFAIK) this is the only reasonable option from what greasyfork allows.
//  I'd recommend using the Github version of the script if you encounter any issues (linked in the 'Project links' section below).
//
// @require https://cdn.jsdelivr.net/gh/qsniyg/maxurl@978c41e1d3f9fa3960804b7ddc33ed4c6fffb4ca/build/rules.js
// ==/UserScript==

// Due to OpenUserJS's 1MB limit, the source code had to be minified.
// The minification was done by gen_minified.js (in the maxurl repository below) using `uglifyjs -m -c` (v3.13.9).
// This unfortunately renders the code pretty much unreadable, but it was the only way to fit it within the 1MB limit.
// You can view the original source code here: https://github.com/qsniyg/maxurl/blob/master/userscript.user.js
// Please let me know if you have any questions or concerns regarding the script.

var $$IMU_EXPORT$$;!function(){var kr=!1;kr&&(kr={no_request:!1,no_recurse:!1,no_redirect:!0,map:!0,cache:!0,bigimage_recursive:!0,input:!0,check_image_get:!0,find_source:!0},console.log("Loaded"));function c(){}var t,xr=!1,o=!1,r=!1,Sr=null,n=function(){},p=!1,P=!1,qr=!1,a=!1,Tr=null,h="https://qsniyg.github.io/maxurl/options.html",s=h,u="https://addons.mozilla.org/en-US/firefox/addon/image-max-url/",l="https://raw.githubusercontent.com/qsniyg/maxurl/master/userscript_smaller.user.js",Er="https://github.com/qsniyg/maxurl/issues",M=null,Ar=!1,Cr=!0,d=!1,Ir=function(){var e=function(){return"undefined"!=typeof unsafeWindow?unsafeWindow||this.window||window:this.window||window}();return e.self||e},zr=[],Ur=function(e){if(p||!Rn.imu_enabled)return!0;if(e&&xr)try{chrome.runtime.getURL("manifest.json")}catch(e){return Rr(!0),!0}return!1},Rr=function(e){var t=p;(p=e)&&!t&&Qr(zr,function(e){e()})};try{Tr=window.location.href,ae=Tr.replace(/^[a-z]+:\/\/web\.archive\.org\/+web\/+[0-9]+\/+(https?:\/\/)/,"$1"),/^https?:\/\/qsniyg\.github\.io\/+maxurl\/+options\.html/.test(ae)||/^file:\/\/.*\/maxurl\/site\/options\.html/.test(Tr)?a=qr=!0:(/^https?:\/\/qsniyg\.github\.io\/+maxurl\/+/.test(ae)||/^file:\/\/.*\/maxurl\/site\/(?:index|about|options)\.html/.test(Tr))&&(a=!0)}catch(e){}!function(){if("object"==typeof chrome&&chrome&&"object"==typeof chrome.runtime)try{var e=chrome.runtime.getManifest();if(!(xr="Image Max URL"===e.name))return;n=function(e){try{var t=chrome.runtime.lastError;t&&console.error(t.message,e)}catch(e){console.error(e)}},o=/^([-a-z]+)extension:\/\/[^/]+\/+_generated_background_page\.html/.test(Tr),t=chrome.runtime.getURL("extension/options.html"),P=Tr.replace(/[?#].*$/,"")===t,qr=qr||P,s=t,0<=navigator.userAgent.indexOf("Firefox")&&(r=!0),M=e.version,Sr=function(e,t){return e=Cn(e,{json:!0}),t=t||c,o?userscript_extension_message_handler(e,t):t&&t!==c?chrome.runtime.sendMessage(null,e,null,function(){return n(e),t.apply(this,arguments)}):chrome.runtime.sendMessage(null,e)},o||setTimeout(function(){chrome.runtime.connect().onDisconnect.addListener(function(e){console.error(e),n(),Rr(!0)})},10),n()}catch(e){xr&&(console.error(e),n())}}();var m=!1;"undefined"!=typeof module&&module.exports&&"undefined"==typeof window&&"undefined"==typeof document&&(m=!0);var g=!1;"undefined"!=typeof imu_variable&&"undefined"==typeof GM_xmlhttpRequest&&"undefined"==typeof GM&&(g=!0);var be=!1;m||g||xr||(be=!0);var Lr=function(){try{return window.self!==window.top}catch(e){return!0}}(),e=!1,v=(xr||be)&&!o,y="unknown",f="";if(be){var _=void 0;"function"==typeof GM_info?_=GM_info():"object"==typeof GM_info&&(_=GM_info),"object"==typeof _?(_.scriptHandler&&(y=_.scriptHandler),_.version&&(f=_.version)):"function"==typeof GM_fetch&&null===_&&(_={scriptHandler:y="FireMonkey"});try{M=_.script.version}catch(e){M=null}}var Dr,jr=console.log,Pr=console.error,Mr=console.warn,b=console.trace,Nr=function(){};kr&&(Nr=function(){if(kr[arguments[0]]){for(var e=[],t=1;t<arguments.length;t++)e.push(arguments[t]);jr.apply(this,e)}});var w,k,Hr,$r,Fr,x,S,Or,q,Gr,Br,T,E,A,C,Wr,N=JSON.parse,I=function(e){return 0|e};m&&(w=function(e){return Buffer.from(e,"base64").toString("binary")},k=function(e){return Buffer.from(e).toString("base64")});!function(){var n=[];!function(){try{Dr=JSON.stringify}catch(e){Mr("Cannot use native JSON.stringify, using slow implementation instead",e);Dr=function(e){if(void 0!==(t=e)&&"function"!=typeof t){var t;if("string"==typeof e)return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"';if(null===e)return"null";if("number"==typeof e)return e+"";if(Hr(e)){for(var o=[],r=0;r<e.length;r++)void 0===(i=Dr(e[r]))&&(i="null"),o.push(i);return"["+o.join(",")+"]"}if("object"==typeof e){var n,i,o=[];for(n in e)void 0!==(i=Dr(e[n]))&&o.push('"'+n+'":'+Dr(e[n]));return"{"+o.join(",")+"}"}}}}}();!function(){var s,i;v&&(q=EventTarget,s=q.prototype.addEventListener,i=q.prototype.removeEventListener);function u(){l=l||he()}var l=null;Gr=function(t,o,r,e){t===window&&t.unsafeWindow&&(t=t.unsafeWindow);var n=function(){return Ur(!0)};"mousemove"===o&&(n=function(){return Ur(!1)});function i(e){return r(e)}var a=r,r=function(e){if(!n())return a(e);p&&Br(t,o,a)};u(),jn(l,a,i),s.call(t,o,i,e)},Br=function(e,t,o,r){u();var n=Pn(l,o);n?ye(l,n):(Mr("Modified handler not found, defaulting to specified handler"),n=o),i.call(e,t,n,r)}}();var t;(v||g||"function"==typeof HTMLDocument)&&(t=HTMLDocument.prototype.createElement),Wr=function(e){if(t)return t.call(document,e);Pr("Unable to create element",e,", HTMLDocument.prototype.createElement does not exist")};function o(e,t,o,r){if(!e)return t;if(o)try{if(o(e))return e}catch(e){}return r&&n.push(r),t}var e;e=Array.isArray,Hr=e||function(e){return e instanceof Array};!function(){var e=null;try{e=String.fromCharCode}catch(e){}T=o(e,function(){for(var e="",t=0;t<arguments.length;t++)e+="\\u"+("0000"+parseInt(arguments[t]).toString(16)).slice(-4);return N('"'+e+'"')},function(e){return"2"===e(50)&&"d"===e(100)&&"2d"===e("50","100")})}();var r;r=String.prototype.charAt,E=o(function(e,t){return r.call(e,t)},function(e,t){t=e[t];return t=void 0===t?"":t},function(e){var t="abc";return"a"===e(t,0)&&"b"===e(t,1)&&""===e(t,-1)&&""===e(t,3)});m||(w=o(atob,function(e){for(var t,o,r={},n=0,i=0,a="",s=T,u=e.length,l=0;l<64;l++)r[E("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l)]=l;for(t=0;t<u;t++)for(n=(n<<6)+r[E(e,t)],i+=6;8<=i;)((o=n>>>(i-=8)&255)||t<u-2)&&(a+=s(o));return a},function(e){return"test"===e("dGVzdA==")},"atob"),k=o(btoa,function(e){return Mr("Using fake base64 encoder"),e},function(e){return"dGVzdA=="===e("test")},"btoa"));var i;i=Array.prototype.indexOf,$r=o(function(e,t){return i.call(e,t)},function(e,t){"string"==typeof e&&(e=Array.from(e));for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1},function(e){var t=["a","b"];return-1===e(t,"not here")&&1===e(t,"b")&&-1===e("abc","n")&&1===e("abc","b")&&-1===e("abc","bc")});var a;a=Array.prototype.reduce,A=o(function(e,t,o){return void 0!==o?a.call(e,t,o):a.call(e,t)},function(e,t,o){var r=0;if(void 0===o){if(!e.length)throw new TypeError("Reduce of empty array with no initial value");o=e[0],r=1}for(var n=o,i=r;i<e.length;i++)n=t(n,e[i],i,e);return n},function(e){try{return e([]),!1}catch(e){}try{return e([],function(){}),!1}catch(e){}function t(e,t,o){return e.x+t.x+o}return!(!isNaN(e([{x:2},{x:2},{x:2}],t))||9!==e([{x:2},{x:6}],t)||2!==e([{x:2}],t).x||8!==e([{x:2}],t,{x:6}))}),C=function(e,t){return A(this,e,t)};var s;s=String.prototype.indexOf,Fr=o(function(e,t){return s.call(e,t)},function(e,t){if(0===t.length)return 0;for(var o=0,r=0;r<e.length;r++)if(E(e,r)===E(t,o)){if(o+1===t.length)return r-o;o++}else o=0;return-1},function(e){var t="abc";return-1===e(t,"n")&&1===e(t,"b")&&1===e(t,"bc")&&-1===e(t,"bcz")&&0===e(t,"")});var u;m||(u=URL||webkitURL,S=o(u,c,function(e){return"function"==typeof e&&"object"==typeof e.prototype&&("searchParams"in e.prototype&&(!v||"createObjectURL"in e&&"revokeObjectURL"in e))},"URL"));m||(Or=function(e,t,o){t(new x([e],o))},(x=o(Blob,function(){Mr("This is a fake Blob object, you will almost certainly encounter problems.")},function(e){return"function"==typeof e&&"object"==typeof e.prototype&&("slice"in e.prototype&&"size"in e.prototype)},"Blob"))!==Blob&&("function"==typeof Response?Or=function(e,t,o){var r={};o&&o.type&&(r.headers={"Content-Type":o.type}),new Response(e,r).blob().then(function(e){t(e)})}:"function"==typeof File&&(Or=function(e,t,o){t(new File([e],"",o))})));var l={};if(0<n.length){try{!function(e){var t=Wr("iframe");t.srcdoc="",document.documentElement.appendChild(t);for(var o=t.contentWindow,r=0;r<e.length;r++){var n=e[r];l[n]=o[n]}t.parentElement.removeChild(t)}(n)}catch(e){Pr(e)}"Blob"in l&&(x=l.Blob),"URL"in l&&(S=l.URL),"atob"in l&&(w=l.atob),"btoa"in l&&(k=l.btoa)}}();function z(e){return e&&e.length?e:null}function U(e,t){var o=new RegExp(t,"g");if(!(o=e.match(o)))return null;var r=[];return Qr(o,function(e){r.push(e.match(t))}),r}var we,Vr,ke,Xr,Zr,Kr,Yr,Jr=function(e,t){Hr(t)||(t=[t]),[].push.apply(e,t)},Qr=function(e,t,o){if(o){for(var r=[],n=0;n<e.length;n++)r.push(e[n]);e=r}for(n=0;n<e.length;n++)if(!1===t(e[n],n))return},en=function(e,t){$r(e,t)<0&&e.push(t)},tn=function(e,t,o){return e.split(t).join(o)},on=function(e,t){for(var o in e)if(!1===t(o,e[o]))return},rn=function(e,t){for(var o in t)e[o]=t[o];return e},nn={nullfunc:function(){},nullobjfunc:function(){return{func:function(){}}},run_arrayd_string:function(e,t){return e=e.split(""),t.cb(e),e.join("")}};nn.new_vm=function(){function o(e,t){for(var o={stack:[],data:t},r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];o.arg=i,a[n](o)}return t}var a=[function(e){e.stack.unshift(e.data)},function(e){e.stack.unshift(e.arg)},function(e){for(var t=0;t<e.arg;t++)e.stack.shift()},function(e){e.stack.unshift(e.stack[e.arg])},function(e){e.stack[0].push(e.stack[1])},function(e){e.stack[0].unshift(e.stack[1])},function(e){e.stack[0].reverse()},function(e){var t=e.stack[0][e.stack[2]];e.stack[0][e.stack[2]]=e.stack[0][e.stack[1]%e.stack[0].length],e.stack[0][e.stack[1]%e.stack[0].length]=t},function(e){e.stack[0].splice(e.stack[1],1)},function(e){e.stack[0].splice(0,e.stack[1])},function(e){e.stack[0].splice(e.stack[1],e.stack[0].length)},function(e){e.stack[0][e.stack[1]]+=e.stack[2]},function(e){e.stack[0][e.stack[1]]*=e.stack[2]},function(e){e.stack[0][e.stack[1]]*=-1}];return{arch:a,op_start:4,total_instrs:Object.keys(a).length,run:function(t,e){return"string"==typeof e?nn.run_arrayd_string(e,{cb:function(e){return o(t,e)}}):o(t,e)}}},nn.create_vm_ops=function(e){for(var n=[],t=0;t<3;t++)n.push(1,0);return Qr(e,function(e){for(var t=e[0],o=1;o<e.length;o++)n.push(1,e[o]);var r=e.length-1;n.push(0,null,t,null,2,1+r)}),n.push(2,3),n};!function(){if(!m)try{we=Math.floor,Vr=Math.round,ke=Math.random,Xr=Math.max,Zr=Math.min,Kr=Math.abs,Yr=Math.pow}catch(e){we=function(e){return 0|e},Vr=function(e){return we(e+.5)};var u=Date.now(),l=null;ke=function(){if(l=l||nn.new_vm()){for(var e=l.total_instrs-l.op_start,t=[8,9,10,13],o=[],r=(r=15&u)||4,n=0;n<r;n++){var i=((u>>4&15)+(u>>n%8&15))%e+l.op_start;0<=$r(t,i)?r++:o.push([i,(255&u)+n,((15&u)+n)%5])}var a=nn.create_vm_ops(o);try{var s=parseFloat(l.run(a,u+""));isNaN(s)||(u+=s)}catch(e){}}return u+=Date.now(),(u%=1e8)/1e8},Xr=function(){for(var e=-1/0,t=0;t<arguments.length;t++)e<arguments[t]&&(e=arguments[t]);return e},Zr=function(){for(var e=1/0,t=0;t<arguments.length;t++)arguments[t]<e&&(e=arguments[t]);return e},Kr=function(e){return e<0?-e:e},Yr=function(e,t){for(var o=1;o<t;o++)e*=e;return e}}}();function R(){return an(10)+Date.now()}var an=function(e,t){for(var o="";o.length<e;){var r=we(1e9*ke()),r=t?r.toString(10):r.toString(26);o+=r}return o=o.substr(0,e)},sn=function(){return!xr&&Rn&&Rn.use_webarchive_for_lib?"https://web.archive.org/web/20210328063940/https://qsniyg.github.io/maxurl/options.html":s},L={},un=function(){return{id:mn,url:D,size:[window.innerWidth,window.innerHeight]}},ln=function(t){if(t.id in L)return L[t.id];function e(e){return e&&(L[t.id]=e)}for(var o=document.getElementsByTagName("iframe"),r=[],n=0;n<o.length;n++)o[n].src===t.url&&r.push(o[n]);if(0===r.length)r=o;else if(r.length<=1)return e(r[0]);for(o=r,r=[],n=0;n<o.length;n++)o[n].scrollWidth===t.size[0]&&o[n].scrollHeight===t.size[1]&&r.push(o[n]);return r.length<=1?e(r[0]):null},cn=null,pn=null,dn={},mn=null,D=null,j=null,cn=nn.nullfunc,pn=nn.nullfunc,gn="__IMU_MESSAGE__";xr?(j=function(e,t){Sr(t)},e=!0):v&&(Lr&&window.parent&&(L.top=window.parent),j=function(e,t){var o;if((e=!e&&Lr?"top":e)&&e in L&&!(o=function(e){if(!(e in L))return null;if("top"!==e)try{if(L[e].contentWindow)return L[e].contentWindow}catch(e){return!1}return L[e]}(e)))kr&&Mr("Unable to find window for",e,{is_in_iframe:Lr,id_to_iframe:L});else{t.imu=!0;var r={};if(r[gn]=t,o)o.postMessage(r,"*");else for(var n=0;n<window.frames.length;n++)try{window.frames[n].postMessage(r,"*")}catch(e){kr&&Mr("Unable to send message to",window.frames[n],e);continue}}},e=!0,"cafe.daum.net"===window.location.hostname&&(e=!1)),e&&(D=Tr,mn=R()+" "+D,Lr||(mn="top"),cn=function(e,t,o){var r=void 0;o&&(r=R(),dn[r]=o);r={type:"remote",data:t,to:e,from:mn,response_id:r};kr&&jr("remote_send_message",e,r),j(e,r)},pn=function(e,t,o){j(e,{type:"remote_reply",data:o,response_id:t})});var fn=function(){return e&&Rn.allow_remote},_n=function(){return fn()&&Rn.mouseover_use_remote},H=function(o){kr&&jr("do_request_browser",o);var e=o.method||"GET",r=new XMLHttpRequest;r.open(e,o.url,!0),o.responseType&&(r.responseType=o.responseType),o.headers&&on(o.headers,function(e,t){try{r.setRequestHeader(e,t)}catch(e){}});e=function(t,e){r[t]=function(){if(e)return o[t](null);!function(e){kr&&jr("do_request_browser's do_final",r,e);var t={readyState:r.readyState,finalUrl:r.responseURL,responseHeaders:r.getAllResponseHeaders(),responseType:r.responseType,status:r.status,statusText:r.statusText,timeout:r.timeout};t.response=r.response;try{t.responseText=r.responseText}catch(e){}e(t)}(function(e){o[t](e)})}};e("onload"),e("onerror"),e("onprogress"),e("onabort",!0),e("ontimeout",!0);try{r.send(o.data)}catch(e){Pr(e),r.abort()}return{abort:function(){r.abort()}}};try{"function"!=typeof XMLHttpRequest&&(H=null)}catch(e){H=null}var $={},F=null;xr?F=function(t){var o,r=!1;return Sr({type:"request",data:t},function(e){"id"===e.type?(o=e.data,$[o]={id:o,data:t},r&&Sr({type:"abort_request",data:o})):Pr("Internal error: Wrong response",e)}),{abort:function(){if(void 0===o)return Mr("abort() was called before the request was initialized"),void(r=!0);Sr({type:"abort_request",data:o})}}}:"undefined"!=typeof GM_xmlhttpRequest?F="Violentmonkey"===y&&pt(f,"2.12.7")<=0?function(t){var e,o={},r=[];Array.prototype.reduce===C||function(e){e=e.toString();return e.length<80&&0<Fr(e,"native code")}(Array.prototype.reduce)||(e=Array.prototype.reduce,Array.prototype.reduce=C,r.push(function(){Array.prototype.reduce=e}));var n=!1;return r.length&&Qr(["onload","onabort","onerror","ontimeout"],function(e){e in t&&(o[e]=t[e],t[e]=function(){return function(e,t){return n||(Qr(r,function(e){e()}),n=!0),o[e].apply(this,t)}(e,arguments)})}),GM_xmlhttpRequest(t)}:GM_xmlhttpRequest:"undefined"!=typeof GM&&void 0!==GM.xmlHttpRequest&&(F=GM.xmlHttpRequest);var hn=nn.nullfunc,vn=nn.nullfunc,O=0;be&&("undefined"!=typeof GM_registerMenuCommand&&(hn=function(e,t){var o;"string"==typeof t&&(o=t,t=function(){Lr||G(o)});e="["+ ++O+"] "+e,t=GM_registerMenuCommand(e,t);return t=null==t?e:t}),"undefined"!=typeof GM_unregisterMenuCommand&&(vn=function(e){return O--,GM_unregisterMenuCommand(e)}));var G=nn.nullfunc;be&&("undefined"!=typeof GM_openInTab?G=GM_openInTab:"undefined"!=typeof GM&&void 0!==GM.openInTab&&(G=GM.openInTab),G!==nn.nullfunc&&hn("Options",sn()));function B(e){return(!e||0===e.status||null===e.status)&&!(e&&e.finalUrl&&/^file:\/\//.test(e.finalUrl))}var yn=function(e,t,o){xr?Sr({type:"newtab",data:{imu:e,background:t}},o):be&&G&&(G(e.url,t),o&&o())},bn=null;F?bn=function(r){if(kr&&jr("do_request",Cn(r)),"withCredentials"in r||(r.withCredentials=!0),"headers"in r||(r.headers={}),r.imu_mode){var e,t={};for(e in"document"===r.imu_mode||"iframe"===r.imu_mode?(t.accept="text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",t["Sec-Fetch-Dest"]="document"===r.imu_mode?"document":"iframe",t["Sec-Fetch-Mode"]="navigate",t["Sec-Fetch-Site"]="document"===r.imu_mode?"none":"cross-site",t["Sec-Fetch-User"]="?1"):"xhr"===r.imu_mode?(t.accept="*/*",t["Sec-Fetch-Dest"]="empty",t["Sec-Fetch-Mode"]="cors",t["Sec-Fetch-Site"]="same-origin",t.origin=r.url.replace(/^([a-z]+:\/\/[^/]+)(?:\/+.*)?$/,"$1")):"image"===r.imu_mode?(t.accept="image/webp,image/apng,image/*,*/*;q=0.8",t["Sec-Fetch-Dest"]="image",t["Sec-Fetch-Mode"]="no-cors",t["Sec-Fetch-Site"]="same-site"):"video"===r.imu_mode&&(t.accept="*/*",t["Sec-Fetch-Dest"]="video",t["Sec-Fetch-Mode"]="no-cors",t["Sec-Fetch-Site"]="same-site"),delete r.imu_mode,t)void 0===Qn(r.headers,e)&&Tt(r.headers,e,t[e])}if(r.imu_multipart){var o,n="----WebKitFormBoundary"+an(16),i="";for(o in r.imu_multipart)i+="--"+n+'\r\nContent-Disposition: form-data; name="'+o+'"\r\n\r\n',i+=r.imu_multipart[o]+"\r\n";i+="--"+n+"--\r\n",Tt(r.headers,"Content-Type","multipart/form-data; boundary="+n),r.data=i,delete r.imu_multipart}var a=Cn(r);"string"==typeof r.url&&(r.url=r.url.replace(/#.*/,"")),r.onerror||(r.onerror=r.onload),r.ontimeout||(r.ontimeout=r.onerror);var s,u,l,c,p,d,m,g=F;return be&&Rn.allow_browser_request&&("Falkon GreaseMonkey"===y||"USI"===y&&r.need_blob_response)&&(g=H,delete r.trackingprotection_failsafe),r.retry_503&&(!0!==r.retry_503&&"number"==typeof r.retry_503||(r.retry_503=I(Rn.retry_503_times)),0<r.retry_503&&(s=r.onload,u=r.onerror,l=function(e,t){kr&&jr("do_request's finalcb_503:",e,t,Cn(r)),503===e.status?(Mr("Received status 503, retrying request",e,a),a.retry_503=r.retry_503-1,setTimeout(function(){bn(a)},I(Rn.retry_503_ms)||1)):(t?u:s)(e)},r.onload=function(e){l(e,!1)},r.onerror=function(e){l(e,!0)})),r.trackingprotection_failsafe&&Rn.allow_browser_request&&H&&(c=r.onload,p=r.onerror,d=function(e,t){if(kr&&jr("do_request's finalcb:",e,t),B(e)){r.onload=null,r.onerror=null;var o=An(r);return o.onload=c,o.onerror=p,"blob"===o.imu_responseType&&(o.responseType="blob"),H(o)}(t?p:c)(e)},r.onload=function(e){d(e,!1)},r.onerror=function(e){d(e,!0)}),"blob"!==r.responseType||Rn.use_blob_over_arraybuffer||(m=r.onload,r.onload=function(e){function t(){kr&&jr("do_request's arraybuffer->blob:",Cn(e),n),m(n)}var o,r,n=e;e.response?(o=null,xr&&"_responseEncoded"in e&&e._responseEncoded.type?o=e._responseEncoded.type:!e.responseHeaders||(r=Jn(Yn(e.responseHeaders)))["content-type"]&&(o=r["content-type"]),n=An(e),Or(e.response,function(e){n.response=e,t()},o?{type:o}:void 0)):t()},r.responseType="arraybuffer",r.imu_responseType="blob"),kr&&jr("do_request (modified data):",Cn(r)),g(r)}:v&&console.warn("Unable to initialize do_request, most functions will likely fail");function W(e){return Rn.filename_replace_special_underscores?e.replace(/["<>/:?\\*|\^]/g,"_"):e}function V(e,t,o){kr&&jr("do_browser_download",e,t,o);var r=Wr("a");r.href=e.url,t&&0<t.length?r.setAttribute("download",W(t)):(t=document.createAttribute("download"),r.setAttributeNode(t)),r.style.display="none",r.onclick=function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!0},document.body.appendChild(r),r.click(),setTimeout(function(){document.body.removeChild(r)},500),o&&o()}var wn=function(t,o,e,r){jr("do_download",t,o,e,r);var n=be&&"undefined"!=typeof GM_download&&Rn.enable_gm_download,i=parseFloat(Rn.gm_download_max)||0;n&&e&&i&&1024*i*1024<e&&(n=!1);var a,e=!1;if(e=t&&t.url?/^data:/.test(t.url):e)return V(t,o,r);xr?Sr({type:"download",data:{imu:t,filename:W(o),force_saveas:!!Rn.enable_webextension_download}},function(){r&&r()}):n?(t.headers&&(a=qt(t.headers)),(a={url:t.url,headers:a,saveAs:!0,onerror:function(e){e&&e.error&&"not_succeeded"!==e.error&&V(t,o,r)}}).name=o?W(o):"download",kr&&jr("GM_download",Cn(a)),GM_download(a)):V(t,o,r)},kn=function(e,t,o){var r=Li(e);V({url:r},t),setTimeout(function(){Di(r),o&&o()},500)},xn=function(t){this.elements_num=t.elements_num||0,this.total_size=t.total_size||0,this.known_elements={},this.finished=!1;var o=0;this.calc_completion=function(){var o=0,r=0,n=0,i=[];on(this.known_elements,function(e,t){t.size||!t.progress_ratio?(o+=t.size,n+=t.progress,r++):i.push(t)});var t,e,a=this.total_size,s=!0;i.length&&(s=!1,t=r?o/r:1,Qr(i,function(e){o+=t,n+=e.progress_ratio*t,r++})),a||(a=o,0<(e=this.elements_num-r)&&0<r&&(a+=o/r*e,s=!1));s={percent:n/a,total:a,total_accurate:s,loaded:n};return this.finished&&(s.percent=1,s.loaded=s.total),s},this._do_cb=function(){var e=this.calc_completion();e.percent!==o&&(o=e.percent,t.cb(e))},this.update=function(e,t,o){e in this.known_elements||(this.known_elements[e]={progress:0,size:0}),o||!t?(this.known_elements[e].progress=t,this.known_elements[e].size=o):this.known_elements[e].size?this.known_elements[e].progress=t*this.known_elements[e].size:this.known_elements[e].progress_ratio=t,this._do_cb()},this.update_progobj=function(e,t){this.update(e,t.loaded,t.total)},this.finish_id=function(e){this.update(e,1)},this.finish=function(){this.finished=!0,this._do_cb()}},Sn=function(o,d){o.headers||(o.headers={}),o.responseType="arraybuffer";function m(e){if("content-range"in e){e=e["content-range"].split("/");return I(e[1])}return null}function g(r,n,i,a){var e=Cn(o);e.method="GET";var t="bytes="+r+"-";n&&(t+=n-1);var s=r;Tt(e.headers,"Range",t),a?(e.onprogress=function(e){if(e.loaded&&e.total){var t=Jn(Yn(e.responseHeaders)),t=m(t);return a(s,e.loaded,e.total,t)}},e.onload=function(e){var t,o;n&&(t=n-r),(t=e.response?e.response.byteLength:t)||"content-length"in(o=Jn(Yn(e.responseHeaders)))&&(t=I(o["content-length"])),a(s,t,t),i(e)}):e.onload=i,bn(e)}var f=!!d.onprogress,_=null,h=null;f&&(_=new xn({cb:d.onprogress,elements_num:1}),h=function(e,t,o,r){!_.total_size&&r&&(_.total_size=r),_.update(e,t,o)});function v(e){f&&_.finish(),d.onload({data:y,mime:b},e)}var y=null,b=null,w=d.chunk_size;g(0,w=!w&&0!==w?524288:w,function(e){var t=Jn(Yn(e.responseHeaders)),o=0;if(200===e.status)o=e.response.byteLength;else{if(206!==e.status)return Pr("Bad status",e.status,e),d.onload(null,e);if(null===(o=m(t)))return Pr("Unable to find length through content-range"),d.onload(null,e)}if((y=new Uint8Array(o)).set(new Uint8Array(e.response),0),e.response.byteLength>=o)return v(e);"content-type"in t&&(b=t["content-type"]),f&&(_.total_size=o);for(var r,n,i,a,s,u=[],l=e.response.byteLength;;l+=w){var c=[l],p=!0;if(w<o-l&&(c.push(l+w),p=!1),u.push(c),p)break}f&&(_.elements_num+=u.length),(r={concurrency:d.chunks||5,queue:u,runner:function(t,o){g(t[0],t[1],function(e){y.set(new Uint8Array(e.response),t[0]),o()},h)}},i=!(n=function(){v(e)}),a=0,s=function(){if(!r.queue.length)return a<=0?n():void 0;var e=r.queue.shift();a++,r.runner(e,function(){a--,s()})},{add:function(e){r.queue.push(e)},start:function(){if(!i){i=!0;for(var e=r.concurrency;0<e;e--)s()}}}).start()},h)},X=null,Z=null,K=null;v&&(Z=function(e,t){kr&&jr("clipboard_write execcommand",e);var o=document.createElement("textarea");o.style.height="1px",o.style.width="1px",o.style.resize="none",o.style.appearance="none",o.style.border=0,o.style.margin=0,o.style.padding=0,o.style.display="inline",o.style.cursor="default",document.body.appendChild(o),o.innerText=e.text,o.focus(),o.select(),setTimeout(function(){document.body.removeChild(o)},100),t(!!document.execCommand("copy"))},navigator.clipboard&&(navigator.clipboard.write||navigator.clipboard.writeText)&&(K=function(e,t){kr&&jr("clipboard_write clipboard_api",e);var o="text/plain"===e.mime&&navigator.clipboard.writeText;if(!o&&navigator.clipboard.write&&"function"==typeof ClipboardItem){var r={};r[e.mime]=new x([e.text],{type:e.mime});var r=new ClipboardItem(r),r=navigator.clipboard.write([r])}else{if(!o)return t(!1);r=navigator.clipboard.writeText(e.text)}r.then(function(){t(!0)},function(e){console.error(e),t(!1)})})),be&&("function"==typeof GM_setClipboard?X=function(e,t){GM_setClipboard(e.text,e.mime),t(!0)}:"object"==typeof GM&&"function"==typeof GM.setClipboard&&(X=function(e,t){GM.setClipboard(e.text),t(!0)}));var qn=function(o,r){r=r||c,(o="string"==typeof o?{text:o}:o).mime||(o.mime="text/plain");var n=[X,K,Z],i=function(){for(var e,t=0;t<n.length;t++){if(n[t]){e=n[t];break}n.shift(),t--}e(o,function(e){return 0<n.length&&!e?(n.shift(),i()):void r(e)})};i()},Y=null;xr?Y=function(e,t){if(!1===Rn.browser_cookies)return t(null);Sr({type:"getcookies",data:{url:e}},function(e){t(e.data)})}:be&&(Y=function(e,t,o){if(!1===Rn.browser_cookies)return t(null);if((o=o||{}).need_full)return t(null);o=ri(Tr),o=ni(o),e=ri(e);t(o===ni(e)?J(document.cookie):null)});var J=function(e){var o=[],e=e.split(/;\s*/);return Qr(e,function(e){var t=e.match(/^\s*([^=\s]+)\s*=\s*(?:"([^"]+)"|([^"]\S*))\s*$/);t?o.push({name:t[1],value:t[2]||t[3]}):Mr("Unable to parse cookie",e)}),o},Q=function(e){for(var t=[],o=0;o<e.length;o++){var r=e[o].name+"="+e[o].value;t.push(r)}return t.join("; ")},Tn=function(){return!0},ee={fill_object:!0,null_if_no_change:!1,catch_errors:!0,use_cache:!0,use_api_cache:!0,urlcache_time:3600,iterations:200,exclude_problems:["watermark","smaller","possibly_different","possibly_broken"],exclude_videos:!1,include_pastobjs:!0,force_page:!1,allow_thirdparty:!1,allow_thirdparty_libs:!0,allow_thirdparty_code:!1,process_format:{},filter:Tn=v||o?function(e){for(var t=0;t<yt.length;t++)if(yt[t].test(e))return!1;return!0}:Tn,rule_specific:{deviantart_prefer_size:!1,deviantart_support_download:!0,ehentai_full_image:!0,imgur_source:!0,imgur_nsfw_headers:null,instagram_use_app_api:!1,instagram_dont_use_web:!1,instagram_prefer_video_quality:!0,instagram_gallery_postlink:!1,snapchat_orig_media:!0,tiktok_no_watermarks:!1,tiktok_thirdparty:null,tumblr_api_key:null,linked_image:!1},do_request:bn,get_cookies:Y,host_url:null,document:null,window:null,element:null,cb:null},te={url:null,always_ok:!1,likely_broken:!1,can_head:!0,can_multiple_request:!0,head_ok_errors:[],head_wrong_contenttype:!1,head_wrong_contentlength:!1,need_blob:!1,need_data_url:!1,waiting:!1,redirects:!1,forces_download:!1,is_private:!1,is_pagelink:!1,is_original:!1,norecurse:!1,forcerecurse:!1,can_cache:!0,bad:!1,bad_if:[],fake:!1,media_info:{type:"image",delivery:null},video:!1,album_info:null,headers:{},cookie_url:null,need_credentials:!0,content_type:null,max_chunks:0,referer_ok:{same_domain:!1,same_domain_nosub:!1},extra:{page:null,caption:null,created_date:null,updated_date:null,author_username:null,id:null},filename:"",problems:{watermark:!1,smaller:!1,possibly_different:!1,possibly_broken:!1,possibly_upscaled:!1,bruteforce:!1}};function En(e){return e&&"object"==typeof e&&("namespaceURI"in e&&"nodeType"in e&&"nodeName"in e&&"childNodes"in e||("function"==typeof e.HTMLElement&&"object"==typeof e.navigator||!(!v||!(e instanceof Node||e instanceof Element||e instanceof HTMLDocument||e instanceof Window))))}function oe(e){return"object"==typeof e&&null!==e&&!Hr(e)&&!En(e)}var re=function(e){for(var t in result={},e)result[t]=e[t];return result};function An(e){var t=e;if(!oe(e))return t;if(Hr(e)){for(var t=[],o=0;o<e.length;o++){var r=e[o];t.push(r)}return t}return"object"==typeof e?re(e):t}function Cn(t,e){if((e=e||{}).history||(e.history=[]),"string"==typeof t||null==t)return t;if(En(t)||t instanceof RegExp){if(!e.json)return t}else if("function"==typeof t){if(!e.json)return t}else{if("object"!=typeof t)return t;if(!(0<=$r(e.history,t))){if(e.history.push(t),Hr(t))for(var o=[],r=0;r<t.length;r++){var n=t[r];o.push(Cn(n,e))}else for(var i in o={},t)try{o[i]=Cn(t[i],e)}catch(e){o[i]=t[i]}return o}}}"assign"in Object&&(re=function(e){return Object.assign({},e)});var In=function(e){return Cn(e,{json:!0})},ne=function(){var e="";try{e=window.navigator.userAgent}catch(e){}var t="(!!!UNKNOWN, PLEASE FILL IN!!!)\n";try{t=_.script.version}catch(e){}var o="(unable to find)";try{o=Dr(function(){for(var e=N(Dr(Rn)),t=0;t<ce.length;t++)delete e[ce[t]];return e}())}catch(e){}o=["User agent: "+e,"Is userscript: "+be,"Is addon: "+xr,"Image Max URL version: "+t,"Settings: "+o];if(be)try{o.push("Userscript manager: "+y),o.push("Userscript manager version: "+f)}catch(e){}return o.join("\n")};var zn=function(e){return"true"===e||!0===e||1===e||"false"!==e&&!1!==e&&0!==e&&void 0};var ie=["en","es","fr","it","ko","ru"],ae="en";try{ae=("undefined"==typeof navigator?"en":navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage).toLowerCase(),$r(ie,ae)<0&&(ae=ae.replace(/-.*/,""),$r(ie,ae)<0&&(ae="en"))}catch(e){Pr(e),$r(ie,ae)<0&&(ae="en")}var se={options_header:{en:"Options",es:"Opciones",it:"Opzioni",ko:"옵션",ru:"Параметры"},yes:{en:"Yes",es:"Sí",fr:"Oui",it:"Sì",ko:"예",ru:"Да"},no:{en:"No",es:"No",fr:"Non",it:"No",ko:"아니오",ru:"Нет"},Import:{it:"Importa",ko:"가져오기",ru:"Импорт"},Export:{it:"Esporta",ko:"내보내기",ru:"Экспорт"},"Requires:":{it:"Richiede",ko:"요구사항:",ru:"Требуется:"},category_redirection:{en:"Redirection",es:"Redirección",ko:"리디렉션",ru:"Перенаправление"},category_popup:{en:"Popup",es:"Popup",ko:"팝업",ru:"Всплывающее окно"},subcategory_update:{en:"Updates",ru:"Обновление"},subcategory_libraries:{en:"3rd-party libraries"},subcategory_settings:{en:"Settings",es:"Ajustes",ru:"Настройки"},subcategory_ui:{en:"UI",es:"Interfaz",ru:"Интерфейс"},subcategory_trigger:{en:"Trigger",es:"Acciones del popup",fr:"Déclencheur",ko:"트리거",ru:"Действия всплывающего окна"},subcategory_popup_source:{en:"Source",ru:"Источник"},subcategory_open_behavior:{en:"Open Behavior",es:"Comportamiento al Abrir",ko:"열기 동작",ru:"Поведение при открытии"},subcategory_close_behavior:{en:"Close Behavior",es:"Comportamiento al Cerrar",ko:"닫기 동작",ru:"Поведение при закрытии"},subcategory_behavior:{en:"Popup Behavior",es:"Comportamiento del Popup",ru:"Поведение всплывающего окна"},subcategory_video:{en:"Video/Audio",ko:"영상/오디오",ru:"Видео/Аудио"},subcategory_gallery:{en:"Gallery",es:"Galeria",ru:"Галерея"},subcategory_popup_other:{en:"Other",es:"Otro",fr:"Autre",ru:"Прочее"},subcategory_cache:{en:"Cache",ru:"Кэш"},category_keybinds:{en:"Shortcuts",ru:"Горячие клавиши"},subcategory_keybinds_popup_actions:{en:"Popup actions",ru:"Действия всплывающего окна"},"Mouse cursor":{it:"Sposta cursore",ko:"마우스 커서",ru:"Курсор мыши"},category_rules:{en:"Rules",fr:"Règles",ko:"규칙",ru:"Правила"},subcategory_rule_specific:{en:"Rule-specific",ru:"Специфика правил"},category_website:{en:"Website",fr:"Site",ko:"웹사이트",ru:"Сайты"},saved_refresh_target:{en:"Saved! Refresh the target page for changes to take effect",fr:"Enregistré! Actualiser la page que vous visitez pour que les changements prennent effet",ko:"저장됩니다. 번경사항 적용하려면 대상 웹페이지 다시 로드하십시오",ru:"Сохранено с обновлением цели"},saved_no_refresh:{en:"Saved!",fr:"Enregistré!",ko:"저장됩니다",ru:"Сохранено без обновления"},save:{en:"Save",fr:"Enregistrer",ko:"저장",ru:"Сохранить"},record:{en:"Record",ru:"Запись"},cancel:{en:"Cancel",fr:"Annuler",ko:"취소",ru:"Отмена"},"Mouseover popup (%%1) is needed to display the original version":{fr:"Popup (%%1) est nécessaire pour trouver la version originale",it:"Il popup del mouse (%%1) serve a mostrare la versione originale",ko:"원본 이미지 보려면 팝업 (%%1) 필요합니다",ru:"Всплывающее окно наведения курсора мыши (%%1) необходимо для отображения исходной версии"},"custom headers":{fr:"en-têtes spéciales",ko:"특정 헤더",ru:"Пользовательские заголовки"},"forces download":{en:"forces download",ru:"Скачать принудительно"},Close:{fr:"Fermer",it:"Chiudi",ko:"닫기",ru:"Закрыть"},Previous:{fr:"Image précédente",it:"Precedente",ko:"이전",ru:"Предыдущее"},Next:{fr:"Image suivante",it:"Prossimo",ko:"다음",ru:"Следуещее"},"Left Arrow":{fr:"Flèche gauche",it:"Freccia sinistra",ko:"왼쪽 화살표",ru:"Стрелка влево"},"Right Arrow":{fr:"Flèche droite",it:"Freccia destra",ko:"오른쪽 화살표",ru:"Стрелка вправо"},subcategory_extension:{en:"Extension",ru:"Расширения"},rotate_left_btn:{en:"Rotate Left",ru:"Кнопка поворота влево"},rotate_right_btn:{en:"Rotate Right",ru:"Кнопка поворота вправо"},category_extra:{en:"Buttons",ru:"Дополнительно"},subcategory_replaceimages:{en:"Replace Images",ru:"Замена изображений"},subcategory_highlightimages:{en:"Highlight Images",ru:"Выделение изображений"},category_general:{en:"General",es:"General",ko:"일반",ru:"Основное"},"Enable extension":{it:"Abilita estensione",ru:"Включить расширение"},"Globally enables or disables the extension":{it:"Abilita o disabilita globalmente l'estensione",ru:"Включает или отключает расширение глобально"},Language:{es:"Lenguaje",it:"Lingua",ko:"언어",ru:"Язык"},"Language for this extension":{it:"Lingua per questa estensione",ru:"Язык для этого расширения"},English:{ru:"Английский"},"Español":{ru:"Испанский"},"Français":{ru:"Французкий"},Italiano:{ru:"Итальянский"},"한국어":{ru:"Корейский"},"Dark mode":{it:"Modalità scura",ko:"다크 모드",ru:"Тёмная тема"},"Changes the colors to have light text on a dark background":{it:"Cambia i colori per avere testo chiaro su sfondo scuro",ko:"어두운 배경, 밝은 텍스트가 표시되도록 변경합니다.",ru:"Изменяет цвета, делая текст на тёмном фоне, светлым."},"Description below options":{it:"Descrizione sotto le opzioni",ko:"옵션 아래에 설명 표시",ru:"Описание под параметрами"},"Shows the description below the options (otherwise the description is only shown when you hover over the option's name)":{it:"Mostra la descrizione sotto le opzioni (alternativamente, la descrizione viene mostrata solo quando il mouse si trova sopra il nome dell'opzione)",ko:"옵션 아래에 설명 표시 (비활성화 시, 옵션 이름 위에 마우스를 올려 놓을 때만 설명이 표시됨)",ru:"Показывает описание под параметрами (в противном случае описание отображается только при наведении курсора мыши на имя параметра)"},"Show disabled options":{it:"Mostra opzioni inattive",ko:"비활성화된 설정 표시",ru:"Показывать отключенные параметры"},"If disabled, options that are disabled due to their requirements being unmet will not be displayed":{it:"Se inattivo, le opzioni che sono inattive a causa dei loro requisiti necessari non raggiunti non verranno mostrate",ru:"Если этот параметр отключен, то параметры, которые отключены из-за невыполнения их требований, не будут отображаться"},"Show disabled trigger profiles":{ru:"Показывать отключенные целевые профили"},"If disabled, options for alternate trigger profiles (options with `(#2)` after them) will not be shown if the relevant trigger isn't active":{ru:"Если этот параметр отключен, параметры альтернативных целевых профилей (параметры с `(#2)` после них) не будут отображаться, если соответствующий триггер не активен"},"Requirements below disabled options":{ko:"비활성화된 옵션 아래의 요구 사항",ru:"Требования под отключенными параметрами"},"If an option is disabled, the requirements to enable the option will be displayed below it":{ko:"옵션이 비활성화되면 옵션을 활성화하기 위한 요구 사항이 아래에 표시됨",ru:"Если параметр отключен, то под ним будут отображаться требования для его включения"},"Check for updates":{ko:"업데이트 확인",ru:"Проверять наличие обновлений"},"Periodically checks for updates. If a new update is available, it will be shown at the top of the options page":{ru:"Периодически проверяет наличие обновлений. Новое обновление будет показано в верхней части страницы параметров."},"Update check interval":{ko:"업데이트 확인 간격",ru:"Интервал проверки обновления"},"How often to check for updates":{ko:"업데이트 확인 빈도",ru:"Как часто будет происходить проверка наличия обновлений"},hours:{ko:"시간",ru:"ч."},"Notify when update is available":{ko:"업데이트가 있을 때 알림",ru:"Уведомлять о наличии обновления"},"Creates a browser notification when an update is available":{ko:"업데이트가 있을 때 브라우저 알림을 받습니다.",ru:"Создаёт уведомление в браузере, когда обновление доступно."},"Show advanced settings":{ko:"고급 설정 표시",ru:"Показывать дополнительные настройки"},"If disabled, settings that might be harder to understand will be hidden":{ko:"비활성화 시, 이해하기 어려울 수 있는 설정이 숨겨짐",ru:"Если отключено, то более сложные настройки, будут скрыты"},"Use tabs":{ko:"탭 사용",ru:"Использовать вкладки"},"If disabled, all settings will be shown on a single page":{ko:"비활성화 시, 모든 설정이 한 페이지에 표시됩니다.",ru:"Если отключено, все настройки будут отображаться на одной странице"},"Alphabetical order":{ru:"В алфавитном порядке"},"Lists options in alphabetical order":{ru:"Список параметров будет отсортирован в алфавитном порядке"},"Allow using browser XHR":{ru:"Разрешить браузеру использовать XHR"},"This allows XHR requests to be run in the browser's context if they fail in the extension (e.g. when Tracking Protection is set to High)":{ru:"Это позволяет запускать запросы XHR в контексте браузера, если они не работают в расширении (например, когда защита отслеживания установлена на Высокий уровень)"},"Retry requests with 503 errors":{ru:"Повторять запрос с ошибкой 503"},"Amount of times to retry a request when 503 (service unavailable) is returned by the server":{ru:"Количество повторных попыток запроса, когда сервер возвращает 503 (служба недоступна)"},times:{ru:"раз(а)"},"Delay between 503 retries":{ru:"Задержка между повторами 503"},"Time (in milliseconds) to delay between retrying requests that received 503":{ru:"Время (в миллисекундах) для задержки между повторной попыткой запросов при получении 503"},"Use `Blob` over `ArrayBuffer`":{ru:"Использовать `Blob` поверх `ArrayBuffer`"},"Uses `Blob`s for XHRs instead of `ArrayBuffer`s. Keep this enabled unless your userscript manager doesn't support blob requests":{ru:"Использует `Blob`ы для XHR, вместо `ArrayBuffer`ов. Оставьте это включенным, если ваш менеджер пользовательских скриптов не поддерживает запросы blob."},"Live settings reloading":{ru:"Перезагрузка настроек в реальном времени"},"Enables/disables live settings reloading. There shouldn't be a reason to disable this unless you're experiencing issues with this feature":{ru:"Включает/выключает перезагрузку параметров в реальном времени. Не должно быть причин для отключения этой функции. Отключить только если у вас есть с ней проблемы."},"Disable keybindings when editing text":{ru:"Отключить горячие клавиши при редактировании текста"},"Disables shortcuts when key events are sent to an input area on the page":{ru:"Отключает горячие клавиши при отправке событий клавиш в область ввода на странице"},"Use `GM_download` if available":{ru:"Использовать `GM_download`, если доступно"},"Prefers using `GM_download` over simple browser-based downloads, if the function is available. Some userscript managers download the entire file before displaying a save dialog, which can be undesirable for large video files":{ru:"Предпочтительно использует `GM_download` вместо простых скачиваний в браузере, если эта функция доступна. Некоторые менеджеры пользовательских скриптов скачивает весь файл перед отображением диалога сохранения, что может быть нежелательно для больших видеофайлов."},"Maximum size to `GM_download`":{ru:"Максимальный размер для `GM_download`"},"If a file is larger than this size, use a simple browser-based download instead. Set to `0` for unlimited.":{ru:"Если файл больше этого размера, используется простое скачивание через браузер. `0` - неограниченно."},MB:{ru:"МБ"},"Force save dialog when downloading":{ru:"Принудительное диалоговое окно сохранения при скачивании"},"Tries to ensure the 'save as' dialog displays when downloading. This requires the 'downloads' permission to work, and will sometimes not work when custom headers are required.":{ru:"Посторается обеспечить отображение диалогового окна 'Сохранить как' при скачивании. Для этого требуется разрешение на 'скачивание', и иногда не будет работать, когда требуются пользовательские заголовки."},"Enable writing to clipboard":{ru:"Включить запись в буфер обмена"},"This option does nothing on its own, but enabling it allows other functionality that require writing to the clipboard to work":{ru:"Эта опция сама по себе ничего не делает, но её включение позволяет работать другим функциям, требующим записи в буфер обмена."},"Enable redirection":{es:"Habilitar redirección",fr:"Activer la redirection",ko:"리디렉션 사용",ru:"Включить перенаправление"},"Automatically redirect media opened in their own tab to their larger/original versions":{ru:"Автоматически перенаправляет открытое медиа на новую вкладку к их более крупныой/оригинальной версии"},"Allow video":{ru:"Разрешить видео"},"Allows redirecting from/to video":{ru:"Позволяет перенаправлять с/на видео"},"Allow audio":{ru:"Разрешить аудио"},"Allows redirecting from/to audio":{ru:"Позволяет перенаправлять с/на аудио"},"Add to history":{es:"Agregar al historial",fr:"Ajouter à l'historique",ko:"브라우저 기록에 추가",ru:"Добавлять в историю"},"Redirection will add a new entry to the browser's history":{ko:"리디렉션 시, 브라우저의 기록에 새 항목이 추가됨",ru:"Перенаправление будет добавлять новую запись в историю браузера"},"Do redirection in extension":{ru:"Делать перенаправление в расширении"},"Performs the redirection in the extension instead of the content script. This is significantly faster and shouldn't cause issues in theory, but this option is kept in case of regressions":{ru:"Выполняет перенаправление в расширении вместо скрипта содержимого. Теоритически это значительно быстрее и не должно вызывать проблем, но этот параметр сохраняется в случае регрессий."},"Use GET if HEAD is unsupported":{es:"Utilizar GET si HEAD no es soportado",fr:"Utiliser GET si HEAD n'est pas supporté",ko:"HEAD 지원되지 않으면 GET 사용",ru:"Использовать GET, если HEAD не поддерживается"},"Use a GET request to check an image's availability, if the server does not support HEAD requests":{ru:"Будет использоваться GET-запрос для проверки доступности изображения, если сервер не поддерживает запросы HEAD."},"Show image URL in tooltip":{ko:"툴팁에 이미지 URL 표시",ru:"Показывать ссылку изображения во всплывающей подсказке"},"If the popup is needed to display the larger version of an image, display the image link in the tooltip":{ko:"더 큰 버전의 이미지를 표시하기 위해 팝업이 필요한 경우 이미지 링크를 툴팁에 표시함",ru:"Если всплывающее окно необходимо для отображения увеличенной версии изображения, отобразите ссылку на изображение во всплывающей подсказке."},"Hide tooltip after":{ko:"툴팁 숨기기",ru:"Скрыть всплывающую подсказку после"},"Hides the tooltip after the specified number of seconds (or when the mouse clicks on it). Set to 0 to never hide automatically":{ko:"지정된 시간(초) 후에(또는 마우스가 툴팁을 클릭할 때) 툴팁을 숨긴다. 자동으로 숨기지 않으려면 0으로 설정",ru:"Скрывает всплывающую подсказку после указанного количества секунд (или когда мышь щёлкает по ней). 0 - автоматически никогда не скрывать."},"Log info object to console":{ru:"Журнал информации объекта в консоли"},"Prints the full info object to the console whenever a popup/redirect is found":{ru:"Выводит полную информацию объекта в консоль всякий раз, когда обнаруживается всплывающее окно/перенаправление"},"Disable when response headers need modifying":{ru:"Отключать, когда заголовки ответов нуждаются в изменении"},"This option works around Chrome's migration to manifest v3, redirecting some images to being force-downloaded":{ru:"Этот параметр работает вокруг миграции Chrome в manifest v3, перенаправляя некоторые изображения к принудительному скачиванию"},"Redirect to largest without issues":{ko:"문제없이 최대로 리디렉션",ru:"Перенаправлять на самое большое без проблем"},"Redirects to the largest image found that doesn't require custom headers or forces download":{ko:"사용자 지정 헤더나 강제 다운로드가 필요 없는 가장 큰 이미지로 리디렉션",ru:"Перенаправляет на самое большое найденное изображение, которое не требует пользовательских заголовков или принудительного скачивания."},"Redirect for HTML pages too":{ru:"Перенаправлять для HTML-страниц тоже"},"Tries redirection even if the host page is HTML. This option might be useful for dead links. However, this will also result in many normal pages being redirected to images/video, so please avoid enabling this by default!":{ru:"Пытается перенаправить, даже если хост является страницой HTML. Этот параметр может быть полезен для мёртвых ссылок. Однако, это также приведёт к тому, что многие обычные страницы будут перенаправлены на изображения/видео, поэтому, не включайте это по умолчанию!"},"This will result in many pages being redirected to images/videos.\nI'd recommend only enabling this for the media you need it for, then disabling it after.":{ru:"В результате многие страницы будут перенаправлены на изображения/видео.\nЯ бы порекомендовал включать это только для тех медиа, для которых это нужно, а после затем отключить."},"Enable mouseover popup":{en:"Enable image popup",es:"Activar popup de la imagen",fr:"Activer le popup",ko:"이미지 팝업 사용",ru:"Включить всплывающее окно при наведении мыши"},"Show a popup with the larger image when you mouseover an image with the trigger key held (if applicable)":{ko:"트리거 키를 누른 상태로 영상을 마우스로 가리킬 때 더 큰 이미지로 팝업 표시 (가능한 경우)",ru:"Показывать всплывающее окно с увеличенным изображением при наведении курсора мыши на изображение с удерживаемой целевой клавишей (если применимо)."},"Mouseover popup trigger":{en:"Popup trigger",es:"Acción del popup al mover el ratón encima",fr:"Déclencheur du popup",ko:"팝업 트리거",ru:"Действие всплывающего окна при наведении на него мыши"},"How the popup will get triggered":{ko:"팝업 작동 방법",ru:"Как будет срабатывать всплывающее окно"},Mouseover:{es:"Mover ratón encima",ko:"마우스",ru:"При наведение курсора мыши"},"Triggers when your mouse is over the image":{ru:"Срабатывает при наведении курсора на изображении"},"Key trigger":{es:"Tecla de acción",ko:"키 바인딩",ru:"При нажатии клавиши"},"Triggers when you press a key sequence when your mouse is over an image":{ru:"Срабатывает при нажатии комбинации клавиш, когда курсор находится на изображении."},"Disables the popup from being triggered (useful if you only want to use the context menu item)":{ru:"Отключает срабатывание всплывающего окна (полезно, если вы хотите использовать только пункт контекстного меню)"},"Popup trigger key":{es:"Tecla de acción del popup",ko:"팝업 키 바인딩",ru:"Комбинация клавиш запуска всплывающего окна"},"Key sequence to trigger the popup":{ko:"팝업이 작동하는 키",ru:"Комбинация клавиш при которой запускается всплывающее окно"},"Popup trigger key (#2)":{ru:"Комбинация клавиш запуска всплывающего окна (#2)"},"Key sequence to trigger the popup with alternate options. Search for `(#2)` to find the relevant options":{ru:"Комбинация клавиш при которой запускается всплывающее окно с альтернативными параметрами. Ищите `(#2)`, чтобы найти соответствующие параметры."},"Popup trigger key (#3)":{ru:"Комбинация клавиш запуска всплывающего окна (#3)"},"Key sequence to trigger the popup with alternate options. Search for `(#3)` to find the relevant options":{ru:"Комбинация клавиш при которой запускается всплывающее окно с альтернативными параметрами. Ищите `(#3)`, чтобы найти соответствующие параметры."},"Popup trigger delay":{es:"Retraso de acción del popup",ko:"팝업 작업 지연 시간",ru:"Задержка срабатывания всплывающего окна"},"Delay (in seconds) before the popup shows":{ko:"팝업이 표시될 때까지 지연 (초)",ru:"Задержка (в секундах) до появления всплывающего окна"},"Use mouseover event":{ru:"Использовать событие наведения курсора мыши"},"Uses the mouseover event instead of mousemove to figure out where to trigger the popup. This more closely matches the way other image popup addons work, at the cost of configurability":{ru:"Использует событие 'наведения курсора мыши' вместо 'движения курсора мыши', чтобы выяснить, где вызвать всплывающее окно. Это более точно соответствует тому, как работают другие дополнения к всплывающим изображениям, за счёт конфигурируемости/"},"Enable/disable toggle":{ru:"Включить/Выключить"},"Controls whether the 'Popup enable/disable key' will enable or disable the popup from opening":{ru:"Управляет тем, будет ли 'Клавиша включения/отключения всплывающего окна' включать или отключать открытие всплывающего окна."},Enable:{ru:"Включить"},Disable:{ru:"Отключить"},"Popup enable/disable key":{ru:"Клавиша включения/отключения всплывающего окна"},"Holding down this key will enable or disable the popup from being opened, depending on the 'Enable/disable toggle' setting":{ru:"Удерживание этой клавиши включит или отключит всплывающее окно, в зависимости от настройки 'Включить/Выключить'."},"Allow showing partially loaded":{ko:"부분적으로 로드된 상태로 표시 허용",ru:"Разрешить показывать частично загруженные"},"This will allow the popup to open for partially loaded media.\nPartially loaded media will contain the source URL directly (where possible), whereas fully loaded media will use a blob or data URL.":{ru:"Это позволит открыть всплывающее окно для частично загруженных медиа.\nЧастично загруженные медиа будут содержать исходный URL напрямую (где это возможно), тогда как полностью загруженные медиа будут использовать BLOB или URL-адрес данных."},"This will allow the popup to open for partially loaded media, but this might break images that require custom headers to display properly.\nPartially loaded media will contain the source URL directly (where possible), whereas fully loaded media will use a blob or data URL.":{ru:"Это позволит открыть всплывающее окно для частично загруженных медиа, но это может поломать изображения, для правильного отображения которых требуются пользовательские заголовки.\nЧастично загруженные медиа будут содержать исходный URL-адрес напрямую (где это возможно), тогда как полностью загруженные медиа будут использовать BLOB или URL-адрес данных."},Streams:{ru:"Потоки"},"Audio and video":{ru:"Аудио и видео"},Media:{es:"Medios",ko:"미디어",ru:"Медиа"},"Images, audio, and video":{ru:"Изображения, аудио и видео"},"Avoid HEAD request for partially loaded media":{ru:"Избегать запросы HEAD для частично загруженных медиа"},"Avoids a possibly unnecessary HEAD request before displaying partially loaded images, which further decreases the delay before opening the popup. This can cause issues if the server returns an error, but still returns an image":{ru:"Избегает ненужного запроса HEAD перед отображением частично загруженных изображений, что еще больше уменьшает задержку перед открытием всплывающего окна. Это может вызвать проблемы, если сервер вернёт ошибку, но все равно вернет изображение."},"Use `blob:` over `data:` URLs":{ru:"Использовать `blob:` поверх `data:` URL"},"Blob URLs are more efficient, but aren't supported by earlier browsers. Some websites also block `blob:` URLs":{ru:"Blob URL более эффективны, но не поддерживаются старыми браузерами. Некоторые сайты также блокируют `blob:` URL."},"Load media anonymously":{ru:"Загружать медиа анонимно"},"Loads the media without sending any cookies or other forms of credentials. This is required to screenshot videos from other sources":{ru:"Загружает медиа без отправки куки-файлов или других форм учётных данных. Это необходимо для скриншотов видео из других источников."},"Use `not-allowed` cursor when unsupported":{ko:"지원되지 않을 때 허용되지 않는 커서를 사용",ru:"Использовать курсор `запрещено`, если не поддерживается"},"If the image isn't supported, the mouse cursor will change to a `not-allowed` cursor for a brief duration":{ko:"이미지가 지원되지 않으면 마우스 커서가 잠시 동안 허용되지 않는 커서로 변경됨",ru:"Если изображение не поддерживается, курсор мыши на короткое время изменится на `запрещено`."},"Use `not-allowed` cursor when unable to load":{ru:"Использовать курсор `запрещено`, если невозможно загрузить"},"If the image fails to load, the mouse cursor will change to a `not-allowed` cursor for a brief duration":{ko:"이미지를 불러올 수 없으면 마우스 커서가 잠시 동안 허용되지 않는 커서로 변경됨",ru:"Если изображение не загружается, курсор мыши на короткое время изменится на `запрещено`."},"`not-allowed` cursor duration":{ru:"Длительность курсора `запрещено`"},"How long the `not-allowed` cursor should last":{ru:"Как долго отображается курсор `запрещено`"},"Exclude page background":{ko:"페이지 배경 제외",ru:"Исключать фон страницы"},"Excludes the page background for the popup":{ko:"팝업에 대한 페이지 배경 제외",ru:"Исключает фон страницы для всплывающего окна."},"Exclude `background-image`s":{ko:"배경 이미지 제외",ru:"Исключать `background-image`"},"Excludes `background-image`s for the popup. Might prevent the popup from working on many images":{ko:"팝업의 배경 이미지 제외. 팝업이 많은 이미지에서 작동하지 않을 수 있음",ru:"Исключает `background-image` для всплывающего окна. Это может помешать всплывающему окну работать со многими изображениями."},"Exclude image tabs":{ko:"이미지 탭 제외",ru:"Исключать вкладки с изображениями"},"Excludes images that are opened in their own tabs":{ko:"자신의 탭에서 열린 이미지 제외",ru:"Исключает изображения, открытые в собственных вкладках."},"Exclude if media URL is unchanged":{ru:"Исключать, если ссылка медиа не изменилась"},"Don't pop up if the new URL is the same as the source":{ru:"Всплывающее окно не появляется, если ссылка как у источника."},"Only popup for linked media":{ru:"Всплывающее окно только для медиа с ссылкой"},"Don't pop up if the media isn't hyperlinked":{ru:"Всплывающее окно не появляется, если медиа не имеет гиперссылки"},"Popup link for linked media":{ru:"Всплывающее окно ссылки для медиа с ссылками"},"If the linked media cannot be made larger, pop up for the link instead of the media":{ru:"Если медиа с ссылкой не может быть увеличено, всплывает ссылка вместо медиа."},"Exclude image maps":{ko:"이미지 맵 제외",ru:"Исключать карты изображений"},"Don't pop up if the image is an image map (image with multiple clickable areas)":{ko:"이미지가 이미지 맵(클릭 가능한 영역이 여러 개를 가진 이미지)인 경우 팝업 표시 안 함",ru:"Всплывающее окно не появится, если изображение представляет собой карту изображения (изображение с несколькими кликальными областями)."},Autoplay:{ru:"Автовоспроизведение"},"Play automatically once the popup is opened":{ru:"Автоматически воспроизводится после открытия всплывающего окна."},"Show video controls":{ru:"Показывать элементы управления видео"},"Shows native video controls. Note that this prevents dragging under Firefox":{ru:"Показывает встроенные средства управления видео. Обратите внимание, что это предотвращает перетаскивание под Firefox."},"Toggle video controls":{ru:"Переключатель элементов управления видео"},"Key to toggle whether the video controls are shown":{ru:"Клавиша для переключения отображения элементов управления видео"},Loop:{ru:"Зациклить"},"Allows the media to automatically restart to the beginning after finishing playing":{ru:"Позволяет медиа автоматически перезапускаться в начало после завершения воспроизведения."},"Max duration for looping":{ru:"Максимальная длительность зацикливания"},"Media longer than the specified duration will not be automatically looped. Setting this to `0` will always enable looping, regardless of duration.":{ru:"Медиа с дольшей указанной длительностью не будет автоматически зациклены. Установка этого значения на `0` всегда будет включать зацикливание, независимо от длительности."},"Play/pause key":{ru:"Кнопка воспроизведения/приостановки"},"Key to toggle whether the media is playing or paused":{ru:"С помощью этой кнопки, вы сможете воспроизводить или приостанавливать медиа."},Mute:{ru:"Отключать звук"},"Mutes the media by default":{ru:"Отключает звук медиа по умолчанию."},"Toggle mute key":{ru:"Кнопка отключения звука"},"Key to toggle mute":{ru:"С помощью этой кнопки, вы сможете переключать звук."},"Default volume":{ru:"Громкость по умолчанию"},"Default volume for the media":{ru:"Громкость звука для медиа по умолчанию."},"Volume up key":{ru:"Кнопка увеличения громкости"},"Key to increase the volume":{ru:"С помощью этой кнопки, вы сможете увеличить громкость звука."},"Volume down key":{ru:"Кнопка уменьшения громкости"},"Key to decrease the volume":{ru:"С помощью этой кнопки, вы сможете уменьшать громкость звука."},"Volume change amount":{ru:"Величина изменения громкости"},"Percent for volume to increase/decrease when using the volume up/down keys":{ru:"Процент для увеличения/уменьшения громкости при использовании кнопок увеличения/уменьшения громкости."},"Resume playback from source":{ru:"Продолжать воспроизведение из источника"},"If enabled, playback will resume from where the source left off":{ru:"Если включено, воспроизведение будет возобновлено с того места, на котором остановился источник."},"Resume if different length":{ru:"Возобновлять, если разная длина"},"If disabled, it will not resume if the source has a different length from the media in the popup (e.g. from a preview video to a full one)":{ru:"Если отключено, то не возобновляет, если длина из источника отличается от длины медиа во всплывающем окне (например, с предпросмотра видео до полного)"},"Pause source":{ru:"Приостанавливать из источника"},"Pauses the source once the popup has opened":{ru:"Приостанавливает источник после открытия всплывающего окна"},"Seek amount":{ru:"Количество запросов"},"Amount of time to seek forward/back when using the seek keys":{ru:"Количество времени для запроса вперед/назад при использовании кнопок запроса."},"Seek left key":{ru:"Кнопка запроса влево"},"Key to seek backwards by the specified amount":{ru:"С помощью этой кнопки, вы сможете сделать запрос назад от заданого количества."},"Seek right key":{ru:"Кнопка запроса вправо"},"Key to seek forwards by the specified amount":{ru:"С помощью этой кнопки, вы сможете сделать запрос вперёд от заданого количества."},"Previous frame key":{ru:"Кнопка предыдущего кадра"},'Rewinds the video one "frame" backward. Due to current limitations, the frame size is static (but configurable), and might not match the video\'s framerate':{ru:'С помощью этой кнопки, вы сможете перематывать видео на один "кадр" назад. В связи с текущими ограничениями, размер кадра является статичным (но настраиваемым), и может не совпадать с частотой кадров видео.'},"Next frame key":{ru:"Кнопка следующего кадра"},'Advances the video one "frame" forward. Due to current limitations, the frame size is static (but configurable), and might not match the video\'s framerate':{ru:'С помощью этой кнопки, вы сможете перематывать видео на один "кадр" вперёд. В связи с текущими ограничениями, размер кадра является статичным (но настраиваемым), и может не совпадать с частотой кадров видео.'},"Frame rate":{ru:"Частота кадров"},"Frame rate for videos to seek forward/back with the next/previous frame keys":{ru:"Частота кадров видео для запроса вперёд/назад с помощью кнопок следующий/предыдущий кадр"},FPS:{ru:"Кадров в секунду"},"Speed down key":{ru:"Кнопка уменьшения скорости"},"Key to decrease playback rate by a specified amount":{ru:"С помощью этой кнопки, вы сможете уменьшить скорость воспроизведения на заданную величину."},"Speed up key":{ru:"Кнопка увеличения скорости"},"Key to increase playback rate by a specified amount":{ru:"С помощью этой кнопки, вы сможете увеличить скорость воспроизведения на заданную величину."},"Speed up/down amount":{ru:"Величина увеличения/уменьшения скорости"},"How much to increase/decrease the playback rate":{ru:"Насколько увеличить/уменьшить скорость воспроизведения"},"Reset speed key":{ru:"Кнопка сброса скорости"},"Resets the playback rate to normal speed":{ru:"С помощью этой кнопки, вы сможете сбросить скорость воспроизведения до нормальной скорости"},"Screenshot key":{ru:"Кнопка снимка экрана"},"Screenshots the current frame in the video":{ru:"С помощью этой кнопки, вы сможете сделать снимок экрана текущего кадра на видео."},"Screenshot format":{ru:"Формат снимка экрана"},"File format to save the screenshot in":{ru:"Формат файла для сохранения снимка экрана"},"Popup UI":{es:"Interfaz del Popup",ko:"팝업 UI",ru:"Пользовательский интерфейс всплывающего окна"},"Enables a UI on top of the popup":{ru:"Включает пользовательский интерфейс в верхней части всплывающего окна."},"UI Toggle key":{ru:"Кнопка переключения пользовательского интерфейса"},"Toggles the display of the UI":{ru:"С помощью этой кнопи, вы сможете переключать отображение пользовательского интерфейса."},Opacity:{es:"Opacidad",fr:"Opacité",ko:"불투명",ru:"Непрозрачность"},"Opacity of the UI on top of the popup":{ru:"Непрозрачность пользовательского интерфейса в верхней части всплывающего окна."},"Use safe glyphs":{ru:"Использовать безопасные глифы"},"Uses glyphs that are more likely to be available on all fonts. Enable this option if the following characters render as boxes: 🡇 🡐 🡒. The 'Noto Sans Symbols2' font contains these characters.":{ru:"Используются глифы, которые скорее всего, будут доступны на всех шрифтах. Включите этот параметр, если следующие символы отображаются в виде квадратиков: 🡇 🡐 🡒. Шрифт 'Noto Sans Symbols2' содержит эти символы."},"Media resolution":{ru:"Разрешение медиа"},"Displays the original media dimensions on top of the UI.\nCSS ID: `#sizeinfo`":{ru:"Отображает оригинальные размеры медиа в верхней части пользовательского интерфейса.\nИндетификатор CSS: `#sizeinfo`"},"Zoom percent":{ru:"Масштабирование в процентах"},"Displays the current zoom level on top of the UI.\nCSS ID: `#sizeinfo`":{ru:"Отображает текущий уровень масштабирования в верхней части пользовательского интерфейса.\nИндетификатор CSS: `#sizeinfo`"},"File size":{ru:"Размер файла"},"Displays the media's file size on top of the UI. For the moment, this will not work with partially loaded media if 'Avoid HEAD request for partially loaded media' is enabled.\nCSS ID: `#sizeinfo`":{ru:"Отображает размер файла медиа в верхней части пользовательского интерфейса. На данный момент это не будет работать с частично загруженными медиа, если включён параметр 'Избегать запроса HEAD для частично загруженных медиа'.\nИндетификатор CSS: `#sizeinfo`"},"Gallery counter":{es:"Número de imágenes a contar en la galería",fr:"Nombre d'images dans la galerie",ko:"갤러리 이미지 수",ru:"Счётчик галереи"},"Enables a gallery counter on top of the UI.\nCSS ID: `#gallerycounter`":{ru:"Отображает счётчик галереи в верхней части пользовательского интерфейса.\nИндетификатор CSS: `#gallerycounter`"},"Gallery counter max":{es:"Número máximo de imágenes a contar para la galería",fr:"Nombre max d'images a compter pour la galerie",ko:"갤러리 이미지 수의 최대값",ru:"Максимальный счётчик галереи"},"Maximum amount of images to check in the counter (this can be slightly CPU-intensive)":{ru:"Максимальное количество изображений для проверки в счётчике (это может быть слегка ресурсоёмким для процессора)"},"Gallery buttons":{ru:"Кнопки галереи"},"Enables buttons to go left/right in the gallery.\nCSS IDs: `#galleryprevbtn`, `#gallerynextbtn`":{ru:"Включает кнопки влево/вправо в галерее.\nИндетификаторы CSS: `#galleryprevbtn`, `#gallerynextbtn`"},"Close Button":{ru:"Кнопка закрытия"},"Enables a button to close the popup.\nCSS ID: `#closebtn`":{ru:"Включает кнопку для закрытия всплывающего окна.\nИндетификатор CSS: `#closebtn`"},"Options Button":{es:"Botón de Opciones",ko:"설정 링크",ru:"Кнопка параметров"},"Enables a button to go to this page.\nCSS ID: `#optionsbtn`":{ru:"Включает кнопку для перехода на эту страницу.\nИндетификатор CSS: `#optionsbtn`"},"Download Button":{ru:"Кнопка скачивания"},"Enables a button to download the image.\nCSS ID: `#downloadbtn`":{ru:"Включает кнопку скачивания изображения.\nИндетификатор CSS: `#downloadbtn`"},"Rotation Buttons":{ru:"Кнопки вращения"},"Enables buttons on the UI to rotate the image by 90 degrees.\nCSS IDs: `#rotleftbtn`, `#rotrightbtn`":{ru:"Включает кнопки на пользовательском интерфейсе для поворота изображения на 90 градусов.\nИндетификаторы CSS: `#rotleftbtn`, `#rotrightbtn`"},Caption:{ru:"Подпись"},"Shows the image's caption (if available) at the top.\nCSS ID: `#caption`":{ru:"Показывает вверху подпись к изображению (если таковая имеется).\nИндетификаторы CSS: `#caption`"},"Wrap caption text":{ru:"Обернуть текст подписи"},"Wraps the caption if it's too long":{ru:"Обёртывает подпись, если она слишком длинная."},"Link original page in caption":{ru:"Ссылка на оригинальную страницу в подписи"},"Links the original page (if it exists) in the caption":{ru:"Ссылка в заголовке на оригинальную страницу (если она существует)."},"Underline links":{ru:"Подчёркивание ссылок"},"Adds an underline to links (such as the original page)":{ru:"Добавляет подчеркивание к ссылкам (например, оригинальная страница)."},"Keep popup open until":{es:"Mantener popup abierto hasta que",ko:"팝업 닫으려면",ru:"Оставлять всплывающее окно открытым до тех пор, пока"},"Closes the popup when the selected condition is met":{ko:"선택한 조건이 충족되면 팝업 닫기",ru:"Закрывает всплывающее окно при выполнении выбранного условия."},"Any trigger is released":{es:"Cualquier acción se deja ir",ko:"어떤 동작에도 닫힘",ru:"Любая кнопка срабатывания отпущена"},"All triggers are released":{ko:"모든 동작에서 닫힘",ru:"Все кнопки срабатывания отпущены"},"ESC/Close is pressed":{ko:"ESC/닫기 누르기",ru:"Нажато ESC/Закрыть"},"Don't close until mouse leaves":{ko:"마우스가 떠날 때까지 닫지 마십시오.",ru:"Не закрывать пока курсор мыши не будет убран"},"If true, this keeps the popup open even if all triggers are released if the mouse is still over the image":{ko:"활성화 시, 마우스가 이미지 위에 있는 경우 모든 동작에서 닫힘을 선택했더라도 팝업이 계속 열린 상태로 유지됨",ru:"Если true, тогда если мышь всё еще находится на изображении, то всплывающее окно остаётся открытым, даже если все срабатывания отпущены."},"Threshold to leave image":{ko:"이미지를 떠나기 위한 임계값",ru:"Порог для выхода из изображения"},"How many pixels outside of the image before the cursor is considered to have left the image":{ko:"커서가 이미지를 떠난 것으로 파악할 수 있는 이미지 픽셀 수",ru:"Сколько пикселей за пределами изображения перед курсором считается покинувшими изображение."},"Leaving thumbnail cancels loading":{ko:"미리보기를 남기면 로딩이 취소됨",ru:"Отменять загрузку, если миниатюра покинута"},"Cancels the current popup loading when the cursor has left the thumbnail image":{ko:"커서가 축소 이미지에서 벗어날 때 현재 팝업 로딩 취소",ru:"Отменяет загрузку текущего всплывающего окна, когда курсор покинул миниатюру изображения."},"ESC cancels loading":{ko:"ESC 로딩 취소",ru:"ESC отменяет загрузку"},"Cancels the current popup loading if ESC is pressed":{ko:"ESC를 누르면 현재 팝업 로딩이 취소됨",ru:"Отменяет загрузку текущего всплывающего окна при нажатии кноки ESC."},"Releasing triggers cancels loading":{ko:"트리거를 해제하면 로딩이 취소됨",ru:"Отменять загрузку, если кнопки активации отпущены"},'Cancels the current popup loading if all/any triggers are released (as set by the "Keep popup open until" setting)':{ko:'어떤/모든 동작에 닫힘을 선택한 경우 현재 팝업 로딩 취소 ("팝업을 닫으려면" 설정에 의존함)',ru:"Отменяет загрузку текущего всплывающего окна, если все/любые кнопки срабатывания отпущены (в соответствии с настройками 'Оставлять всплывающее окно открытым до тех пор, пока'"},"Automatically close after timeout":{ko:"시간 초과 후 자동으로 닫기",ru:"Автозакрытие после истечения времени"},"Closes the popup automatically after a specified period of time has elapsed":{ko:"지정된 시간이 경과한 후 팝업 자동 닫기",ru:"Автоматически закрывает всплывающее окно по истечении заданного периода времени."},"Timeout to close popup":{ko:"팝업을 닫기 위한 시간 초과 시간(초)",ru:"Времени до закрытия всплывающего окна"},"Amount of time to elapse before automatically closing the popup":{ko:"팝업을 자동으로 닫기 전 경과 시간",ru:"Количество времени, которое должно пройти до автоматического закрытия всплывающего окна."},"Hold key":{ko:"고정 키",ru:"Кнопка удкрживания"},"Hold key that, when pressed, will keep the popup open":{ko:"고정 키를 누르면 팝업이 열린 상태로 유지됨",ru:"Кнопка удерживания, которая при нажатии будет оставлять всплывающее окно открытым."},"Center popup on hold":{ko:"중앙 팝업 고정",ru:"Центрировать всплывающее окно при удерживании"},"Centers the popup to the middle of the page when the popup is held":{ko:"팝업이 열릴 때 팝업을 페이지 중앙에 배치",ru:"Центрирует всплывающее окно на середине страницы, когда оно удерживается."},"Close popup on unhold":{ko:"고정 해제 시, 팝업 닫기",ru:"Зыкрывать всплывающее окно после отпускания удержания всплывающего окна"},"Closes the popup when the hold key is pressed again, after having previously held the popup":{ko:"팝업을 고정한 후 고정 키를 다시 누르면 팝업이 닫힘",ru:"Закрывает всплывающее окно при повторном нажатии клавиши удерживания после предыдущего удержания всплывающего окна."},"Enable pointer events on hold":{ko:"포인터 이벤트 고정 사용",ru:"Включать события указателя при удерживании"},"Enables previously disabled pointer events when the popup is held":{ko:"팝업이 고정될 때 이전에 비활성화된 포인터 이벤트 활성화",ru:"Включает ранее отключенные события указателя при удерживании всплывающего окна."},"Clicking outside the popup closes":{ko:"팝업 바깥쪽을 클릭하면 닫힘",ru:"Закрывать при нажатии за пределами всплывающего окна"},"Closes the popup when the mouse clicks outside of it":{ko:"마우스가 팝업 바깥쪽을 클릭할 때 팝업 닫기",ru:"Закрывает всплывающее окно при нажатии мыши за его пределами."},"Close when leaving":{ko:"떠날 때 닫기",ru:"Закрывать при покидании"},"Closes the popup when the mouse leaves the thumbnail element, the popup, or both":{ru:"Закрывает всплывающее окно, когда мышь покидает элемент миниатюры, всплывающее окно или и то, и другое."},Thumbnail:{ko:"미리보기(썸네일)",ru:"Миниатюры"},Both:{ko:"둘 다",ru:"Обоих"},"Use invisible element when waiting":{ru:"Использовать невидимый элемент при ожидании"},"Creates an invisible element under the cursor when waiting for the popup instead of a style element (can improve performance on websites with many elements, but prevents the cursor from clicking anything while loading the popup)":{ru:"Создаёт невидимый элемент под курсором при ожидании всплывающего окна вместо элемента стиля (может улучшить производительность на сайтах с большим количеством элементов, но не позволяет курсору нажимать на что-либо во время загрузки всплывающего окна)."},"Add popup link to history":{ru:"Добавлять всплывающую ссылку в историю"},"Adds the image/video link opened through the popup to the browser's history":{ru:"Добавляет ссылку на изображение/видео в историю браузера, открытые через всплывающее окно."},"Allow inter-frame communication":{ko:"프레임 간 통신 허용",ru:"Разрешить межфреймовую связь"},"Allows communication between frames in windows, improving support for keybindings":{ko:"창의 프레임 간 통신을 허용하여 키 바인딩에 대한 지원을 개선한다.",ru:"Позволяет осуществлять связь между фреимами в Windows, улучшая поддержку привязки клавиш."},"Allows communication between frames in windows, improving support for keybindings. Can pose a fingerprinting risk when used through the userscript":{ko:"창의 프레임 간 통신을 허용하여 키 바인딩에 대한 지원을 개선합니다. 유저스크립트를 통해 사용 시, 보안에 위협이 있을 수 있습니다",ru:"Позволяет осуществлять связь между фреимами в Windows, улучшая поддержку привязки клавиш. Может представлять риск снятия отпечатков пальцев при использовании через пользовательский скрипт."},"Pop out of frames":{ko:"프레임에서 팝업",ru:"Выходить за рамки"},"Opens the popup on the top frame instead of within iframes. This option is still experimental.":{ru:"Открывает всплывающее окно поверх фрейма, а не внутри iframes. Этот параметр всё ещё является экспериментальным."},"Popup default zoom":{ko:"확대/축소 기본값",ru:"Масштаб всплывающего окна по умолчанию"},"How the popup should be initially sized":{ko:"팝업의 초기 크기 조정 방법",ru:"Каким будет изначальный размер всплывающего окна."},"Fit to screen":{fr:"Adapter a l'ecran",ko:"화면 크기에 맞춤",ru:"По размеру экрана"},"Fill screen":{ko:"화면 채우기",ru:"Заполнить экран"},"Full size":{fr:"Taille réelle",ko:"전체 크기",ru:"Полный размер"},"Custom size":{ko:"맞춤 크기",ru:"Пользовательский размер"},"Custom zoom percent":{ko:"사용자 지정 확대/축소 비율",ru:"Пользовательский процент масштабирования"},"Custom percent to initially size the popup":{ko:"팝업 설정 시, 초기 사용자 지정 확대/축소 비율",ru:"Пользовательский процент для первоначального размера всплывающего окна6"},"Maximum width":{ko:"최대 가로 길이",ru:"Максимальная ширина"},"Maximum width for the initial popup size. Set to `0` for unlimited.":{ko:"초기 팝업 크기의 최대 가로 길이. 무제한의 경우 0으로 설정하십시오.",ru:"Максимальная ширина для начального размера всплывающего окна. `0` - неограниченная ширина."},"Maximum height":{ko:"최대 세로 길이",ru:"Максимальная высота"},"Maximum height for the initial popup size. Set to `0` for unlimited.":{ko:"초기 팝업 크기의 최대 세로 길이. 무제한으로 '0'으로 설정한다.",ru:"Максимальная высота для начального размера всплывающего окна. `0` - неограниченная высота."},"Popup panning method":{ko:"이미지 이동하려면",ru:"Способ панорамирования всплывающего окна"},"How the popup should be panned when larger than the screen":{ru:"Как всплывающее окно должно быть панорамировано, когда оно больше экрана."},Movement:{ko:"마우스 움직입니다",ru:"Перемещение"},"The popup pans as you move your mouse":{ru:"Всплывающее окно панорамируется когда вы перемещаете мышь."},Drag:{ko:"끕니다",ru:"Перетаскивание"},"Clicking and dragging pans the popup":{ru:"Вы можете нажать и перетаскивать панель всплывающего окна."},"Invert movement":{ru:"Инвертировать перемещение"},"Inverts the movement of the mouse. For example, if the mouse moves left, the popup moves right. If disabled, it feels more like the popup is being invisibly dragged.":{ru:"Инвертирует перемещение мышью. Например, если мышь движется влево, всплывающее окно перемещается вправо. Если отключено, то больше похоже на то, что всплывающее окно невидимо перетаскивается."},"Minimum drag amount":{ru:"Минимальное количество для перетаскивания"},"How many pixels the mouse should move to start a drag":{ru:"На сколько пикселей мышь должна переместиться, чтобы начать перетаскивание."},pixels:{ru:"пикселей"},"Vertical scroll action":{ru:"Действие вертикальной прокрутки"},"How the popup reacts to a vertical scroll/mouse wheel event":{ru:"Как всплывающее окно реагирует на событие вертикальной прокрутки/колеса мыши."},Zoom:{ko:"줌",ru:"Масштаб"},"Horizontal scroll action":{ru:"Действие горизонтальной прокрутки"},"How the popup reacts to a horizontal scroll/mouse wheel event":{ru:"Как всплывающее окно реагирует на событие горизонтальной прокрутки/колеса мыши."},Pan:{ko:"이동",ru:"Панель"},Gallery:{ru:"Галерея"},"Vertical video scroll action":{ru:"Действие вертикальной прокрутки видео"},"Overrides the vertical scroll action for videos. Set to `Default` to avoid overriding the behavior.":{ru:"Переопределяет действие вертикальной прокрутки для видео. Установите значение `По умолчанию`, чтобы избежать переопределения поведения."},"Invert vertical scroll seek":{ru:"Инвертировать стремление вертикальной прокрутки"},"Inverts the seek direction when scrolling vertically: Scrolling up will seek right, scrolling down will seek left.":{ru:"Инвертирует направление стремления при вертикальной прокрутке: Прокрутка вверх будет стремиться вправо, прокрутка вниз будет стремиться влево."},"Horizontal video scroll action":{ru:"Действие горизонтальной прокрутки видео"},"Overrides the horizontal scroll action for videos. Set to `Default` to avoid overriding the behavior.":{ru:"Переопределяет действие горизонтальной прокрутки для видео. Установите значение `По умолчанию`, чтобы избежать переопределения поведения."},Default:{ru:"По умолчанию"},Seek:{ru:"Стремление"},None:{ko:"없다",ru:"Ничего"},"Override scroll outside of popup":{ru:"Переопределение прокрутки вне всплывающего окна"},"Scrolling outside of the popup will also be overriden by the script":{ru:"Прокрутка за пределами всплывающего окна также будет переопределена скриптом."},"Zoom origin":{ru:"Начало масштабирования"},"The point on the image it's zoomed in/out from":{ru:"Точка на изображении, от которой оно увеличивается/уменьшается."},Cursor:{ko:"커서",ru:"Курсор"},Center:{ru:"Центр"},"Zoom behavior":{ko:"줌 동작",ru:"Поведение масштабирования"},"How zooming should work":{ru:"Как будет работать масштабирование."},"Fit/Full":{ko:"화면맞춤/전체",ru:"По размеру/Полное"},"Toggles between the full size, and fit-to-screen":{ru:"Переключение между полным размером и по размеру экрану."},Incremental:{fr:"Incrémentale",ko:"증분",ru:"Пошаговое"},"Incremental zoom multiplier":{ru:"Множитель пошагового масштабирования"},"How much to zoom in/out by (for incremental zooming)":{ru:"На сколько увеличить/уменьшить масштаб (для пошагового масштабирования)."},"Move with cursor":{ru:"Перемещение с помощью курсора"},"Moves the popup as the cursor moves":{ru:"Перемещает всплывающее окно по мере перемещения курсора."},"Move within page":{ru:"Перемещение внутри страницы"},"Ensures the popup doesn't leave the page":{ru:"Гарантирует, что всплывающее окно не покинет страницу."},"Zoom out fully to close":{ko:"닫기 위해 완전히 축소",ru:"Закрывать при полном уменьшении масштаба"},"Closes the popup if you zoom out past the minimum zoom":{ko:"최소 크기로 축소할 경우 팝업 닫기",ru:"Закрывает всплывающее окно, если вы уменьшаете масштаб, превышающий минимальный."},"Scroll past gallery end to close":{ru:"Закрывать при прокручивании до конца галереи"},"Closes the popup if you scroll past the end of the gallery":{ru:"Закрывает всплывающее окно, если вы прокручиваете его до конца галереи."},"Popup position":{ko:"팝업 위치",ru:"Положение всплывающего окна"},"Where the popup will appear":{ko:"팝업이 표시되는 위치",ru:"Где появится всплывающее окно."},"Cursor middle":{ko:"커서 중간",ru:"Середина курсора"},"Underneath the mouse cursor":{ko:"마우스 커서 아래",ru:"Под курсором"},"Beside cursor":{ko:"커서 옆",ru:"Рядом с курсором"},"Page middle":{ko:"페이지 중간",ru:"Середина страницы"},"Prevent cursor overlap":{ru:"Предотвратить перекрытие курсора"},"Prevents the image from overlapping with the cursor":{ru:"Предотвращает перекрытие изображение с курсором."},"Hide cursor over popup":{ru:"Скрывать курсор на всплывающем окне"},"Hides the cursor when the mouse is over the popup":{ru:"Скрывает курсор, когда мышь находится на всплывающем окне."},"Hide cursor after":{ru:"Скрывать курсор после"},"Hides the cursor over the popup after a specified period of time (in milliseconds), 0 always hides the cursor":{ru:"Скрывает курсор во всплывающем окне после определенного периода времени (в миллисекундах). `0` - всегда скрывать курсор."},"Mouse jitter threshold":{ru:"Порог дрожания мыши"},"Threshold for mouse movement before the mouse cursor is shown again, 0 always shows the cursor after any movement":{ru:"Порог для перемещения мыши до того, как курсор мыши будет показан снова. `0` - всегда показывать курсор после любого движения."},px:{ru:"пикс."},"Disable pointer events":{ru:"Отключить события указателя"},"Enabling this option will allow you to click on links underneath the popup":{ru:"Включение этого параметра позволит вам нажимать на ссылки под всплывающим окном."},"Ignore clicks outside popup":{ru:"Игнорировать клики вне всплывающего окна"},"Any mouse event outside the popup will be discarded with this option":{ru:"Любое событие мыши вне всплывающего окна будет отменено этим параметром."},"Enable downloading HLS/DASH streams":{ru:"Включить скачивание потоков HLS/DASH"},"Downloads and muxes the contents of the streams rather than the stream information file.\nThis currently does not work under Firefox.":{ru:"Загружает и мультиплексирует содержимое потоков, а не информационный файл потока.\nВ настоящее время это не работает в Firefox."},"Prefer MP4 over MKV":{ru:"Предпочитать MP4, а не MKV"},"Tries to mux the video into mp4 instead of mkv when required. This may slightly slow down muxing as it currently needs to try muxing both.":{ru:"Пытается мультиплексировать видео в mp4 вместо mkv, когда это требуется. Это может слегка замедлить процесс мультиплексирования, так как в настоящее время необходимо попробовать мультиплексировать и то, и другое."},"Link image":{ru:"Ссылка на изображения"},"Adds a link to the image in the popup":{ru:"Добавляет ссылку на изображение во всплывающем окне."},"Link video":{ru:"Ссылка на видео"},"Adds a link to the video in the popup":{ru:"Добавляет ссылку на видео во всплывающем окне."},"Clicking image closes":{ru:"Закрывать изображение по нажатию на него"},"Clicking the popup image closes the popup":{ru:"Нажатие на всплывающее изображение закрывает всплывающее окно."},"Clicking video closes":{ru:"Закрывать видео по нажатию на него"},"Clicking the popup video closes the popup":{ru:"Нажатие на всплывающее видео закрывает всплывающее окно."},"Clicking link downloads":{ru:"Нажатие на ссылку скачивания"},"Instead of opening the link in a new tab, it will download the image/video instead":{ru:"Вместо того чтобы открывать ссылку в новой вкладке, она будет скачивать изображение/видео."},"Close key":{ru:"Клавиша закрытия"},"Closes the popup when this key is pressed. Currently, ESC will also close the popup regardless of the value of this setting.":{ru:"При нажатии этой клавиши, закрывает всплывающее окно. В настоящее время ESC также закроет всплывающее окно независимо от значения этих настроек."},"Download key":{ru:"Клавиша скачивания"},"Downloads the image in the popup when this key is pressed":{ru:"При нажатии этой клавиши, начнёт скачивать изображение во всплывающем окне."},"Open in new tab key":{ru:"Клавиша открытия в новой вкладке"},"Opens the image in the popup in a new tab when this key is pressed":{ru:"При нажатии этой клавиши, открывает изображение во всплывающем окне на новой вкладке."},"Open in background tab key":{ru:"Клавиша открытия в фоновой вкладке"},"Opens the image in the popup in a new tab without switching to it when this key is pressed":{ru:"При нажатии этой клавиши, открывает изображение во всплывающем окне на новой вкладке, не переходя на неё."},"Copy link key":{ru:"Клавиша копирования ссылки"},"Copies the link of the media to the clipboard when this key is pressed":{ru:"При нажатии этой клавиши, копирует ссылку медиа в буфер обмена."},"Open options key":{ru:"Клавиша открытия параметров"},"Opens this page in a new tab when this key is pressed":{ru:"При нажатии этой клавиши, откроет эту страницу в новой вкладке."},"Open original page key":{ru:"Клавиша открытия страницы оригинала"},"Opens the original page (if available) when this key is pressed":{ru:"При нажатии этой клавиши, открывает страницу оригинала (если она доступна)."},"Rotate left key":{ru:"Клавиша поворота влево"},"Rotates the popup 90 degrees to the left":{ru:"При нажатии этой клавиши, поворачивает всплывающее окно на 90 градусов влево."},"Rotate right key":{ru:"Клавиша поворота вправо"},"Rotates the popup 90 degrees to the right":{ru:"При нажатии этой клавиши, поворачивает всплывающее окно на 90 градусов вправо."},"Horizontal flip key":{ru:"Клавиша для отражения по горизонтали"},"Flips the image horizontally":{ru:"При нажатии этой клавиши, зеркально отражает изображение по горизонтали."},"Vertical flip key":{ru:"Клавиша для отражения по вертикали"},"Flips the image vertically":{ru:"При нажатии этой клавиши, зеркально отражает изображение по вертикали."},"Zoom in key":{ru:"Клавиша увеличения масштаба"},"Incrementally zooms into the image":{ru:"При нажатии этой клавиши, увеличивает масштаб изображения."},"Zoom out key":{ru:"Клавиша уменьшения масштаба"},"Incrementally zooms out of the image":{ru:"При нажатии этой клавиши, уменьшает масштаб изображения."},"Full zoom key":{ru:"Клавиша полного масштабирования"},"Sets the image to be at a 100% zoom, even if it overflows the screen":{ru:"При нажатии этой клавиши, устанавливает 100%-ное масштабирование изображения, даже если оно переполняет экран."},"Fit screen key":{ru:"Клавиша подгонки по размеру экрана"},"Sets the image to either be at a 100% zoom, or to fit the screen, whichever is smaller":{ru:"При нажатии этой клавиши, устанавливает изображение либо со 100%-ным масштабом, либо в соответствии с размером экрана, в зависимости от того, что меньше."},"Toggle fullscreen key":{ru:"Клавиша переключения на весь экран"},"Toggles fullscreen mode for the image/video in the popup":{ru:"При нажатии этой клавиши, переключает полноэкранный режим для изображения/видео во всплывающем окне."},"Popup for plain hyperlinks":{ko:"일반적인 링크에도 팝업",ru:"Всплывающее окно для простых гиперссылок"},"Whether or not the popup should also open for plain hyperlinks":{ko:"일반 하이퍼링크의 팝업 열기 여부",ru:"Должно ли всплывающее окно также открываться для простых гиперссылок."},"Only for links that look valid":{ko:"유효해 보이는 링크에만 해당",ru:"Только для ссылок, которые выглядят допустимо"},"Enabling this option will only allow links to be popped up if they look valid (such as if they have a known image/video extension, or are explicitly supported)":{ko:"이 옵션을 활성화하면 링크가 유효한 것으로 보이는 경우에만(예: 알려진 이미지/비디오 확장명이 있거나 명시적으로 지원되는 경우) 링크가 팝업될 수 있음",ru:"Включение этого параметра позволит всплывать ссылкам только в том случае, если они выглядят допустимыми (например, если они имеют известное расширение изображения/видео, или если они явно поддерживаются)."},"Popup page URL":{ru:"Всплывающее окно для URL страниц"},"If no element can be found, try the page URL. Only relevant for pagelink rules, such as image and video hosting websites":{ru:"Если ни один элемент не найден, попробуйте использовать URL-адрес страницы. Fктуально nолько для правил ссылки страницы, таких как сайты хостинга изображений и видео."},"Popup for `<iframe>`":{ko:"<iframe>에 대한 팝업",ru:"Всплывающее окно для `<iframe>`"},"Allows `<iframe>` elements to be popped up as well. Storing images/videos in this way is rather uncommon, but it can allow embeds to be supported":{ko:"<iframe>의 요소들도 팝업이 작동하도록 허용. 이런 식으로 이미지/비디오를 저장하는 것은 다소 드문 일이지만, embeds를 지원할 수 있음",ru:"Позволяет всплывать элементам `<iframe>`. Хранение изображений/видео таким образом довольно редкое явление, но оно может позволить поддерживать встраиваемые файлы."},"Popup for `<canvas>`":{ko:"<canvas>에 대한 팝업",ru:"Всплывающее окно для `<canvas>`"},"Allows `<canvas>` elements to be popped up as well. This will likely cause popups with any kind of web-based games, so it's recommended to keep this disabled":{ko:"<canvas>의 요소들도 팝업이 작동하도록 허용. 이것은 어떤 종류의 웹 기반 게임이라도 팝업을 유발할 가능성이 높으므로, 이 기능을 사용하지 않도록 유지하는 것이 좋음",ru:"Позволяет всплывать элементам `<canvas>`. Это, скорее всего, будет вызывать всплывающие окна с любыми веб-играми, поэтому рекомендуется отключить эту функцию."},"Popup for `<svg>`":{ko:"<svg>에 대한 팝업",ru:"Всплывающее окно для `<svg>`"},"Allows `<svg>` elements to be popped up as well. These are usually used for icons, and can occasionally cause problems for websites that overlay icons on top of images":{ko:"<canvas>의 요소들도 팝업이 작동하도록 허용. 이것은 보통 아이콘에 사용되며, 때때로 이미지 위에 아이콘을 오버레이하는 웹 사이트에 문제를 일으킬 수 있음",ru:"Позволяет всплывать элементам `<svg>`. Обычно они используются для иконок и иногда могут вызывать проблемы для веб-сайтов, которые накладывают иконки поверх изображений."},"Enable gallery":{ru:"Включить галерею"},"Toggles whether gallery detection support should be enabled":{ru:"Переключает, должна ли быть включена поддержка обнаружения галереи."},"Cycle gallery":{ru:"Зациклить галерею"},"Going to the previous image for the first image will lead to the last image and vice-versa":{ru:"Переход к предыдущему изображению с первого изображения приведет к последнему изображению и наоборот."},"Previous gallery item":{ru:"Предыдущий элемент галереи"},"Key to trigger the previous gallery item":{ru:"Клавиша для запуска предыдущего элемента галереи."},"Next gallery item":{ru:"Следующий элемент галереи"},"Key to trigger the next gallery item":{ru:"Клавиша для запуска следующего элемента галереи."},"Gallery download key":{ru:"Клавиша скачивания галереи"},"Key to download the current gallery":{ru:"Клавиша для скачивания текущей галереи."},"Download unchanged media":{ru:"Скачивать медиа без изменений"},"Includes gallery items that have not been changed. Useful to potentially avoid downloading thumbnails":{ru:"Включает в себя элементы галереи, которые не были изменены. Полезно, чтобы потенциально избежать скачивания миниатюр."},"Zip: Store in subdirectory":{ru:"Zip: Хранить в подкаталоге"},"Stores the files in a subdirectory with the same name as the .zip file (without the .zip extension)":{ru:"Хранит файлы в подкаталоге с тем же именем, что и zip-файл (без расширения .zip)."},"Zip: Store info file":{ru:"Zip: Хранить информацию файла"},"Stores a `info.txt` file in the .zip containing information about the downloaded files and host page.":{ru:"Хранит файл `info.txt` в .zip, содержащую информацию о скачаных файлах и странице хоста."},"Move to next when video finishes":{ru:"После заканчивания видео, переходить к следующему"},"Moves to the next gallery item when a video finishes playing":{ru:"Переход к следующему элементу галереи после завершения воспроизведения видео."},"Popup CSS style":{ko:"팝업 CSS",ru:"Стиль CSS всплывающего окна"},"Custom CSS styles for the popup":{ru:"Пользовательские стили CSS для всплывающего окна."},'Most valid CSS is supported, with these differences:\n<ul><li>Multiline comments (<code>/* ... */</code>) are currently not supported</li>\n<li>Single comments (<code>// ...</code>) are supported, but only at the beginning of a line</li>\n<li><code>%thumburl%</code> is the URL of the thumbnail image. For example, you could use it like this: <code>background-image: url(%thumburl%)</code><br />\nThe URL is properly encoded, so quotes are not necessary (but not harmful either)</li>\n<li><code>%fullurl%</code> is the URL of the full image. If IMU fails to find a larger image, it will be the same as <code>%thumburl%</code></li>\n<li>Styles are <code>!important</code> by default</li></ul>\n<p>For Button CSS style, you can also customize the CSS for individual buttons through their IDs. For example:</p>\n<pre>\n#closebtn {\n  background-color: red;\n  // -imu-text allows you to set the text inside the button\n  -imu-text: "Close";\n  // -imu-title allows you to set the tooltip when hovering\n  -imu-title: "Close the popup";\n}\n#galleryprevbtn, #gallerynextbtn {\n  border-radius: 100px;\n}\n</pre>':{ru:'Поддерживается большинство допустимого CSS, с этими отличиями:\n<ul><li>Многострочные комментарии (<code>/* ... */</code>) в настоящее время не поддерживаются</li>\n<li>Одиночные комментарии (<code>// ...</code>) поддерживаются, но только в начале строки</li>\n<li><code>%thumburl%</code> - это URL-адрес миниатюры изображения. Например, вы можете использовать его следующим образом: <code>background-image: url(%thumburl%)</code><br />\nURL правильно закодирован, поэтому кавычки не нужны (но и не навредят)</li>\n<li><code>%fullurl%</code> - это URL-адрес полного изображения. Если IMU не может найти увеличенное изображение, оно будет таким же, как <code>%thumburl%</code></li>\n<li>Стили по умолчанию как <code>!important</code></li></ul>\n<p>Для стиля CSS кнопок, вы также можете настроить CSS для отдельных кнопок с помощью их идентификаторов. Например:</p>\n<pre>\n#closebtn {\n  background-color: red;\n  // -imu-text позволяет установить текст внутри кнопки\n  -imu-text: "Закрыть";\n  // -imu-title позволяет установить всплывающую подсказку при наведении курсора\n  -imu-title: "Закрыть всплывающее окно";\n}\n#galleryprevbtn, #gallerynextbtn {\n  border-radius: 100px;\n}\n</pre>'},"Enable popup fade":{ru:"Включить эффект затухания для всплывающего окна"},"Enables a fade in/out effect when the popup is opened/closed":{ru:"Включает эффект затухания/появления при открытии/закрытии всплывающего окна."},"Enable zoom effect":{ru:"Включить эффект масштабирования"},"Toggles whether the popup should 'zoom' when opened/closed":{ru:"Переключает, должно ли всплывающее окно 'масштабироваться' при открытии/закрытии."},"Move from thumbnail when zooming":{ru:"Перемещение от миниатюры при масштабировании"},"Moves the popup from the thumbnail to the final location while zooming. The animation can be a little rough":{ru:"Перемещает всплывающее окно от миниатюр до окончательного местоположения во время масштабирования. Анимация может быть немного грубой."},"Popup animation time":{ru:"Время анимации всплывающего окна"},"Fade/zoom animation duration (in milliseconds) for the popup":{ru:"Уменьшение/увеличение продолжительности анимации (в миллисекундах) для всплывающего окна."},"Enable background CSS":{ru:"Включить фон CSS"},"Toggles whether CSS styles for the background when the popup is active is enabled":{ru:"Переключает, включены ли стили CSS для фона, когда всплывающее окно активно."},"On hold":{ru:"При удерживании"},No:{ru:"Нет"},"Background CSS style":{ru:"Стиль CSS для фона"},"CSS style for the background when the popup is active. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)":{ru:"Стиль CSS для фона, когда всплывающее окно активно. Дополнительные сведения смотрите в документации 'Стилизация CSS всплывающего окна' (здесь не поддерживаются переменные URL thumb/full)."},"Background fade":{ru:"Затухание фона"},"Fade in/out time (in milliseconds) for the page background, set to 0 to disable":{ru:"Время затухания/появления (в миллисекундах) для фона страницы. 0 - отключить"},ms:{ru:"мс"},"Button CSS style":{ru:"Стиль CSS для кнопок"},"Custom CSS styles for the popup's UI buttons. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)":{ru:"Пользовательские стили CSS для кнопок пользовательского интерфейса всплывающего окна. Дополнительные сведения смотрите в документации 'Стилизация CSS всплывающего окна' (здесь не поддерживаются переменные URL thumb/full)."},"Don't popup blacklisted URLs":{ru:"Не открывать чёрные списки URL-адресов во всплывающем окне"},"This option popping up for source media with blacklisted URLs. If this is disabled, the popup will open if the end URL isn't blacklisted, regardless of whether the source is blacklisted.":{ru:"Этот параметр всплывает для оригинальных медиа с URL-адресами в чёрный список. Если этот параметр отключен, всплывающее окно откроется, если конечный URL-адрес не внесён в чёрный список, независимо от того, внесен ли источник в чёрный список."},"Apply blacklist for host websites":{ko:"호스트 웹 사이트에 블랙리스트 적용",ru:"Применять чёрный список для хост-сайтов"},"This option prevents the script from opening any popups to host websites that are in the blacklist. For example, adding `twitter.com` to the blacklist would prevent any popup from opening on twitter.com. If disabled, this option only applies to image URLs (such as twimg.com), not host URLs":{ko:"이 옵션은 스크립트가 블랙리스트에 있는 호스트 웹 사이트에 팝업을 적용하는 것을 방지한다. 예를 들어 twitter.com을 블랙리스트에 추가하면 twitter.com에서 어떤 팝업도 열리지 않게 된다. 비활성화된 경우 이 옵션은 호스트 URL이 아닌 이미지 URL(예: twimg.com)에만 적용됨",ru:"Этот параметр не позволяет скрипту открывать любые всплывающие окна сайтам, которые находятся в чёрном списке. Например, добавление `twitter.com` в чёрный список предотвратит открытие всплывающих окон на twitter.com. Если этот параметр отключен, он применяется только к URL-адресам изображений (например, twimg.com), а не URL-адресам хостов."},"Don't popup different media type":{ru:"Нет всплывающих окон для других типов медиа"},"This option prevents the popup from loading a video when the source was an image or vice-versa":{ru:"Этот параметр запрещает всплывающему окну загружать видео, если источником было изображение, или наоборот."},"Element finding mode":{ru:"Режим поиска элементов"},"How IMU should find the media element on the page.":{ru:"Как IMU будет искать медиа-элементы на странице."},"This will result in a much higher CPU load for websites such as Facebook, and will occasionally return the wrong element.\nUse this option with caution.":{ru:"Это приведет к гораздо более высокой загрузке процессора для таких сайтов, как Facebook, и иногда будет возвращать неправильный элемент.\nИспользуйте этот параметр с осторожностью."},Full:{ru:"Полный"},"Manually looks through every element on the page to see if the cursor is above them. This will result in a higher CPU load for websites such as Facebook, and may return the wrong element":{ru:"Вручную просматривает каждый элемент на странице, чтобы увидеть, находится ли курсор над ними. Это приведет к более высокой загрузке процессора для таких сайтов, как Facebook, и может вернуть неправильный элемент."},Hybrid:{ru:"Гибридный"},"Looks manually through every child element of the last element found by `getElementsAtPoint`. Use this option if in doubt, it'll work on most sites":{ru:"Просматривает вручную каждый дочерний элемент последнего элемента, найденного с помощью `getElementsAtPoint`. Используйте этот вариант, если у вас есть сомнения. Он будет работать на большинстве сайтов."},Simple:{ru:"Простой"},"This is the fastest option, which uses the value of `getElementsAtPoint` without modification. Works for sites that don't use pointer-events:none and shadow DOM":{ru:"Это самый быстрый вариант, который использует значение `getElementsAtPoint` без изменений. Работает для сайтов, которые не используют pointer-events:none и shadow DOM."},"Use cache":{ru:"Использовать кэш"},"Cache duration":{ru:"Длительность кэширования"},"How long for media to remain cached. Set to `0` for unlimited.":{ru:"Как долго медиа будут оставаться в кэше. `0` - всегда."},minutes:{ru:"мин."},"Cache item limit":{ru:"Лимит элементов кэша"},"Maximum number of individual media to remain cached. Set to `0` for unlimited.":{ru:"Максимальное количество отдельных медиа для сохранения в кэше. `0` - без ограничения."},items:{ru:"эл."},"Resume videos":{ru:"Возобновлять видео"},"If a video popup was closed then reopened, the video will resume from where it left off":{ru:"Если всплывающее окно видео было закрыто, а затем снова открыто, видео возобновится с того места, где оно было остановлено."},"Use userscript":{fr:"Utiliser ce userscript",ko:"유저스크립트 사용하기",ru:"Использовать пользовательский скрипт"},"Replaces the website's IMU instance with the userscript":{ru:"Заменяет сайт экземпляра IMU на пользовательский скрипт."},"Website image preview":{ko:"링크 붙인 후 이미지 미리보기",ru:"Предпросмотр изображения сайта"},"Enables a preview of the image on the Image Max URL website":{ru:"Включает предварительный просмотр изображения на сайте Image Max URL"},"IMU entry in context menu":{ru:"Добавить IMU в контекстное меню"},"Enables a custom entry for this extension in the right click/context menu":{ru:"Включает пользовательскую запись для этого расширения в контекстном меню (нажатие правой кнопкой мыши)."},"Hot (re)load":{ru:"Горячая (пере)загрузка"},"(Re)loads the extension on all existing pages when installing or updating":{ru:"(Пере)загружает расширение на всех существующих страницах при установке или обновлении."},"Custom XHR for libraries":{ru:"Пользовательский XHR для библиотек"},"Allows the use of more powerful XHR (network requests) for 3rd-party libraries. This allows for certain DASH streams to work.":{ru:"Позволяет использовать более мощные XHR (сетевые запросы) для сторонних библиотек. Это позволяет работать определенным потокам DASH."},"Allows the use of more powerful XHR  (network requests) for 3rd-party libraries. This allows for certain DASH streams to work. Using this with the userscript version currently poses a potential security risk.":{ru:"Позволяет использовать более мощные XHR (сетевые запросы) для сторонних библиотек. Это позволяет работать определенным потокам DASH. Использование его в версии пользовательского скрипта в настоящее время представляет собой потенциальный риск для безопасности."},"Instagram (downloading)":{ru:"Instagram (скачивание)"},"HLS/DASH maximum quality":{ru:"Максимальное качество HLS/DASH"},"Uses the maximum quality for HLS/DASH streams":{ru:"Использует максимальное качество для потоков HLS/DASH."},"Maximum video quality":{ru:"Максимальное качество видео"},"Maximum quality for videos":{ru:"Максимальное качество для видео."},"(unlimited)":{ru:"(неограниченное)"},"Larger watermarked images":{ko:"더 크지만 워터마크 있는 이미지",ru:"Большие изображения с водяными знаками"},"Enables rules that return larger images that include watermarks":{ru:"Включает правила, возвращающие более крупные изображения с водяными знаками."},"Stock photo websites":{ru:"Сайты со стоковыми фото"},"Smaller non-watermarked images":{ko:"더 작지만 워터마크 없는 이미지",ru:"Небольшие изображения без водяных знаков"},"Enables rules that return smaller images without watermarks":{ru:"Включает правила, возвращающие меньшие изображения без водяных знаков."},"Possibly different images":{fr:"Images possiblement différentes",ko:"다를 수 있는 이미지",ru:"Возможно, разные изображения"},"Enables rules that return images that possibly differ, usually due to server-side caching":{ru:"Включает правила, возвращающие изображения, которые могут отличаться, как правило, из-за кэширования на стороне сервера."},"Possibly broken images":{fr:"Images possiblement brisée",ko:"손상될 수 있는 이미지",ru:"Возможно, сломанные изображения"},"Enables rules that return images that are possibly broken":{ru:"Включает правила, возвращающие изображения, которые могут быть поломаны."},"Possibly upscaled images":{ru:"Возможно, увеличенные изображения"},"Enables rules that return images that are possibly upscaled":{ru:"Включает правила, возвращающие изображения, которые могут быть увеличены."},"Rules using 3rd-party websites":{fr:"Règles utilisant des sites 3rd-party",ko:"서드파티 사이트를 사용하는 규칙",ru:"Правила использования сторонних сайтов"},"Enables rules that use 3rd-party websites":{ru:"Включает правила, которые используют сторонние сайты."},Newsen:{ko:"뉴스엔"},"Rules using API calls":{ru:"Правила, использующие вызовы API"},"Enables rules that use API calls. Strongly recommended to keep this enabled":{ru:"Включает правила, использующие вызовы API. Настоятельно рекомендуется оставлять эту функцию включённой."},"Allow 3rd-party libraries":{ru:"Разрешить сторонние библиотеки"},"Enables using 3rd-party libraries. This is both used in rules and as a prerequisite for certain functionality.":{ru:"Позволяет использовать сторонние библиотеки. Это используется как в правилах, так и в качестве предварительного условия для определённой функциональности."},"Enables using 3rd-party libraries. This is both used in rules and as a prerequisite for certain functionality.\nThere is a possible (but unlikely) security risk for the userscript version.":{ru:"Позволяет использовать сторонние библиотеки. Это используется как в правилах, так и в качестве предварительного условия для определённой функциональности.\nСуществует возможный (но маловероятный) риск безопасности для версии пользовательского скрипта."},"Sites using testcookie (slowAES)":{ru:"Сайты, использующие testcookie (slowAES)"},"Rules executing 3rd-party code":{ru:"Правила выполнения стороннего кода"},"Enables rules that execute arbitrary 3rd-party code stored on websites.":{ru:"Включает правила, которые выполняют произвольный сторонний код, хранящийся на сайтах."},"This could lead to security risks, please be careful when using this option!":{ru:"Это может привести к угрозам безопасности, будьте осторожны при использовании этого параметра!"},"Rules using brute-force":{ru:"Правила, использующие грубую силу"},"Enables rules that require using brute force (through binary search) to find the original image":{ru:"Включает правила, требующие использования грубой силы (через бинарный поиск) для поиска оригинального изображения."},"DeviantART: Prefer size over original":{ru:"DeviantART: Предпочитать размер оригиналу"},"Prefers a larger (but not upscaled) thumbnail image over a smaller original animated image":{ru:"Предпочитает больше (но не увеличенное) миниатюрное изображение меньшему оригинальному анимированному изображению."},"DeviantART: Use download links":{ru:"DeviantART: Использовать ссылки для скачивания"},"Prefers using the download link (if available) by default. Note that this only works if you're logged in to DeviantART":{ru:"Предпочитает использовать ссылку для скачивания (если она доступна) по умолчанию. Обратите внимание, что это работает, только если вы вошли в свою учётную запись DeviantART."},"E-Hentai: Use full image":{ru:"E-Hentai: Использовать полное изображение"},"Prefers using full/original images if available (logged in). This is more likely to get you rate limited":{ru:"Предпочитает использовать полные/оригинальные изображения, если таковые имеются. (требуется вход). Скорее всего, это ограничит вашу скорость."},"Imgur: Use original filename":{ru:"Imgur: Использовать оригинальное имя файла"},"If the original filename (the one used to upload the image) is found, use it instead of the image ID":{ru:"Если найдено оригинальное имя файла (используемое для скачивания изображения), используйте его вместо идентификатора изображения."},"Imgur: Use source image":{ru:"Imgur: Использовать изображение источника"},"If a source image is found for Imgur, try using it instead. Only works for old-style Imgur webpages (set `postpagebeta=0; postpagebetalogged=0` as cookies)":{ru:"Если для Imgur найдено изображение источника, попробуйте использовать его вместо этого. Работает только для веб-страниц Imgur старого стиля (установите `postpagebeta=0; postpagebetalogged=0` как cookie)."},"Instagram: Use native API":{ru:"Instagram: Использовать родной API"},"Instagram: Don't use web API":{ru:"Instagram: Без использования веб-API"},"Avoids using Instagram's web API if possible, which increases performance, but will occasionally sacrifice quality for videos":{ru:"Избегает использования веб-API Instagram, если это возможно, что повышает производительность, но иногда жертвует качеством видео."},"Instagram: Prefer quality over resolution":{ru:"Instagram: Предпочитать качество разрешению"},"Prefers lower resolution videos that use a higher bitrate over higher resolution images. This adds a slight performance cost as it needs to fetch headers for multiple videos":{ru:"Предпочитает видео с более низким разрешением, которые используют более высокий битрейт по сравнению с изображениями с более высоким разрешением. Это добавляет небольшие затраты на производительность, так как это нуждается в получении заголовков для нескольких видео."},"Instagram: Use albums for post thumbnails":{ru:"Instagram: Использовать альбомы для миниатюр постов"},"Queries Instagram for albums when using the popup on a post thumbnail":{ru:"Запросы к Instagram для альбомов при использовании всплывающего окна на миниатюре поста."},"Snapchat: Use original media without captions":{ru:"Snapchat: Использовать оригинальные медиа без подписей"},"Prefers using original media instead of media with captions and tags overlayed":{ru:"Предпочитает использовать оригинальные медиа вместо медиа с наложенными подписями и тегами."},"TikTok: Don't use watermarked videos":{ru:"TikTok: Не использовать видео с водяными знаками"},"Uses non-watermarked videos for TikTok if possible. This will introduce an extra delay when loading the video as two extra requests need to be performed. It will also fail for any videos uploaded after ~late July 2020":{ru:"По возможности использует видео без водяных знаков для TikTok. Это приведёт к дополнительной задержке при загрузке видео, так как необходимо выполнить два дополнительных запроса. Это не будет работать для любых видео, загруженных после ~конца июля 2020 года."},"TikTok: 3rd-party watermark removal":{ru:"TikTok: Удаление водяных знаков третьей стороной"},"Uses a 3rd-party watermark removal site for TikTok.\nI do not endorse any of the sites supported. They may log your IP address and videos you submit. Use this option with caution.\n`LQ` = Low quality, `PL` = Public log":{ru:"Использует сторонний сайт удаления водяных знаков для TikTok.\nЯ не одобряю ни один из поддерживаемых сайтов. Они могут регистрировать ваш IP-адрес и видео, которые вы отправляете. Используйте этот параметр с осторожностью.\n`НК` = Низкое качество, `ПЖ` = Публичный журнал"},"(none)":{ru:"(ничего)"},"keeptiktok.com (LQ)":{ru:"keeptiktok.com (НК)"},"ssstiktok.io (LQ)":{ru:"ssstiktok.io (НК)"},"musicallydown.com (LQ/PL)":{ru:"musicallydown.com (НК/ПЖ)"},"snaptik.app (LQ)":{ru:"snaptik.app (НК)"},"Tumblr: API key":{ru:"Tumblr: ключ API"},"API key for finding larger images on Tumblr":{ru:"Ключ API для поиска больших изображений на Tumblr"},"Twitter: Use extension":{ru:"Twitter: Использовать расширение"},"Prefers `.jpg?name=orig` over `?format=jpg&name=orig`. This will possibly incur extra requests before succeeding":{ru:"Предпочитает `.jpg?name=orig` поверх `?format=jpg&name=orig`. Это, возможно, принесёт дополнительные запросы, прежде чем завершиться."},Blacklist:{ko:"블랙리스트",ru:"Чёрный список"},"A list of URLs (one per line) that are blacklisted from being processed":{ru:"Список URL-адресов (по одному на строку), которые занесены в чёрный список для обработки."},"The examples below are written for the simple (glob) engine, not the regex engine. The glob engine is generally based on the UNIX glob syntax.<br />\n<ul><br />\n<li><code>google.com</code> will block https://google.com/, https://www.google.com/, https://abcdef.google.com/, https://def.abc.google.com/, etc.</li>\n<li><code>abc.google.com</code> will block https://abc.google.com/, https://def.abc.google.com/, etc.</li>\n<li><code>*.google.com</code> will block https://www.google.com/, https://def.abc.google.com/, etc. but not https://google.com/</li>\n<li><code>google.*/</code> will block https://google.com/, https://www.google.co.uk, etc.</li>\n<li><code>http://google.com</code> will block http://google.com/, but not https://google.com/, http://www.google.com/, etc.</li>\n<li><code>google.com/test</code> will block https://google.com/test, https://www.google.com/test/abcdef, but not https://google.com/, etc.</li>\n<li><code>google.com/*/test</code> will block https://google.com/abc/test, but not https://google.com/test or https://google.com/abc/def/test</li>\n<li><code>google.com/**/test</code> will block https://google.com/abc/test, https://google.com/abc/def/test, https://google.com/abc/def/ghi/test, etc. but not https://google.com/test</li>\n<li><code>g??gle.com</code> will block https://google.com/, https://gaagle.com/, https://goagle.com/, etc.</li>\n<li><code>google.{com,co.uk}</code> will block https://google.com/ and https://google.co.uk/</li>\n<li><code>g[oau]ogle.com</code> will block https://google.com/, https://gaogle.com/, and http://www.guogle.com/</li>\n<li><code>g[0-9]ogle.com</code> will block https://g0ogle.com/, https://g1ogle.com/, etc. (up to https://g9ogle.com/)</li>\n</ul>":{ru:"Приведенные ниже примеры написаны для простого (glob) движка, а не для движка регулярных выражений. Механизм glob обычно основан на синтаксисе UNIX glob.<br />\n<ul><br />\n<li><code>google.com</code> будет блокировать https://google.com/, https://www.google.com/, https://abcdef.google.com/, https://def.abc.google.com/, и т.д.</li>\n<li><code>abc.google.com</code> будет блокировать https://abc.google.com/, https://def.abc.google.com/, и т.д.</li>\n<li><code>*.google.com</code> будет блокировать https://www.google.com/, https://def.abc.google.com/, и т.д., но не https://google.com/</li>\n<li><code>google.*/</code> будет блокировать https://google.com/, https://www.google.co.uk, и т.д.</li>\n<li><code>http://google.com</code> будет блокировать http://google.com/, но не https://google.com/, http://www.google.com/, и т.д.</li>\n<li><code>google.com/test</code> будет блокировать https://google.com/test, https://www.google.com/test/abcdef, но не https://google.com/, и т.д.</li>\n<li><code>google.com/*/test</code> будет блокировать https://google.com/abc/test, но не https://google.com/test или https://google.com/abc/def/test</li>\n<li><code>google.com/**/test</code> будет блокировать https://google.com/abc/test, https://google.com/abc/def/test, https://google.com/abc/def/ghi/test, и т.д., но не https://google.com/test</li>\n<li><code>g??gle.com</code> будет блокировать https://google.com/, https://gaagle.com/, https://goagle.com/, и т.д.</li>\n<li><code>google.{com,co.uk}</code> будет блокировать https://google.com/ и https://google.co.uk/</li>\n<li><code>g[oau]ogle.com</code> будет блокировать https://google.com/, https://gaogle.com/, и http://www.guogle.com/</li>\n<li><code>g[0-9]ogle.com</code> будет блокировать https://g0ogle.com/, https://g1ogle.com/, и т.д. (вплоть до https://g9ogle.com/)</li>\n</ul>"},"Blacklist engine":{ko:"블랙리스트 엔진",ru:"Движок чёрного списка"},"How the blacklist should be processed":{ru:"Как следует обрабатывать чёрный список."},"Simple (glob)":{ko:"단순 (glob)",ru:"Простой (glob)"},Regex:{ko:"정규식",ru:"Регулярное выражение"},"Filename format":{ru:"Формат имени файла"},"Format string(s) for the filename":{ru:"Формат строк(и) для имени файла."},Documentation:{ru:"Документация"},"Trigger keybinding that will run the Replace Images function":{ru:"Вызывает привязку клавиш, которая запустит функцию замены изображений."},"Automatically replace images":{ru:"Автозамена изображений"},"Automatically replace images to larger versions on pages you view":{ru:"Автозамена изображений на более крупные версии на просматриваемых страницах."},"This could lead to rate limiting or IP bans":{ru:"Это может привести к ограничению скорости или блокировке IP-адреса."},"Use data URLs":{ru:"Использовать data URL"},"Uses data:// URLs instead of image links. Disabling this may improve compatibility with some bulk image downloader extensions":{ru:"Использует data:// URL вместо ссылок на изображения. Отключение этого параметра может улучшить совместимость с некоторыми расширениями массового скачивания изображений."},"Wait until image is fully loaded":{ru:"Ждать полную загрузку изображения"},"Waits until the image being replaced is fully loaded before moving on to the next image":{ru:"Ждёт пока заменяемое изображение не будет полностью загружено прежде чем перейти к следующему изображению."},"Max images to process at once":{ru:"Максимально изображений для одновременной обработки"},"The maximum amount of images to process at once":{ru:"Максимальное количество изображений для обработки одновременно."},"Max images per domain at once":{ru:"Максимально изображений на домен одновременно"},"The maximum amount of images per domain to process at once":{ru:"Максимальное количество изображений на домен для одновременной обработки."},images:{es:"imágenes",ko:"이미지",ru:"Изображения"},"Delay between same-domain images":{ru:"Задержка между однодоменными изображениями."},"New requests for images in the same domain will be delayed by this amount of seconds. Useful for avoiding rate limits.":{ru:"Новые запросы на изображения в том же домене будут задерживаться на это количество секунд. Полезно для избежания ограничений скорости."},seconds:{es:"segundos",ko:"초",ru:"сек."},"Replace images":{ru:"Заменять изображения"},"Replaces images to their larger versions when the button is pressed":{ru:"Заменяет изображения на их более крупные версии при нажатии кнопки."},"Add links":{ru:"Добавлять ссылки"},"Adds links around replaced media if a link doesn't already exist":{ru:"Добавляет ссылки вокруг заменённых медиа, если ссылки ещё не существует."},"Replace links":{ru:"Заменять ссылки"},"Replaces links if they already exist":{ru:"Заменяет ссылки, если они уже существуют."},"Plain hyperlinks":{ru:"Простые гиперссылки"},"How to treat plain (non-media) hyperlinks that link to potential media":{ru:"Как обращаться с простыми (немедийными) гиперссылками, которые ссылаются на потенциальные медиа."},"Replace link+text":{ru:"Заменять ссылку+текст"},"Replace media":{ru:"Заменять медиа"},"Links open in new tab":{ru:"Открывать ссылки в новой вкладке"},"Clicking on a replaced link will open the media in a new tab":{ru:"Нажатие на заменённую ссылку откроет медиа в новой вкладке."},Ignore:{ru:"Игнорировать"},"Replacement CSS":{ru:"Замена CSS"},"CSS styles to apply to replaced media. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't yet supported here)":{ru:"Стили CSS для применения к заменяемым медиа. Дополнительные сведения смотрите в документации 'Стилизация CSS всплывающего окна' (здесь не поддерживаются переменные URL thumb/full)."},"Simple progress":{ru:"Простой прогресс"},"Uses a simpler progress bar that has a fixed size for all media. This is useful to see how many images are replaced, rather than the ETA":{ru:"Использует более простую шкалу прогресса, которая имеет фиксированный размер для всех медиа. Это полезно для того, чтобы увидеть, сколько изображений заменено, а не ждать."},"Enable trigger key":{ru:"Включить клавишу действия"},"Enables the use of the trigger key to run it without needing to use the menu":{ru:"Позволяет использовать клавишу действия для запуска без необходимости использования меню."},"Trigger key":{ru:"Клавиша действия"},"Trigger keybinding that will run the Highlight Images function":{ru:"Привязка клавиши действия, которое будет запускать функцию подсветки изображений."},"Enable button":{ru:"Включить кнопку"},"Enables the 'Highlight Images' button":{ru:"Включает кнопку 'Подсветить изображения'."},"Automatically highlight images":{ru:"Автоподсвечивать изображения"},"Automatically highlights images as you view pages":{ru:"Автоматически подсвечивает изображения при просмотре страниц."},Always:{ru:"Постоянно"},Hover:{ru:"Наведение"},"When hovering over an image":{ru:"При наведении курсора на изображение."},Never:{ru:"Никогда"},"Only explicitly supported images":{ru:"Только явно поддерживаемые изображения"},"Only highlights images that can be made larger or the original version can be found":{ru:"Подсвечивает только изображения, которые могут быть увеличены или можно найти их оригинальную версию."},"Highlight CSS":{ru:"CSS подсветка"},"CSS style to apply for highlight. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)":{ru:"Стилизация CSS, для применения к подсветке. Дополнительные сведения смотрите в документации 'Стилизация CSS всплывающего окна' (здесь не поддерживаются переменные URL thumb/full)."},"Mouseover popup action":{en:"Popup action",es:"Acción del popup",ko:"이미지 팝업 작업",ru:"Действие всплывающего окна при наведение курсора"},"Determines how the mouseover popup will open":{ko:"마우스오버 팝업이 열리는 방식",ru:"Определяет, как откроётся всплывающее окно при наведении курсора мыши."},Popup:{ko:"팝업",ru:"Всплывающее окно"},"New tab":{es:"Nueva pestaña",fr:"Nouvel onglet",ko:"새 탭",ru:"Новая вкладка"},"New background tab":{ru:"Новая фоновая вкладка"},Download:{ru:"Скачать"},"Copy link":{ru:"Копировать ссылку"},Replace:{ru:"Заменить"},"Enable videos":{ru:"Включить видео"},"Allows videos to be popped up":{ru:"Позволяет открывать всплывающеее окно для видео"},"Enable audio":{ru:"Включить аудио"},"Allows audio to be popped up. Currently experimental.\nThis only applies to audio files. Videos that contains audio are supported regardless of this setting.":{ru:"Позволяет открывать всплывающее окно для аудио. В настоящее время экспериментальный.\nЭто относится только к аудиофайлам. Видео, содержащие аудио, поддерживаются независимо от этой настройки."},"Allow HLS/DASH streams":{ru:"Разрешить потоки HLS/DASH"},"Allows playback of HLS/DASH streams":{ru:"Позволяет воспроизводить потоки HLS/DASH."},"Instagram (higher quality)":{ru:"Instagram (более высокое качество)"},"YouTube (higher quality)":{ru:"YouTube (более высокое качество)"}},ue=function(e){var t=[e],o=e.replace(/-.*/,"");return o!==e&&t.push(o),t};function Un(e){if("string"!=typeof e)return e;var t=ue(Rn.language);if(e in se){for(var o=!1,r=0;r<t.length;r++){var n=t[r];if(n in se[e]){e=se[e][n],o=!0;break}}!o&&"en"!==n&&"en"in se[e]&&(e=se[e].en)}if(Fr(e,"%")<0)return e;for(var i=[],a="",r=0;r<e.length;r++){if("%"==e[r]&&r+2<e.length&&"%"==e[r+1]){var s=I(e[r+2]);if(!isNaN(s)){i.push(a),a="",i.push(arguments[s]),r+=2;continue}}a+=e[r]}return i.push(a),i.join("")}var le=["mouseover_trigger","mouseover_use_fully_loaded_video","mouseover_use_fully_loaded_image","mouseover_close_on_leave_el","mouseover_scroll_behavior","mouseover_mask_styles","mouseover_video_seek_vertical_scroll","mouseover_video_seek_horizontal_scroll","mouseover_support_pointerevents_none","mouseover_enable_mask_styles","allow_video","allow_audio","replaceimgs_remove_size_constraints"],Rn={imu_enabled:!0,language:ae,check_updates:!0,check_update_interval:24,check_update_notify:!1,dark_mode:!1,settings_tabs:!0,settings_alphabetical_order:!1,settings_visible_description:!0,settings_show_disabled:!0,settings_show_disabled_profiles:!1,settings_show_requirements:!0,advanced_options:!1,allow_browser_request:!0,retry_503_times:3,retry_503_ms:2e3,use_blob_over_arraybuffer:!1,allow_live_settings_reload:!0,allow_remote:!0,disable_keybind_when_editing:!0,enable_gm_download:!0,gm_download_max:15,enable_webextension_download:!1,write_to_clipboard:!1,redirect:!0,redirect_video:!0,redirect_audio:!1,redirect_history:!0,redirect_extension:!0,canhead_get:!0,redirect_force_page:!1,redirect_enable_infobox:!0,redirect_infobox_url:!1,redirect_infobox_timeout:7,print_imu_obj:!1,redirect_disable_for_responseheader:!1,redirect_to_no_infobox:!1,redirect_host_html:!1,mouseover:!0,mouseover_open_behavior:"popup",mouseover_trigger_behavior:"keyboard",mouseover_trigger_key:["shift","alt","i"],mouseover_trigger_key_t2:[],mouseover_trigger_key_t3:[],mouseover_trigger_delay:1,mouseover_trigger_mouseover:!1,mouseover_trigger_enabledisable_toggle:"disable",mouseover_trigger_prevent_key:["shift"],mouseover_close_behavior:"esc",mouseover_close_need_mouseout:!0,mouseover_jitter_threshold:30,mouseover_cancel_popup_when_elout:!0,mouseover_cancel_popup_with_esc:!0,mouseover_cancel_popup_when_release:!0,mouseover_auto_close_popup:!1,mouseover_auto_close_popup_time:5,mouseover_hold_key:["i"],mouseover_hold_position_center:!1,popup_hold_zoom:"none",mouseover_hold_close_unhold:!1,mouseover_hold_unclickthrough:!0,mouseover_close_el_policy:"both",mouseover_close_click_outside:!1,mouseover_allow_partial:xr?"media":"video",mouseover_partial_avoid_head:!1,mouseover_use_blob_over_data:!1,popup_use_anonymous_crossorigin:!1,mouseover_enable_notallowed:!0,mouseover_enable_notallowed_cant_load:!0,mouseover_notallowed_duration:300,mouseover_minimum_size:20,popup_maximum_source_size:0,mouseover_exclude_backgroundimages:!1,mouseover_exclude_page_bg:!0,mouseover_exclude_imagemaps:!0,mouseover_only_links:!1,mouseover_linked_image:!1,mouseover_exclude_sameimage:!1,mouseover_exclude_imagetab:!0,mouseover_allow_video:!0,mouseover_allow_audio:!1,mouseover_allow_hlsdash:!0,enable_stream_download:!1,stream_mux_mp4_over_mkv:!1,hls_dash_use_max:!0,max_video_quality:null,mouseover_video_autoplay:!0,mouseover_video_controls:!1,mouseover_video_controls_key:["c"],mouseover_video_loop:!0,mouseover_video_autoloop_max:0,mouseover_video_playpause_key:["space"],mouseover_video_muted:!1,mouseover_video_mute_key:["m"],mouseover_video_volume:100,mouseover_video_volume_down_key:["9"],mouseover_video_volume_up_key:["0"],mouseover_video_volume_change_amt:5,mouseover_video_resume_from_source:!1,mouseover_video_resume_if_different:!1,mouseover_video_pause_source:!0,mouseover_video_seek_amount:10,mouseover_video_seek_left_key:["shift","left"],mouseover_video_seek_right_key:["shift","right"],mouseover_video_frame_prev_key:[","],mouseover_video_frame_next_key:["."],mouseover_video_framerate:25,mouseover_video_speed_down_key:["["],mouseover_video_speed_up_key:["]"],mouseover_video_speed_amount:.25,mouseover_video_reset_speed_key:["backspace"],mouseover_video_screenshot_key:["shift","s"],popup_video_screenshot_format:"png",mouseover_ui:!0,mouseover_ui_toggle_key:["u"],mouseover_ui_opacity:80,mouseover_ui_use_safe_glyphs:!1,mouseover_ui_imagesize:!0,mouseover_ui_zoomlevel:!0,mouseover_ui_filesize:!1,mouseover_ui_gallerycounter:!0,mouseover_ui_gallerymax:50,mouseover_ui_gallerybtns:!0,mouseover_ui_closebtn:!0,mouseover_ui_optionsbtn:!!be,mouseover_ui_downloadbtn:!1,mouseover_ui_rotationbtns:!1,mouseover_ui_caption:!0,mouseover_ui_wrap_caption:!0,mouseover_ui_caption_link_page:!0,mouseover_ui_link_underline:!0,mouseover_use_remote:!1,mouseover_zoom_behavior:"fit",mouseover_zoom_custom_percent:100,mouseover_zoom_use_last:"gallery",mouseover_zoom_max_width:0,mouseover_zoom_max_height:0,mouseover_pan_behavior:"drag",mouseover_movement_inverted:!0,mouseover_drag_min:5,mouseover_scrolly_behavior:"zoom",mouseover_scrolly_hold_behavior:"default",mouseover_scrollx_behavior:"gallery",mouseover_scrollx_hold_behavior:"default",mouseover_scrolly_video_behavior:"default",mouseover_scrolly_video_invert:!1,mouseover_scrollx_video_behavior:"default",scroll_override_page:!1,scroll_zoom_origin:"cursor",scroll_zoomout_pagemiddle:"never",scroll_zoom_behavior:"fitfull",scroll_incremental_mult:1.25,mouseover_move_with_cursor:!1,mouseover_move_within_page:!0,zoom_out_to_close:!1,scroll_past_gallery_end_to_close:!1,mouseover_position:"cursor",mouseover_prevent_cursor_overlap:!0,mouseover_overflow_position_center:!1,mouseover_overflow_origin:"a11",mouseover_add_link:!0,mouseover_add_video_link:!1,mouseover_click_image_close:!1,mouseover_click_video_close:!1,mouseover_download:!1,mouseover_hide_cursor:!1,mouseover_hide_cursor_after:0,mouseover_mouse_inactivity_jitter:5,mouseover_clickthrough:!1,mouseover_mask_ignore_clicks:!1,mouseover_links:!0,mouseover_only_valid_links:!0,mouseover_allow_self_pagelink:!1,mouseover_allow_iframe_el:!1,mouseover_allow_canvas_el:!1,mouseover_allow_svg_el:!1,mouseover_enable_gallery:!0,mouseover_gallery_cycle:!1,mouseover_gallery_prev_key:["left"],mouseover_gallery_next_key:["right"],mouseover_gallery_move_after_video:!1,mouseover_gallery_download_key:["shift","d"],gallery_download_method:"zip",gallery_download_unchanged:!0,gallery_zip_filename_format:"{host_domain_nosub}-{items_amt}-{download_unix}\n{items_amt}-{download_unix}",gallery_jd_autostart:!1,gallery_jd_referer:"domain",gallery_zip_add_tld:!0,gallery_zip_add_info_file:!0,mouseover_styles:"",mouseover_enable_fade:!0,mouseover_enable_zoom_effect:!1,mouseover_zoom_effect_move:!1,mouseover_fade_time:100,mouseover_enable_mask_styles2:"never",mouseover_mask_styles2:"background-color: rgba(0, 0, 0, 0.5)",mouseover_mask_fade_time:100,mouseover_ui_styles:"",mouseover_wait_use_el:!1,mouseover_add_to_history:!1,mouseover_close_key:["esc"],mouseover_download_key:[["s"],["ctrl","s"]],mouseover_open_new_tab_key:["o"],mouseover_open_bg_tab_key:["shift","o"],mouseover_copy_link_key:["shift","c"],mouseover_open_options_key:["p"],mouseover_open_orig_page_key:["n"],mouseover_rotate_left_key:["e"],mouseover_rotate_right_key:["r"],mouseover_flip_horizontal_key:["h"],mouseover_flip_vertical_key:["v"],mouseover_zoom_in_key:[["+"],["="],["shift","="]],mouseover_zoom_out_key:[["-"]],mouseover_zoom_full_key:["1"],mouseover_zoom_fit_key:["2"],mouseover_fullscreen_key:["f"],mouseover_apply_blacklist:!0,apply_blacklist_host:!1,mouseover_matching_media_types:!1,mouseover_allow_popup_when_fullscreen:!1,mouseover_find_els_mode:"hybrid",popup_allow_cache:!0,popup_cache_duration:30,popup_cache_itemlimit:20,popup_cache_resume_video:!0,website_inject_imu:!0,website_image:!0,extension_contextmenu:!0,extension_hotreload:!0,allow_watermark:!1,allow_smaller:!1,allow_possibly_different:!1,allow_possibly_broken:!1,allow_possibly_upscaled:!1,allow_thirdparty:!1,allow_apicalls:!0,allow_thirdparty_libs:!be,custom_xhr_for_lib:!!xr,use_webarchive_for_lib:!1,lib_integrity_check:!0,allow_thirdparty_code:!1,allow_bruteforce:!1,process_format:{},deviantart_prefer_size:!1,deviantart_support_download:!0,ehentai_full_image:!0,imgur_filename:!1,imgur_source:!1,instagram_use_app_api:!1,instagram_dont_use_web:!1,instagram_prefer_video_quality:!0,instagram_gallery_postlink:!1,snapchat_orig_media:!0,tiktok_no_watermarks:!1,tiktok_thirdparty:null,tumblr_api_key:w("IHhyTXBMTThuMWVDZUwzb1JZU1pHN0NMQUx3NkVIaFlEZFU2V3E1ZUQxUGJNa2xkN1kx").substr(1),twitter_use_ext:!1,bigimage_blacklist:"",bigimage_blacklist_engine:"glob",filename_format:"{author_username} {filename}",filename_replace_special_underscores:!0,replaceimgs_enable_keybinding:!1,replaceimgs_keybinding:["shift","alt","r"],replaceimgs_auto:!1,replaceimgs_replaceimgs:!0,replaceimgs_addlinks:!1,replaceimgs_replacelinks:!1,replaceimgs_plainlinks:"none",replaceimgs_links_newtab:!1,replaceimgs_size_constraints:"none",replaceimgs_usedata:!!be,replaceimgs_wait_fullyloaded:!0,replaceimgs_totallimit:8,replaceimgs_domainlimit:2,replaceimgs_delay:0,replaceimgs_css:"",replaceimgs_simple_progress:!0,highlightimgs_enable_keybinding:!1,highlightimgs_keybinding:["shift","alt","h"],highlightimgs_enable:!1,highlightimgs_auto:"never",highlightimgs_onlysupported:!0,highlightimgs_css:"outline: 4px solid yellow",last_update_check:0,last_update_version:null,last_update_url:null},ce=["tumblr_api_key"],pe={},Ln=2,Dn={imu_enabled:{name:"Enable extension",description:"Globally enables or disables the extension",category:"general",extension_only:!0,imu_enabled_exempt:!0},language:{name:"Language",description:"Language for this extension",category:"general",options:{_type:"combo",en:{name:"English",name_gettext:!1},es:{name:"Español",name_gettext:!1},fr:{name:"Français",name_gettext:!1},it:{name:"Italiano",name_gettext:!1},ko:{name:"한국어",name_gettext:!1},ru:{name:"Русский",name_gettext:!1}},onedit:function(){Kn(lo)},imu_enabled_exempt:!0},dark_mode:{name:"Dark mode",description:"Changes the colors to have light text on a dark background",category:"general",onedit:ao,onupdate:ao,imu_enabled_exempt:!0},settings_visible_description:{name:"Description below options",description:"Shows the description below the options (otherwise the description is only shown when you hover over the option's name)",category:"general",subcategory:"settings",onedit:function(){Kn(lo)},imu_enabled_exempt:!0},settings_show_disabled:{name:"Show disabled options",description:"If disabled, options that are disabled due to their requirements being unmet will not be displayed",category:"general",subcategory:"settings",onedit:function(){Kn(lo)},imu_enabled_exempt:!0},settings_show_disabled_profiles:{name:"Show disabled trigger profiles",description:"If disabled, options for alternate trigger profiles (options with `(#2)` after them) will not be shown if the relevant trigger isn't active",category:"general",subcategory:"settings",requires:{settings_show_disabled:!0},onedit:function(){Kn(lo)},imu_enabled_exempt:!0},settings_show_requirements:{name:"Requirements below disabled options",description:"If an option is disabled, the requirements to enable the option will be displayed below it",category:"general",subcategory:"settings",onedit:function(){Kn(lo)},requires:{settings_show_disabled:!0},imu_enabled_exempt:!0},check_updates:{name:"Check for updates",description:"Periodically checks for updates. If a new update is available, it will be shown at the top of the options page",category:"general",subcategory:"update"},check_update_interval:{name:"Update check interval",description:"How often to check for updates",category:"general",subcategory:"update",requires:{check_updates:!0},type:"number",number_min:1,number_int:!0,number_unit:"hours"},check_update_notify:{name:"Notify when update is available",description:"Creates a browser notification when an update is available",category:"general",subcategory:"update",requires:{check_updates:!0},required_permission:"notifications"},advanced_options:{name:"Show advanced settings",description:"If disabled, settings that might be harder to understand will be hidden",category:"general",subcategory:"settings",onedit:function(){Kn(lo)},imu_enabled_exempt:!0},settings_tabs:{name:"Use tabs",description:"If disabled, all settings will be shown on a single page",category:"general",subcategory:"settings",onedit:function(){Kn(lo)},imu_enabled_exempt:!0},settings_alphabetical_order:{name:"Alphabetical order",description:"Lists options in alphabetical order",category:"general",subcategory:"settings",onedit:function(){Kn(lo)},imu_enabled_exempt:!0},allow_browser_request:{name:"Allow using browser XHR",description:"This allows XHR requests to be run in the browser's context if they fail in the extension (e.g. when Tracking Protection is set to High)",category:"general",imu_enabled_exempt:!0,advanced:!0},retry_503_times:{name:"Retry requests with 503 errors",description:"Amount of times to retry a request when 503 (service unavailable) is returned by the server",category:"general",type:"number",number_min:0,number_int:!0,number_unit:"times",imu_enabled_exempt:!0,advanced:!0},retry_503_ms:{name:"Delay between 503 retries",description:"Time (in milliseconds) to delay between retrying requests that received 503",category:"general",type:"number",number_min:0,number_int:!0,number_unit:"ms",imu_enabled_exempt:!0,advanced:!0},use_blob_over_arraybuffer:{name:"Use `Blob` over `ArrayBuffer`",description:"Uses `Blob`s for XHRs instead of `ArrayBuffer`s. Keep this enabled unless your userscript manager doesn't support blob requests",category:"general",imu_enabled_exempt:!0,advanced:!0,hidden:!0},allow_live_settings_reload:{name:"Live settings reloading",description:"Enables/disables live settings reloading. There shouldn't be a reason to disable this unless you're experiencing issues with this feature",category:"general",hidden:be&&"undefined"==typeof GM_addValueChangeListener,imu_enabled_exempt:!0,advanced:!0},disable_keybind_when_editing:{name:"Disable keybindings when editing text",description:"Disables shortcuts when key events are sent to an input area on the page",category:"keybinds",imu_enabled_exempt:!0,advanced:!0},enable_gm_download:{name:"Use `GM_download` if available",description:"Prefers using `GM_download` over simple browser-based downloads, if the function is available. Some userscript managers download the entire file before displaying a save dialog, which can be undesirable for large video files",category:"general",userscript_only:!0,imu_enabled_exempt:!0,advanced:!0},gm_download_max:{name:"Maximum size to `GM_download`",description:"If a file is larger than this size, use a simple browser-based download instead. Set to `0` for unlimited.",category:"general",userscript_only:!0,imu_enabled_exempt:!0,requires:{enable_gm_download:!0},type:"number",number_min:0,number_unit:"MB",advanced:!0},enable_webextension_download:{name:"Force save dialog when downloading",description:"Tries to ensure the 'save as' dialog displays when downloading. This requires the 'downloads' permission to work, and will sometimes not work when custom headers are required.",category:"general",extension_only:!0,imu_enabled_exempt:!0,required_permission:"downloads"},write_to_clipboard:{name:"Enable writing to clipboard",description:"This option does nothing on its own, but enabling it allows other functionality that require writing to the clipboard to work",category:"general",imu_enabled_exempt:!0,required_permission:"clipboardWrite"},redirect:{name:"Enable redirection",description:"Automatically redirect media opened in their own tab to their larger/original versions",category:"redirection"},redirect_video:{name:"Allow video",description:"Allows redirecting from/to video",requires:{redirect:!0},category:"redirection"},redirect_audio:{name:"Allow audio",description:"Allows redirecting from/to audio",requires:{redirect:!0},category:"redirection"},redirect_history:{name:"Add to history",description:"Redirection will add a new entry to the browser's history",requires:{redirect:!0},category:"redirection"},redirect_extension:{name:"Do redirection in extension",description:"Performs the redirection in the extension instead of the content script. This is significantly faster and shouldn't cause issues in theory, but this option is kept in case of regressions",requires:{redirect:!0},extension_only:!0,advanced:!0,category:"redirection"},canhead_get:{name:"Use GET if HEAD is unsupported",description:"Use a GET request to check an image's availability, if the server does not support HEAD requests",requires:{redirect:!0},category:"redirection",advanced:!0},redirect_force_page:{name:"Try finding extra information",description:"Enables methods that use API calls for finding extra information, such as the original page, caption, or album information. Note that this option does not affect finding the original media.",example_websites:["Flickr","SmugMug","..."],category:"rules"},redirect_enable_infobox:{name:"Enable tooltip",description:"Enables the 'Mouseover popup is needed to display the original version' tooltip",category:"redirection",requires:{redirect:!0},userscript_only:!0},redirect_infobox_url:{name:"Show image URL in tooltip",description:"If the popup is needed to display the larger version of an image, display the image link in the tooltip",category:"redirection",requires:{redirect:!0},userscript_only:!0},redirect_infobox_timeout:{name:"Hide tooltip after",description:"Hides the tooltip after the specified number of seconds (or when the mouse clicks on it). Set to 0 to never hide automatically",requires:{redirect:!0},type:"number",number_min:0,number_unit:"seconds",category:"redirection",userscript_only:!0},print_imu_obj:{name:"Log info object to console",description:"Prints the full info object to the console whenever a popup/redirect is found",category:"rules",advanced:!0},redirect_disable_for_responseheader:{name:"Disable when response headers need modifying",description:"This option works around Chrome's migration to manifest v3, redirecting some images to being force-downloaded",extension_only:!0,hidden:!0,category:"redirection",advanced:!0},redirect_to_no_infobox:{name:"Redirect to largest without issues",description:"Redirects to the largest image found that doesn't require custom headers or forces download",userscript_only:!0,category:"redirection"},redirect_host_html:{name:"Redirect for HTML pages too",description:"Tries redirection even if the host page is HTML. This option might be useful for dead links. However, this will also result in many normal pages being redirected to images/video, so please avoid enabling this by default!",warning:{true:"This will result in many pages being redirected to images/videos.\nI'd recommend only enabling this for the media you need it for, then disabling it after."},category:"redirection",advanced:!0},mouseover:{name:"Enable mouseover popup",description:"Show a popup with the larger image when you mouseover an image with the trigger key held (if applicable)",category:"popup"},mouseover_open_behavior:{name:"Mouseover popup action",description:"Determines how the mouseover popup will open",profiled:!0,hidden:be&&G===nn.nullfunc,options:{_type:"combo",popup:{name:"Popup"},newtab:{name:"New tab"},newtab_bg:{name:"New background tab"},download:{name:"Download"},copylink:{name:"Copy link"},replace:{name:"Replace"}},requires:{mouseover:!0},category:"popup",subcategory:"open_behavior"},mouseover_trigger:{name:"Popup trigger",description:"Trigger key that, when held, will show the popup",options:{_type:"and",_group1:{_type:"and",ctrl:{name:"Ctrl"},shift:{name:"Shift"},alt:{name:"Alt"}},_group2:{_type:"or",delay_1:{name:"Delay 1s"},delay_3:{name:"Delay 3s"}}},requires:{mouseover:!0},category:"popup",subcategory:"trigger"},mouseover_trigger_behavior:{name:"Mouseover popup trigger",description:"How the popup will get triggered",options:{_group1:{mouse:{name:"Mouseover",description:"Triggers when your mouse is over the image"}},_group2:{keyboard:{name:"Key trigger",description:"Triggers when you press a key sequence when your mouse is over an image"}},_group3:{none:{name:"None",description:"Disables the popup from being triggered (useful if you only want to use the context menu item)",extension_only:!0}}},requires:{mouseover:!0},category:"popup",subcategory:"trigger"},mouseover_trigger_key:{name:"Popup trigger key",description:"Key sequence to trigger the popup",type:"keysequence",requires:{mouseover:!0,mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"trigger"},mouseover_trigger_key_t2:{name:"Popup trigger key (#2)",description:"Key sequence to trigger the popup with alternate options. Search for `(#2)` to find the relevant options",type:"keysequence",keyseq_allow_none:!0,requires:{mouseover:!0,mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"trigger"},mouseover_trigger_key_t3:{name:"Popup trigger key (#3)",description:"Key sequence to trigger the popup with alternate options. Search for `(#3)` to find the relevant options",type:"keysequence",keyseq_allow_none:!0,requires:{mouseover:!0,mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"trigger"},mouseover_trigger_delay:{name:"Popup trigger delay",description:"Delay (in seconds) before the popup shows",requires:{mouseover:!0,mouseover_trigger_behavior:"mouse"},type:"number",number_min:0,number_unit:"seconds",category:"popup",subcategory:"trigger"},mouseover_trigger_mouseover:{name:"Use mouseover event",description:"Uses the mouseover event instead of mousemove to figure out where to trigger the popup. This more closely matches the way other image popup addons work, at the cost of configurability",requires:{mouseover_trigger_behavior:"mouse"},advanced:!0,category:"popup",subcategory:"trigger"},mouseover_trigger_enabledisable_toggle:{name:"Enable/disable toggle",description:"Controls whether the 'Popup enable/disable key' will enable or disable the popup from opening",options:{enable:{name:"Enable"},disable:{name:"Disable"}},requires:{mouseover_trigger_behavior:"mouse"},category:"popup",subcategory:"trigger"},mouseover_trigger_prevent_key:{name:"Popup enable/disable key",description:"Holding down this key will enable or disable the popup from being opened, depending on the 'Enable/disable toggle' setting",requires:{mouseover:!0,mouseover_trigger_behavior:"mouse"},type:"keysequence",category:"popup",subcategory:"trigger"},mouseover_allow_partial:{name:"Allow showing partially loaded",description:"This will allow the popup to open for partially loaded media.\nPartially loaded media will contain the source URL directly (where possible), whereas fully loaded media will use a blob or data URL.",description_userscript:"This will allow the popup to open for partially loaded media, but this might break images that require custom headers to display properly.\nPartially loaded media will contain the source URL directly (where possible), whereas fully loaded media will use a blob or data URL.",requires:"action:popup",options:{_type:"or",video:{name:"Streams",description:"Audio and video"},media:{name:"Media",description:"Images, audio, and video"},none:{name:"None"}},category:"popup",subcategory:"open_behavior"},mouseover_partial_avoid_head:{name:"Avoid HEAD request for partially loaded media",description:"Avoids a possibly unnecessary HEAD request before displaying partially loaded images, which further decreases the delay before opening the popup. This can cause issues if the server returns an error, but still returns an image",requires:[{mouseover_allow_partial:"video"},{mouseover_allow_partial:"media"}],category:"popup",subcategory:"open_behavior",advanced:!0},mouseover_use_blob_over_data:{name:"Use `blob:` over `data:` URLs",description:"Blob URLs are more efficient, but aren't supported by earlier browsers. Some websites also block `blob:` URLs",requires:"action:popup",category:"popup",subcategory:"open_behavior",advanced:!0},popup_use_anonymous_crossorigin:{name:"Load media anonymously",description:"Loads the media without sending any cookies or other forms of credentials. This is required to screenshot videos from other sources",requires:"action:popup",category:"popup",subcategory:"open_behavior",advanced:!0},mouseover_use_fully_loaded_image:{name:"Wait until image is fully loaded",description:"Wait until the image has fully loaded before displaying it",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_use_fully_loaded_video:{name:"Wait until video is fully loaded",description:"Wait until the video has fully loaded before displaying it (this may significantly increase memory usage with larger videos)",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_enable_notallowed:{name:"Use `not-allowed` cursor when unsupported",description:"If the image isn't supported, the mouse cursor will change to a `not-allowed` cursor for a brief duration",requires:{mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"open_behavior"},mouseover_enable_notallowed_cant_load:{name:"Use `not-allowed` cursor when unable to load",description:"If the image fails to load, the mouse cursor will change to a `not-allowed` cursor for a brief duration",category:"popup",subcategory:"open_behavior"},mouseover_notallowed_duration:{name:"`not-allowed` cursor duration",description:"How long the `not-allowed` cursor should last",requires:[{mouseover_enable_notallowed:!0},{mouseover_enable_notallowed_cant_load:!0}],type:"number",number_min:0,number_int:!0,number_unit:"ms",advanced:!0,category:"popup",subcategory:"open_behavior"},mouseover_exclude_page_bg:{name:"Exclude page background",description:"Excludes the page background for the popup",requires:{mouseover:!0,mouseover_exclude_backgroundimages:!1},category:"popup",subcategory:"source"},mouseover_minimum_size:{name:"Minimum size",description:"Smallest size acceptable for the popup to open (this option is ignored for background images). This refers to the size of the media to be popped up, which may differ from the source media.",requires:{mouseover:!0},type:"number",number_min:0,number_unit:"pixels",category:"popup",subcategory:"source"},popup_maximum_source_size:{name:"Maximum source size",description:"Maximum size (width/height) for the source media to allow popping up (this option is ignored for background images). Set to `0` for any size.",requires:{mouseover:!0},type:"number",number_min:0,number_unit:"pixels",category:"popup",subcategory:"source"},mouseover_exclude_backgroundimages:{name:"Exclude `background-image`s",description:"Excludes `background-image`s for the popup. Might prevent the popup from working on many images",requires:{mouseover:!0},disabled_if:{mouseover_trigger_mouseover:!0},category:"popup",subcategory:"source"},mouseover_exclude_imagetab:{name:"Exclude image tabs",description:"Excludes images that are opened in their own tabs",requires:{mouseover:!0,mouseover_trigger_behavior:"mouse"},category:"popup",subcategory:"source"},mouseover_exclude_sameimage:{name:"Exclude if media URL is unchanged",description:"Don't pop up if the new URL is the same as the source",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_only_links:{name:"Only popup for linked media",description:"Don't pop up if the media isn't hyperlinked",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_linked_image:{name:"Popup link for linked media",description:"If the linked media cannot be made larger, pop up for the link instead of the media",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_exclude_imagemaps:{name:"Exclude image maps",description:"Don't pop up if the image is an image map (image with multiple clickable areas)",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_video_autoplay:{name:"Autoplay",description:"Play automatically once the popup is opened",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_controls:{name:"Show video controls",description:"Shows native video controls. Note that this prevents dragging under Firefox",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_controls_key:{name:"Toggle video controls",description:"Key to toggle whether the video controls are shown",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_loop:{name:"Loop",description:"Allows the media to automatically restart to the beginning after finishing playing",requires:{_condition:"action:popup",mouseover_allow_video:!0},disabled_if:{mouseover_gallery_move_after_video:!0},category:"popup",subcategory:"video"},mouseover_video_autoloop_max:{name:"Max duration for looping",description:"Media longer than the specified duration will not be automatically looped. Setting this to `0` will always enable looping, regardless of duration.",requires:{mouseover_video_loop:!0},type:"number",number_min:0,number_unit:"seconds",category:"popup",subcategory:"video"},mouseover_video_playpause_key:{name:"Play/pause key",description:"Key to toggle whether the media is playing or paused",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_muted:{name:"Mute",description:"Mutes the media by default",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_mute_key:{name:"Toggle mute key",description:"Key to toggle mute",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_volume:{name:"Default volume",description:"Default volume for the media",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_max:100,number_int:!0,number_unit:"%",category:"popup",subcategory:"video"},mouseover_video_volume_up_key:{name:"Volume up key",description:"Key to increase the volume",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_volume_down_key:{name:"Volume down key",description:"Key to decrease the volume",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_volume_change_amt:{name:"Volume change amount",description:"Percent for volume to increase/decrease when using the volume up/down keys",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_max:100,number_int:!0,number_unit:"%",category:"popup",subcategory:"video"},mouseover_video_resume_from_source:{name:"Resume playback from source",description:"If enabled, playback will resume from where the source left off",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_resume_if_different:{name:"Resume if different length",description:"If disabled, it will not resume if the source has a different length from the media in the popup (e.g. from a preview video to a full one)",requires:{mouseover_video_resume_from_source:!0},category:"popup",subcategory:"video"},mouseover_video_pause_source:{name:"Pause source",description:"Pauses the source once the popup has opened",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_seek_amount:{name:"Seek amount",description:"Amount of time to seek forward/back when using the seek keys",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_unit:"seconds",category:"popup",subcategory:"video"},mouseover_video_seek_left_key:{name:"Seek left key",description:"Key to seek backwards by the specified amount",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_seek_right_key:{name:"Seek right key",description:"Key to seek forwards by the specified amount",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_seek_vertical_scroll:{name:"Vertical scroll seeks",description:"Scrolling vertically will seek forward/backward",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_seek_horizontal_scroll:{name:"Horizontal scroll seeks",description:"Scrolling horizontally will seek forward/backward",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_frame_prev_key:{name:"Previous frame key",description:'Rewinds the video one "frame" backward. Due to current limitations, the frame size is static (but configurable), and might not match the video\'s framerate',requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_frame_next_key:{name:"Next frame key",description:'Advances the video one "frame" forward. Due to current limitations, the frame size is static (but configurable), and might not match the video\'s framerate',requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_framerate:{name:"Frame rate",description:"Frame rate for videos to seek forward/back with the next/previous frame keys",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_unit:"FPS",category:"popup",subcategory:"video"},mouseover_video_speed_down_key:{name:"Speed down key",description:"Key to decrease playback rate by a specified amount",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_speed_up_key:{name:"Speed up key",description:"Key to increase playback rate by a specified amount",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_speed_amount:{name:"Speed up/down amount",description:"How much to increase/decrease the playback rate",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_unit:"x",category:"popup",subcategory:"video"},mouseover_video_reset_speed_key:{name:"Reset speed key",description:"Resets the playback rate to normal speed",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_screenshot_key:{name:"Screenshot key",description:"Screenshots the current frame in the video",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},popup_video_screenshot_format:{name:"Screenshot format",description:"File format to save the screenshot in",requires:{_condition:"action:popup",mouseover_allow_video:!0},options:{_type:"or",png:{name:"PNG"},jpg:{name:"JPG"}},category:"popup",subcategory:"video"},mouseover_ui:{name:"Popup UI",description:"Enables a UI on top of the popup",requires:"action:popup",category:"popup",subcategory:"ui"},mouseover_ui_toggle_key:{name:"UI Toggle key",description:"Toggles the display of the UI",type:"keysequence",requires:"action:popup",category:"keybinds",subcategory:"popup"},mouseover_ui_opacity:{name:"Opacity",description:"Opacity of the UI on top of the popup",requires:{mouseover_ui:!0},type:"number",number_unit:"%",number_max:100,number_min:0,number_int:!0,category:"popup",subcategory:"ui"},mouseover_ui_use_safe_glyphs:{name:"Use safe glyphs",description:"Uses glyphs that are more likely to be available on all fonts. Enable this option if the following characters render as boxes: 🡇 🡐 🡒. The 'Noto Sans Symbols2' font contains these characters.",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_imagesize:{name:"Media resolution",description:"Displays the original media dimensions on top of the UI.\nCSS ID: `#sizeinfo`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_zoomlevel:{name:"Zoom percent",description:"Displays the current zoom level on top of the UI.\nCSS ID: `#sizeinfo`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_filesize:{name:"File size",description:"Displays the media's file size on top of the UI. For the moment, this will not work with partially loaded media if 'Avoid HEAD request for partially loaded media' is enabled.\nCSS ID: `#sizeinfo`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_gallerycounter:{name:"Gallery counter",description:"Enables a gallery counter on top of the UI.\nCSS ID: `#gallerycounter`",requires:{mouseover_ui:!0,mouseover_enable_gallery:!0},category:"popup",subcategory:"ui"},mouseover_ui_gallerymax:{name:"Gallery counter max",description:"Maximum amount of images to check in the counter (this can be slightly CPU-intensive)",requires:{mouseover_ui_gallerycounter:!0,mouseover_enable_gallery:!0},type:"number",number_min:0,number_unit:"images",category:"popup",subcategory:"ui"},mouseover_ui_gallerybtns:{name:"Gallery buttons",description:"Enables buttons to go left/right in the gallery.\nCSS IDs: `#galleryprevbtn`, `#gallerynextbtn`",requires:{mouseover_ui:!0,mouseover_enable_gallery:!0},category:"popup",subcategory:"ui"},mouseover_ui_closebtn:{name:"Close Button",description:"Enables a button to close the popup.\nCSS ID: `#closebtn`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_optionsbtn:{name:"Options Button",description:"Enables a button to go to this page.\nCSS ID: `#optionsbtn`",requires:{mouseover_ui:!0},userscript_only:!0,category:"popup",subcategory:"ui"},mouseover_ui_downloadbtn:{name:"Download Button",description:"Enables a button to download the image.\nCSS ID: `#downloadbtn`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_rotationbtns:{name:"Rotation Buttons",description:"Enables buttons on the UI to rotate the image by 90 degrees.\nCSS IDs: `#rotleftbtn`, `#rotrightbtn`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_caption:{name:"Caption",description:"Shows the image's caption (if available) at the top.\nCSS ID: `#caption`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_wrap_caption:{name:"Wrap caption text",description:"Wraps the caption if it's too long",requires:{mouseover_ui_caption:!0},category:"popup",subcategory:"ui"},mouseover_ui_caption_link_page:{name:"Link original page in caption",description:"Links the original page (if it exists) in the caption",requires:{mouseover_ui_caption:!0},category:"popup",subcategory:"ui"},mouseover_ui_link_underline:{name:"Underline links",description:"Adds an underline to links (such as the original page)",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_close_behavior:{name:"Keep popup open until",description:"Closes the popup when the selected condition is met",options:{_type:"or",_group1:{any:{name:"Any trigger is released"}},_group2:{all:{name:"All triggers are released"}},_group3:{esc:{name:"ESC/Close is pressed"}}},requires:{_condition:"action:popup",mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"close_behavior"},mouseover_close_need_mouseout:{name:"Don't close until mouse leaves",description:"If true, this keeps the popup open even if all triggers are released if the mouse is still over the image",requires:[{mouseover_close_behavior:"any"},{mouseover_close_behavior:"all"}],category:"popup",subcategory:"close_behavior"},mouseover_jitter_threshold:{name:"Threshold to leave image",description:"How many pixels outside of the image before the cursor is considered to have left the image",requires:[{_condition:"action:popup",mouseover_close_need_mouseout:!0},{_condition:"action:popup",mouseover_trigger_behavior:"mouse"}],type:"number",number_unit:"pixels",category:"popup",subcategory:"close_behavior"},mouseover_cancel_popup_when_elout:{name:"Leaving thumbnail cancels loading",description:"Cancels the current popup loading when the cursor has left the thumbnail image",requires:{mouseover:!0,mouseover_trigger_behavior:"mouse"},category:"popup",subcategory:"close_behavior"},mouseover_cancel_popup_with_esc:{name:"ESC cancels loading",description:"Cancels the current popup loading if ESC is pressed",requires:{mouseover:!0},category:"popup",subcategory:"close_behavior"},mouseover_cancel_popup_when_release:{name:"Releasing triggers cancels loading",description:'Cancels the current popup loading if all/any triggers are released (as set by the "Keep popup open until" setting)',requires:[{mouseover_close_behavior:"any"},{mouseover_close_behavior:"all"}],category:"popup",subcategory:"close_behavior"},mouseover_auto_close_popup:{name:"Automatically close after timeout",description:"Closes the popup automatically after a specified period of time has elapsed",requires:"action:popup",category:"popup",subcategory:"close_behavior"},mouseover_auto_close_popup_time:{name:"Timeout to close popup",description:"Amount of time to elapse before automatically closing the popup",requires:{mouseover_auto_close_popup:!0},type:"number",number_min:0,number_unit:"seconds",category:"popup",subcategory:"close_behavior"},mouseover_use_hold_key:{name:"Use hold key",description:"Enables the use of a hold key that, when pressed, will keep the popup open",requires:[{_condition:"action:popup",mouseover_trigger_behavior:"mouse"},{_condition:"action:popup",mouseover_auto_close_popup:!0},{_condition:"action:popup",mouseover_close_need_mouseout:!0}],category:"popup",subcategory:"close_behavior"},mouseover_hold_key:{name:"Hold key",description:"Hold key that, when pressed, will keep the popup open",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_hold_position_center:{name:"Center popup on hold",description:"Centers the popup to the middle of the page when the popup is held",requires:"action:popup",category:"popup",subcategory:"close_behavior"},popup_hold_zoom:{name:"Override zoom on hold",description:"Overrides the zoom when the popup is held",options:{_type:"combo",none:{name:"None"},fit:{name:"Fit to screen"},fill:{name:"Fill screen"},full:{name:"Full size"}},requires:"action:popup",category:"popup",subcategory:"close_behavior"},mouseover_hold_close_unhold:{name:"Close popup on unhold",description:"Closes the popup when the hold key is pressed again, after having previously held the popup",requires:"action:popup",category:"popup",subcategory:"close_behavior"},mouseover_hold_unclickthrough:{name:"Enable pointer events on hold",description:"Enables previously disabled pointer events when the popup is held",requires:{_condition:"action:popup",mouseover_clickthrough:!0},category:"popup",subcategory:"close_behavior"},mouseover_close_on_leave_el:{name:"Close when leaving thumbnail",description:"Closes the popup when the mouse leaves the thumbnail element (won't close if the mouse instead moves to the popup)",requires:{_condition:"action:popup",mouseover_trigger_behavior:"mouse",mouseover_position:"beside_cursor"},category:"popup",subcategory:"close_behavior"},mouseover_close_click_outside:{name:"Clicking outside the popup closes",description:"Closes the popup when the mouse clicks outside of it",requires:"action:popup",category:"popup",subcategory:"close_behavior"},mouseover_close_el_policy:{name:"Close when leaving",description:"Closes the popup when the mouse leaves the thumbnail element, the popup, or both",requires:[{_condition:"action:popup",mouseover_trigger_behavior:"mouse"},{_condition:"action:popup",mouseover_trigger_behavior:"keyboard",mouseover_close_need_mouseout:!0}],options:{_type:"combo",thumbnail:{name:"Thumbnail"},popup:{name:"Popup"},both:{name:"Both"}},category:"popup",subcategory:"close_behavior"},mouseover_wait_use_el:{name:"Use invisible element when waiting",description:"Creates an invisible element under the cursor when waiting for the popup instead of a style element (can improve performance on websites with many elements, but prevents the cursor from clicking anything while loading the popup)",requires:{mouseover:!0},category:"popup",subcategory:"popup_other",advanced:!0},mouseover_add_to_history:{name:"Add popup link to history",description:"Adds the image/video link opened through the popup to the browser's history",requires:{mouseover:!0},category:"popup",subcategory:"popup_other",required_permission:"history",extension_only:!0},allow_remote:{name:"Allow inter-frame communication",description:"Allows communication between frames in windows, improving support for keybindings",description_userscript:"Allows communication between frames in windows, improving support for keybindings. Can pose a fingerprinting risk when used through the userscript",requires:{mouseover:!0},category:"general",advanced:!be},mouseover_use_remote:{name:"Pop out of frames",description:"Opens the popup on the top frame instead of within iframes. This option is still experimental.",requires:{_condition:"action:popup",allow_remote:!0},category:"popup",subcategory:"open_behavior"},mouseover_zoom_behavior:{name:"Popup default zoom",description:"How the popup should be initially sized",options:{_type:"combo",fit:{name:"Fit to screen"},fill:{name:"Fill screen"},full:{name:"Full size"},custom:{name:"Custom size"}},requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_zoom_custom_percent:{name:"Custom zoom percent",description:"Custom percent to initially size the popup",type:"number",number_min:0,number_unit:"%",requires:{mouseover_zoom_behavior:"custom"},category:"popup",subcategory:"open_behavior"},mouseover_zoom_use_last:{name:"Use last zoom",description:"Use the last popup's zoom. Note that this is per-page.",options:{_type:"combo",always:{name:"Always"},gallery:{name:"Gallery"},never:{name:"Never"}},requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_zoom_max_width:{name:"Maximum width",description:"Maximum width for the initial popup size. Set to `0` for unlimited.",type:"number",number_min:0,number_unit:"px",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_zoom_max_height:{name:"Maximum height",description:"Maximum height for the initial popup size. Set to `0` for unlimited.",type:"number",number_min:0,number_unit:"px",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_pan_behavior:{name:"Popup panning method",description:"How the popup should be panned when larger than the screen",options:{_type:"or",movement:{name:"Movement",description:"The popup pans as you move your mouse"},drag:{name:"Drag",description:"Clicking and dragging pans the popup"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_movement_inverted:{name:"Invert movement",description:"Inverts the movement of the mouse. For example, if the mouse moves left, the popup moves right. If disabled, it feels more like the popup is being invisibly dragged.",requires:{mouseover_pan_behavior:"movement"},advanced:!0,category:"popup",subcategory:"behavior"},mouseover_drag_min:{name:"Minimum drag amount",description:"How many pixels the mouse should move to start a drag",type:"number",number_min:0,number_int:!0,number_unit:"pixels",requires:{mouseover_pan_behavior:"drag"},category:"popup",subcategory:"behavior"},mouseover_scrolly_behavior:{name:"Vertical scroll action",description:"How the popup reacts to a vertical scroll/mouse wheel event",options:{_type:"combo",zoom:{name:"Zoom"},pan:{name:"Pan"},gallery:{name:"Gallery",requires:[{mouseover_enable_gallery:!0}]},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrolly_hold_behavior:{name:"Vertical scroll action (hold)",description:"How the popup (when held) reacts to a vertical scroll/mouse wheel event",options:{_type:"combo",default:{name:"Default"},zoom:{name:"Zoom"},pan:{name:"Pan"},gallery:{name:"Gallery",requires:[{mouseover_enable_gallery:!0}]},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrollx_behavior:{name:"Horizontal scroll action",description:"How the popup reacts to a horizontal scroll/mouse wheel event",options:{_type:"combo",pan:{name:"Pan"},gallery:{name:"Gallery",requires:[{mouseover_enable_gallery:!0}]},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrollx_hold_behavior:{name:"Horizontal scroll action (hold)",description:"How the popup (when held) reacts to a horizontal scroll/mouse wheel event",options:{_type:"combo",default:{name:"Default"},pan:{name:"Pan"},gallery:{name:"Gallery",requires:[{mouseover_enable_gallery:!0}]},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrolly_video_behavior:{name:"Vertical video scroll action",description:"Overrides the vertical scroll action for videos. Set to `Default` to avoid overriding the behavior.",options:{_type:"combo",default:{name:"Default"},seek:{name:"Seek"},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrolly_video_invert:{name:"Invert vertical scroll seek",description:"Inverts the seek direction when scrolling vertically: Scrolling up will seek right, scrolling down will seek left.",requires:{mouseover_scrolly_video_behavior:"seek"},category:"popup",subcategory:"behavior"},mouseover_scrollx_video_behavior:{name:"Horizontal video scroll action",description:"Overrides the horizontal scroll action for videos. Set to `Default` to avoid overriding the behavior.",options:{_type:"combo",default:{name:"Default"},seek:{name:"Seek"},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},scroll_override_page:{name:"Override scroll outside of popup",description:"Scrolling outside of the popup will also be overriden by the script",requires:"action:popup",category:"popup",subcategory:"behavior"},scroll_zoom_origin:{name:"Zoom origin",description:"The point on the image it's zoomed in/out from",options:{_type:"or",cursor:{name:"Cursor"},center:{name:"Center"}},requires:[{mouseover_scrollx_behavior:"zoom"},{mouseover_scrollx_hold_behavior:"zoom"},{mouseover_scrolly_behavior:"zoom"},{mouseover_scrolly_hold_behavior:"zoom"}],category:"popup",subcategory:"behavior"},scroll_zoomout_pagemiddle:{name:"Zoom out towards page middle",description:'Sets the origin when zooming out to the page middle, overriding the "Zoom Origin" option above.',options:{_type:"combo",always:{name:"Always"},viewport:{name:"Within viewport"},never:{name:"Never"}},requires:[{mouseover_scrollx_behavior:"zoom"},{mouseover_scrollx_hold_behavior:"zoom"},{mouseover_scrolly_behavior:"zoom"},{mouseover_scrolly_hold_behavior:"zoom"}],category:"popup",subcategory:"behavior"},scroll_zoom_behavior:{name:"Zoom behavior",description:"How zooming should work",options:{_type:"or",fitfull:{name:"Fit/Full",description:"Toggles between the full size, and fit-to-screen"},incremental:{name:"Incremental"}},requires:[{mouseover_scrollx_behavior:"zoom"},{mouseover_scrollx_hold_behavior:"zoom"},{mouseover_scrolly_behavior:"zoom"},{mouseover_scrolly_hold_behavior:"zoom"}],category:"popup",subcategory:"behavior"},scroll_incremental_mult:{name:"Incremental zoom multiplier",description:"How much to zoom in/out by (for incremental zooming)",type:"number",number_min:1,number_unit:"x",category:"popup",subcategory:"behavior"},mouseover_move_with_cursor:{name:"Move with cursor",description:"Moves the popup as the cursor moves",requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_move_within_page:{name:"Move within page",description:"Ensures the popup doesn't leave the page",requires:{mouseover_move_with_cursor:!0},category:"popup",subcategory:"behavior"},zoom_out_to_close:{name:"Zoom out fully to close",description:"Closes the popup if you zoom out past the minimum zoom",requires:[{mouseover_scrollx_behavior:"zoom"},{mouseover_scrollx_hold_behavior:"zoom"},{mouseover_scrolly_behavior:"zoom"},{mouseover_scrolly_hold_behavior:"zoom"}],category:"popup",subcategory:"close_behavior"},scroll_past_gallery_end_to_close:{name:"Scroll past gallery end to close",description:"Closes the popup if you scroll past the end of the gallery",requires:[{mouseover_scrollx_behavior:"gallery"},{mouseover_scrollx_hold_behavior:"gallery"},{mouseover_scrolly_behavior:"gallery"},{mouseover_scrolly_hold_behavior:"gallery"}],category:"popup",subcategory:"close_behavior"},mouseover_position:{name:"Popup position",description:"Where the popup will appear",options:{_type:"or",_group1:{cursor:{name:"Cursor middle",description:"Underneath the mouse cursor"}},_group2:{beside_cursor:{name:"Beside cursor"}},_group3:{center:{name:"Page middle"}}},requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_prevent_cursor_overlap:{name:"Prevent cursor overlap",description:"Prevents the image from overlapping with the cursor",requires:{mouseover_position:"beside_cursor"},hidden:!0,category:"popup",subcategory:"open_behavior"},mouseover_overflow_position_center:{name:"Center popup on overflow",description:"Centers the popup if its initial size overflows",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_overflow_origin:{name:"Overflow origin",description:"Where the popup will appear in the page if its initial size overflows",requires:[{mouseover_position:"center"},{mouseover_overflow_position_center:!0},{mouseover_hold_position_center:!0}],options:{_type:"or",_group1:{a00:{name:""},a10:{name:""},a20:{name:""}},_group2:{a01:{name:""},a11:{name:""},a21:{name:""}},_group3:{a02:{name:""},a12:{name:""},a22:{name:""}}},category:"popup",subcategory:"open_behavior"},mouseover_hide_cursor:{name:"Hide cursor over popup",description:"Hides the cursor when the mouse is over the popup",requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_hide_cursor_after:{name:"Hide cursor after",description:"Hides the cursor over the popup after a specified period of time (in milliseconds), 0 always hides the cursor",requires:{mouseover_hide_cursor:!0},type:"number",number_unit:"ms",number_int:!0,number_min:0,category:"popup",subcategory:"behavior"},mouseover_mouse_inactivity_jitter:{name:"Mouse jitter threshold",description:"Threshold for mouse movement before the mouse cursor is shown again, 0 always shows the cursor after any movement",requires:{mouseover_hide_cursor:!0},type:"number",number_unit:"px",number_int:!0,number_min:0,category:"popup",subcategory:"behavior"},mouseover_clickthrough:{name:"Disable pointer events",description:"Enabling this option will allow you to click on links underneath the popup",requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_mask_ignore_clicks:{name:"Ignore clicks outside popup",description:"Any mouse event outside the popup will be discarded with this option",requires:"action:popup",category:"popup",subcategory:"behavior"},enable_stream_download:{name:"Enable downloading HLS/DASH streams",description:"Downloads and muxes the contents of the streams rather than the stream information file.\nThis currently does not work under Firefox.",requires:{_condition:"action:popup",mouseover_allow_hlsdash:!0},hidden:!Cr,category:"popup",subcategory:"video"},stream_mux_mp4_over_mkv:{name:"Prefer MP4 over MKV",description:"Tries to mux the video into mp4 instead of mkv when required. This may slightly slow down muxing as it currently needs to try muxing both.",requires:{enable_stream_download:!0},hidden:!Cr,category:"popup",subcategory:"video"},mouseover_add_link:{name:"Link image",description:"Adds a link to the image in the popup",requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_add_video_link:{name:"Link video",description:"Adds a link to the video in the popup",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"behavior"},mouseover_click_image_close:{name:"Clicking image closes",description:"Clicking the popup image closes the popup",requires:"action:popup",disabled_if:[{mouseover_add_link:!0},{mouseover_clickthrough:!0}],category:"popup",subcategory:"behavior"},mouseover_click_video_close:{name:"Clicking video closes",description:"Clicking the popup video closes the popup",requires:"action:popup",disabled_if:[{mouseover_add_video_link:!0},{mouseover_clickthrough:!0}],category:"popup",subcategory:"behavior"},mouseover_download:{name:"Clicking link downloads",description:"Instead of opening the link in a new tab, it will download the image/video instead",requires:[{_condition:"action:popup",mouseover_add_link:!0},{_condition:"action:popup",mouseover_add_video_link:!0}],category:"popup",subcategory:"behavior"},mouseover_close_key:{name:"Close key",description:"Closes the popup when this key is pressed. Currently, ESC will also close the popup regardless of the value of this setting.",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_download_key:{name:"Download key",description:"Downloads the image in the popup when this key is pressed",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_open_new_tab_key:{name:"Open in new tab key",description:"Opens the image in the popup in a new tab when this key is pressed",hidden:be&&G===nn.nullfunc,requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_open_bg_tab_key:{name:"Open in background tab key",description:"Opens the image in the popup in a new tab without switching to it when this key is pressed",hidden:be&&G===nn.nullfunc,requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_copy_link_key:{name:"Copy link key",description:"Copies the link of the media to the clipboard when this key is pressed",requires:{_condition:"action:popup",write_to_clipboard:!0},type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_open_options_key:{name:"Open options key",description:"Opens this page in a new tab when this key is pressed",hidden:be&&G===nn.nullfunc,requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_open_orig_page_key:{name:"Open original page key",description:"Opens the original page (if available) when this key is pressed",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_rotate_left_key:{name:"Rotate left key",description:"Rotates the popup 90 degrees to the left",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_rotate_right_key:{name:"Rotate right key",description:"Rotates the popup 90 degrees to the right",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_flip_horizontal_key:{name:"Horizontal flip key",description:"Flips the image horizontally",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_flip_vertical_key:{name:"Vertical flip key",description:"Flips the image vertically",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_zoom_in_key:{name:"Zoom in key",description:"Incrementally zooms into the image",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_zoom_out_key:{name:"Zoom out key",description:"Incrementally zooms out of the image",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_zoom_full_key:{name:"Full zoom key",description:"Sets the image to be at a 100% zoom, even if it overflows the screen",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_zoom_fit_key:{name:"Fit screen key",description:"Sets the image to either be at a 100% zoom, or to fit the screen, whichever is smaller",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_fullscreen_key:{name:"Toggle fullscreen key",description:"Toggles fullscreen mode for the image/video in the popup",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_links:{name:"Popup for plain hyperlinks",description:"Whether or not the popup should also open for plain hyperlinks",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_only_valid_links:{name:"Only for links that look valid",description:"Enabling this option will only allow links to be popped up if they look valid (such as if they have a known image/video extension, or are explicitly supported)",requires:{mouseover_links:!0},category:"popup",subcategory:"source"},mouseover_allow_video:{name:"Enable videos",description:"Allows videos to be popped up",profiled:!0,category:"popup",subcategory:"video"},mouseover_allow_audio:{name:"Enable audio",description:"Allows audio to be popped up. Currently experimental.\nThis only applies to audio files. Videos that contains audio are supported regardless of this setting.",profiled:!0,category:"popup",subcategory:"video"},mouseover_allow_hlsdash:{name:"Allow HLS/DASH streams",description:"Allows playback of HLS/DASH streams",example_websites:["Dailymotion","Instagram (higher quality)","Reddit","YouTube (higher quality)"],requires:[{mouseover_allow_audio:!0,allow_thirdparty_libs:!0},{mouseover_allow_video:!0,allow_thirdparty_libs:!0}],profiled:!0,category:"popup",subcategory:"video"},mouseover_allow_self_pagelink:{name:"Popup page URL",description:"If no element can be found, try the page URL. Only relevant for pagelink rules, such as image and video hosting websites",requires:{mouseover:!0,mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"source"},mouseover_allow_iframe_el:{name:"Popup for `<iframe>`",description:"Allows `<iframe>` elements to be popped up as well. Storing images/videos in this way is rather uncommon, but it can allow embeds to be supported",requires:{mouseover_links:!0},category:"popup",subcategory:"source"},mouseover_allow_canvas_el:{name:"Popup for `<canvas>`",description:"Allows `<canvas>` elements to be popped up as well. This will likely cause popups with any kind of web-based games, so it's recommended to keep this disabled",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_allow_svg_el:{name:"Popup for `<svg>`",description:"Allows `<svg>` elements to be popped up as well. These are usually used for icons, and can occasionally cause problems for websites that overlay icons on top of images",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_enable_gallery:{name:"Enable gallery",description:"Toggles whether gallery detection support should be enabled",requires:"action:popup",category:"popup",subcategory:"gallery"},mouseover_gallery_cycle:{name:"Cycle gallery",description:"Going to the previous image for the first image will lead to the last image and vice-versa",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},category:"popup",subcategory:"gallery"},mouseover_gallery_prev_key:{name:"Previous gallery item",description:"Key to trigger the previous gallery item",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},type:"keysequence",category:"keybinds",subcategory:"gallery"},mouseover_gallery_next_key:{name:"Next gallery item",description:"Key to trigger the next gallery item",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},type:"keysequence",category:"keybinds",subcategory:"gallery"},mouseover_gallery_download_key:{name:"Gallery download key",description:"Key to download the current gallery",requires:{_condition:"action:popup",mouseover_enable_gallery:!0,allow_thirdparty_libs:!0},type:"keysequence",category:"keybinds",subcategory:"gallery"},gallery_download_method:{name:"Download method",description:"How the gallery should be downloaded",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},options:{_type:"combo",zip:{name:"Zip file"},jdownloader:{name:"JDownloader"}},category:"popup",subcategory:"gallery"},gallery_download_unchanged:{name:"Download unchanged media",description:"Includes gallery items that have not been changed. Useful to potentially avoid downloading thumbnails",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},category:"popup",subcategory:"gallery"},gallery_zip_filename_format:{name:"Directory/zip filename format",description:["Format string(s) for the directory (package name for JDownloader) and zip filename (if applicable).",'Refer to "Filename format" under the Rules section for documentation. The variables are set from the first loaded media.',"An additional `items_amt` format variable is supported, which contains the number of items.","`.zip` will be automatically suffixed for zip filenames."].join("\n"),requires:{_condition:"action:popup",mouseover_enable_gallery:!0},type:"textarea",category:"popup",subcategory:"gallery"},gallery_zip_add_tld:{name:"Zip: Store in subdirectory",description:"Stores the files in a subdirectory with the same name as the .zip file (without the .zip extension)",requires:{_condition:"action:popup",mouseover_enable_gallery:!0,gallery_download_method:"zip"},category:"popup",subcategory:"gallery"},gallery_jd_autostart:{name:"JD: Autostart",description:"Autostarts the download when added to JDownloader",requires:{gallery_download_method:"jdownloader"},category:"popup",subcategory:"gallery"},gallery_jd_referer:{name:"JD: Referer policy",description:"Due to a current limitation in JDownloader's API, the `Referer` (sic) header can only be set on a per-package basis. This option allows working around it by submitting multiple packages with the same name using different Referer headers. This can result in JD spamming notifications due to the number of packages created.",requires:{gallery_download_method:"jdownloader"},options:{_type:"combo",never:{name:"Never"},domain:{name:"Per-domain"},always:{name:"Always"}},category:"popup",subcategory:"gallery"},gallery_zip_add_info_file:{name:"Zip: Store info file",description:"Stores a `info.txt` file in the .zip containing information about the downloaded files and host page.",requires:{_condition:"action:popup",mouseover_enable_gallery:!0,gallery_download_method:"zip"},category:"popup",subcategory:"gallery"},mouseover_gallery_move_after_video:{name:"Move to next when video finishes",description:"Moves to the next gallery item when a video finishes playing",requires:{_condition:"action:popup",mouseover_allow_video:!0,mouseover_enable_gallery:!0},category:"popup",subcategory:"gallery"},mouseover_styles:{name:"Popup CSS style",description:"Custom CSS styles for the popup",documentation:{title:"Documentation",value:["Most valid CSS is supported, with these differences:","<ul><li>Multiline comments (<code>/* ... */</code>) are currently not supported</li>","<li>Single comments (<code>// ...</code>) are supported, but only at the beginning of a line</li>","<li><code>%thumburl%</code> is the URL of the thumbnail image. For example, you could use it like this: <code>background-image: url(%thumburl%)</code><br />","The URL is properly encoded, so quotes are not necessary (but not harmful either)</li>","<li><code>%fullurl%</code> is the URL of the full image. If IMU fails to find a larger image, it will be the same as <code>%thumburl%</code></li>","<li>Styles are <code>!important</code> by default</li></ul>","<p>For Button CSS style, you can also customize the CSS for individual buttons through their IDs. For example:</p>","<pre>","#closebtn {","  background-color: red;","  // -imu-text allows you to set the text inside the button",'  -imu-text: "Close";',"  // -imu-title allows you to set the tooltip when hovering",'  -imu-title: "Close the popup";',"}","#galleryprevbtn, #gallerynextbtn {","  border-radius: 100px;","}","</pre>"].join("\n")},type:"textarea",requires:"action:popup",category:"popup",subcategory:"popup_other"},mouseover_enable_fade:{name:"Enable popup fade",description:"Enables a fade in/out effect when the popup is opened/closed",requires:"action:popup",category:"popup",subcategory:"popup_other"},mouseover_enable_zoom_effect:{name:"Enable zoom effect",description:"Toggles whether the popup should 'zoom' when opened/closed",requires:"action:popup",category:"popup",subcategory:"popup_other"},mouseover_zoom_effect_move:{name:"Move from thumbnail when zooming",description:"Moves the popup from the thumbnail to the final location while zooming. The animation can be a little rough",requires:{mouseover_enable_zoom_effect:!0},category:"popup",subcategory:"popup_other"},mouseover_fade_time:{name:"Popup animation time",description:"Fade/zoom animation duration (in milliseconds) for the popup",requires:[{mouseover_enable_fade:!0},{mouseover_enable_zoom_effect:!0}],type:"number",number_min:0,number_unit:"ms",category:"popup",subcategory:"popup_other"},mouseover_enable_mask_styles2:{name:"Enable background CSS",description:"Toggles whether CSS styles for the background when the popup is active is enabled",requires:"action:popup",options:{always:{name:"Always"},hold:{name:"On hold"},never:{name:"No"}},category:"popup",subcategory:"popup_other"},mouseover_mask_styles2:{name:"Background CSS style",description:"CSS style for the background when the popup is active. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)",requires:[{mouseover_enable_mask_styles2:"always"},{mouseover_enable_mask_styles2:"hold"}],type:"textarea",category:"popup",subcategory:"popup_other"},mouseover_mask_fade_time:{name:"Background fade",description:"Fade in/out time (in milliseconds) for the page background, set to 0 to disable",requires:[{mouseover_enable_mask_styles2:"always"},{mouseover_enable_mask_styles2:"hold"}],type:"number",number_min:0,number_unit:"ms",category:"popup",subcategory:"popup_other"},mouseover_ui_styles:{name:"Button CSS style",description:"Custom CSS styles for the popup's UI buttons. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)",type:"textarea",requires:{_condition:"action:popup",mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_apply_blacklist:{name:"Don't popup blacklisted URLs",description:"This option popping up for source media with blacklisted URLs. If this is disabled, the popup will open if the end URL isn't blacklisted, regardless of whether the source is blacklisted.",requires:{mouseover:!0},category:"popup",subcategory:"source"},apply_blacklist_host:{name:"Apply blacklist for host websites",description:"This option prevents the script from opening any popups to host websites that are in the blacklist. For example, adding `twitter.com` to the blacklist would prevent any popup from opening on twitter.com. If disabled, this option only applies to image URLs (such as twimg.com), not host URLs",category:"popup",subcategory:"source"},mouseover_matching_media_types:{name:"Don't popup different media type",description:"This option prevents the popup from loading a video when the source was an image or vice-versa",requires:{mouseover:!0,mouseover_allow_video:!0},category:"popup",subcategory:"source"},mouseover_allow_popup_when_fullscreen:{name:"Allow popup when fullscreen",description:"Allows the popup to open if an element (such as a video player) is fullscreen.",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_support_pointerevents_none:{name:"Support `pointer-events:none`",description:"Manually looks through every element on the page to see if the cursor is beneath them. Supports more images, but also results in a higher CPU load for websites such as Facebook.",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_find_els_mode:{name:"Element finding mode",description:"How IMU should find the media element on the page.",requires:{mouseover:!0},options:{full:{name:"Full",description:"Manually looks through every element on the page to see if the cursor is above them. This will result in a higher CPU load for websites such as Facebook, and may return the wrong element"},hybrid:{name:"Hybrid",description:"Looks manually through every child element of the last element found by `getElementsAtPoint`. Use this option if in doubt, it'll work on most sites"},simple:{name:"Simple",description:"This is the fastest option, which uses the value of `getElementsAtPoint` without modification. Works for sites that don't use pointer-events:none and shadow DOM"}},warning:{full:"This will result in a much higher CPU load for websites such as Facebook, and will occasionally return the wrong element.\nUse this option with caution."},category:"popup",subcategory:"source"},popup_allow_cache:{name:"Use cache",description:"Allows use of a media cache for the popup. The cache is currently stored per-page and is not persistent across page reloads.",requires:"action:popup",category:"popup",subcategory:"cache"},popup_cache_duration:{name:"Cache duration",description:"How long for media to remain cached. Set to `0` for unlimited.",requires:{popup_allow_cache:!0},type:"number",number_min:0,number_unit:"minutes",category:"popup",subcategory:"cache"},popup_cache_itemlimit:{name:"Cache item limit",description:"Maximum number of individual media to remain cached. Set to `0` for unlimited.",requires:{popup_allow_cache:!0},type:"number",number_min:0,number_unit:"items",category:"popup",subcategory:"cache"},popup_cache_resume_video:{name:"Resume videos",description:"If a video popup was closed then reopened, the video will resume from where it left off",requires:{popup_allow_cache:!0},category:"popup",subcategory:"cache"},website_inject_imu:{name:"Use userscript",description:"Replaces the website's IMU instance with the userscript",userscript_only:!0,category:"website"},website_image:{name:"Website image preview",description:"Enables a preview of the image on the Image Max URL website",userscript_only:!0,requires:{website_inject_imu:!0},category:"website"},extension_contextmenu:{name:"IMU entry in context menu",description:"Enables a custom entry for this extension in the right click/context menu",extension_only:!0,category:"general",subcategory:"extension",imu_enabled_exempt:!0},extension_hotreload:{name:"Hot (re)load",description:"(Re)loads the extension on all existing pages when installing or updating",extension_only:!0,category:"general",subcategory:"extension",imu_enabled_exempt:!0},custom_xhr_for_lib:{name:"Custom XHR for libraries",description:"Allows the use of more powerful XHR (network requests) for 3rd-party libraries. This allows for certain DASH streams to work.",description_userscript:"Allows the use of more powerful XHR  (network requests) for 3rd-party libraries. This allows for certain DASH streams to work. Using this with the userscript version currently poses a potential security risk.",category:"general",subcategory:"libraries",example_websites:["Kakao","YouTube","Instagram (downloading)"],requires:{allow_thirdparty_libs:!0},needrefresh:!0},use_webarchive_for_lib:{name:"Use Web Archive for libraries",description:"Uses archive.org's web archive instead of github for libraries and other script internals (such as the options page).\nDon't enable this unless you need to.",userscript_only:!0,category:"general",subcategory:"libraries"},lib_integrity_check:{name:"Enable integrity checks",description:"Runs integrity checks before loading 3rd-party libraries",userscript_only:!0,category:"general",subcategory:"libraries"},hls_dash_use_max:{name:"HLS/DASH maximum quality",description:"Uses the maximum quality for HLS/DASH streams",requires:{mouseover_allow_hlsdash:!0},category:"popup",subcategory:"video"},max_video_quality:{name:"Maximum video quality",description:"Maximum quality for videos",requires:{mouseover_allow_hlsdash:!0},options:{_type:"combo",unlimited:{name:"(unlimited)",is_null:!0},h2160:{name:"4K"},h1440:{name:"1440p"},h1080:{name:"1080p"},h720:{name:"720p"},h480:{name:"480p"}},category:"popup",subcategory:"video"},allow_watermark:{name:"Larger watermarked images",description:"Enables rules that return larger images that include watermarks",category:"rules",example_websites:["Stock photo websites"],onupdate:bt},allow_smaller:{name:"Smaller non-watermarked images",description:"Enables rules that return smaller images without watermarks",category:"rules",onupdate:bt},allow_possibly_different:{name:"Possibly different images",description:"Enables rules that return images that possibly differ, usually due to server-side caching",category:"rules",onupdate:bt},allow_possibly_broken:{name:"Possibly broken images",description:"Enables rules that return images that are possibly broken",category:"rules",hidden:!0,onupdate:bt},allow_possibly_upscaled:{name:"Possibly upscaled images",description:"Enables rules that return images that are possibly upscaled",category:"rules",onupdate:bt},allow_thirdparty:{name:"Rules using 3rd-party websites",description:"Enables rules that use 3rd-party websites",category:"rules",example_websites:["Newsen"],onupdate:bt},allow_apicalls:{name:"Rules using API calls",description:"Enables rules that use API calls. Strongly recommended to keep this enabled",category:"rules",example_websites:["Instagram","Flickr","..."],onupdate:bt},allow_thirdparty_libs:{name:"Allow 3rd-party libraries",description:"Enables using 3rd-party libraries. This is both used in rules and as a prerequisite for certain functionality.",description_userscript:"Enables using 3rd-party libraries. This is both used in rules and as a prerequisite for certain functionality.\nThere is a possible (but unlikely) security risk for the userscript version.",category:"general",subcategory:"libraries",example_websites:["Sites using testcookie (slowAES)"],onupdate:function(){bt(),Ue.clear()}},allow_thirdparty_code:{name:"Rules executing 3rd-party code",description:"Enables rules that execute arbitrary 3rd-party code stored on websites.",warning:{true:"This could lead to security risks, please be careful when using this option!"},category:"rules",onupdate:function(){bt(),Ue.clear()},hidden:!0},allow_bruteforce:{name:"Rules using brute-force",description:"Enables rules that require using brute force (through binary search) to find the original image",warning:{true:"This could lead to rate limiting or IP bans"},category:"rules",example_websites:["Deezer"],onupdate:bt},browser_cookies:{name:"Use browser cookies",description:"Uses the browser's cookies for API calls in order to access otherwise private data",category:"rules",example_websites:["Private Flickr images"],extension_only:!0,onupdate:bt},deviantart_prefer_size:{name:"DeviantART: Prefer size over original",description:"Prefers a larger (but not upscaled) thumbnail image over a smaller original animated image",category:"rules",subcategory:"rule_specific",onupdate:bt},deviantart_support_download:{name:"DeviantART: Use download links",description:"Prefers using the download link (if available) by default. Note that this only works if you're logged in to DeviantART",category:"rules",subcategory:"rule_specific",onupdate:bt},ehentai_full_image:{name:"E-Hentai: Use full image",description:"Prefers using full/original images if available (logged in). This is more likely to get you rate limited",category:"rules",subcategory:"rule_specific",onupdate:bt},imgur_filename:{name:"Imgur: Use original filename",description:"If the original filename (the one used to upload the image) is found, use it instead of the image ID",category:"rules",subcategory:"rule_specific",onupdate:bt},imgur_source:{name:"Imgur: Use source image",description:"If a source image is found for Imgur, try using it instead. Only works for old-style Imgur webpages (set `postpagebeta=0; postpagebetalogged=0` as cookies)",category:"rules",subcategory:"rule_specific",onupdate:bt},instagram_use_app_api:{name:"Instagram: Use native API",description:"Uses Instagram's native API if possible, requires you to be logged into Instagram. This usually allows for higher resolution images (1440x*) to be returned.",category:"rules",subcategory:"rule_specific",warning:{true:"As of a recent (May 2021) Instagram update, this option may flag your account when requesting too often.\nPlease consider using a backup account if enabling this option."},onupdate:bt},instagram_dont_use_web:{name:"Instagram: Don't use web API",description:"Avoids using Instagram's web API if possible, which increases performance, but will occasionally sacrifice quality for videos",requires:[{instagram_use_app_api:!0}],category:"rules",subcategory:"rule_specific",onupdate:bt},instagram_prefer_video_quality:{name:"Instagram: Prefer quality over resolution",description:"Prefers lower resolution videos that use a higher bitrate over higher resolution images. This adds a slight performance cost as it needs to fetch headers for multiple videos",category:"rules",subcategory:"rule_specific",onupdate:bt},instagram_gallery_postlink:{name:"Instagram: Use albums for post thumbnails",description:"Queries Instagram for albums when using the popup on a post thumbnail",category:"rules",subcategory:"rule_specific"},snapchat_orig_media:{name:"Snapchat: Use original media without captions",description:"Prefers using original media instead of media with captions and tags overlayed",category:"rules",subcategory:"rule_specific"},tiktok_no_watermarks:{name:"TikTok: Don't use watermarked videos",description:"Uses non-watermarked videos for TikTok if possible. This will introduce an extra delay when loading the video as two extra requests need to be performed. It will also fail for any videos uploaded after ~late July 2020",category:"rules",subcategory:"rule_specific",onupdate:bt},tiktok_thirdparty:{name:"TikTok: 3rd-party watermark removal",description:"Uses a 3rd-party watermark removal site for TikTok.\nI do not endorse any of the sites supported. They may log your IP address and videos you submit. Use this option with caution.\n`LQ` = Low quality, `PL` = Public log",requires:[{allow_thirdparty:!0}],options:{_type:"combo",_randomize:!0,null:{name:"(none)",is_null:!0},"ttloader.com:ttt":{name:"ttloader.com"},"onlinetik.com:ttt":{name:"onlinetik.com"},"tikdowns.com:ttt":{name:"tikdowns.com"},"ssstiktok.net:ttt":{name:"ssstiktok.net"},"keeptiktok.com":{name:"keeptiktok.com (LQ)"},"ssstiktok.io:1":{name:"ssstiktok.io (LQ)"},"musicallydown.com:1":{name:"musicallydown.com (LQ/PL)"},"snaptik.app":{name:"snaptik.app (LQ)"},"tikmate.online":{name:"tikmate.online (LQ)"}},category:"rules",subcategory:"rule_specific",onupdate:bt},tumblr_api_key:{name:"Tumblr: API key",description:"API key for finding larger images on Tumblr",category:"rules",subcategory:"rule_specific",type:"lineedit",onupdate:bt},twitter_use_ext:{name:"Twitter: Use extension",description:"Prefers `.jpg?name=orig` over `?format=jpg&name=orig`. This will possibly incur extra requests before succeeding",category:"rules",subcategory:"rule_specific",onupdate:bt},bigimage_blacklist:{name:"Blacklist",description:"A list of URLs (one per line) that are blacklisted from being processed",category:"rules",type:"textarea",onupdate:function(){bt(),wt()},onedit:function(){var e,t=wt();try{(e=document.querySelector("#option_bigimage_blacklist .error")).innerText=""}catch(e){}if(t)for(var o=0;o<t.length;o++)e&&(e.innerText+=t[o].message+"\n"),console.error(t[o])},documentation:{title:"Documentation",value:["The examples below are written for the simple (glob) engine, not the regex engine. The glob engine is generally based on the UNIX glob syntax.<br />","<ul><br />","<li><code>google.com</code> will block https://google.com/, https://www.google.com/, https://abcdef.google.com/, https://def.abc.google.com/, etc.</li>","<li><code>abc.google.com</code> will block https://abc.google.com/, https://def.abc.google.com/, etc.</li>","<li><code>*.google.com</code> will block https://www.google.com/, https://def.abc.google.com/, etc. but not https://google.com/</li>","<li><code>google.*/</code> will block https://google.com/, https://www.google.co.uk, etc.</li>","<li><code>http://google.com</code> will block http://google.com/, but not https://google.com/, http://www.google.com/, etc.</li>","<li><code>google.com/test</code> will block https://google.com/test, https://www.google.com/test/abcdef, but not https://google.com/, etc.</li>","<li><code>google.com/*/test</code> will block https://google.com/abc/test, but not https://google.com/test or https://google.com/abc/def/test</li>","<li><code>google.com/**/test</code> will block https://google.com/abc/test, https://google.com/abc/def/test, https://google.com/abc/def/ghi/test, etc. but not https://google.com/test</li>","<li><code>g??gle.com</code> will block https://google.com/, https://gaagle.com/, https://goagle.com/, etc.</li>","<li><code>google.{com,co.uk}</code> will block https://google.com/ and https://google.co.uk/</li>","<li><code>g[oau]ogle.com</code> will block https://google.com/, https://gaogle.com/, and http://www.guogle.com/</li>","<li><code>g[0-9]ogle.com</code> will block https://g0ogle.com/, https://g1ogle.com/, etc. (up to https://g9ogle.com/)</li>","</ul>"].join("\n")}},bigimage_blacklist_engine:{name:"Blacklist engine",description:"How the blacklist should be processed",category:"rules",options:{glob:{name:"Simple (glob)"},regex:{name:"Regex"}}},filename_format:{name:"Filename format",description:"Format string(s) for the filename",type:"textarea",category:"rules",documentation:{title:"Documentation",value:["<p>Variables are specified between curly brackets (<code>{}</code>).</p>","<p>Below is a list of valid variables:</p>","<ul><br />","<li><code>filename</code> - Original filename (with extension, if applicable)</li>","<li><code>filename_noext</code> - Original filename (without extension, if applicable)</li>","<li><code>ext</code> - Extension (with <code>.</code> prefixed)</li>","<li><code>caption</code> - Popup caption</li>","<li><code>author_username</code> - Author's username</li>","<li><code>id</code> - Post ID</li>","<li><code>host_title</code> - Title of the current tab/window</li>","<li><code>host_url</code> - URL of the host webpage</li>","<li><code>host_domain</code> - Domain of the host webpage</li>","<li><code>host_domain_nosub</code> - Domain (without subdomains) of the host webpage</li>","<li><code>url</code> - URL of the media</li>","<li><code>domain</code> - Domain of the media</li>","<li><code>domain_nosub</code> - Domain (without subdomains) of the media</li>","<li><code>is_screenshot</code> - Blank, the line will only be processed when screenshotting a video</li>","<li><code>prefix</code>, <code>suffix</code> - Blank by default, these variables will be automatically prefixed/suffixed to the filename if set using <code>:=</code></li>","<li><code>created_...</code> - Created date (see note on Date objects below)</li>","<li><code>updated_...</code> - Updated date, this will use the <code>Last-Modified</code> header if not otherwise specified by the rule (see note on Date objects below)</li>","<li><code>download_...</code> - Download date (see note on Date objects below)</li>","<li><code>date_...</code> - Created/updated date (see note on Date objects below)</li>","</ul><br />","<p>You can truncate the value of a variable by adding <code>:(number)</code> before the end bracket (<code>}</code>). For example:</p>","<ul><br />","<li><code>{caption:10}</code> - Truncates the caption to be at most 10 characters long</li>","<li><code>{caption:10.}</code> - Same, but will add an ellipsis (…) if the caption was truncated</li>","</ul><br />","<p>If a variable doesn't exist, by default it will ignore the current format string and use the one on the next line, unless <code>?</code> is added before the end bracket. For example:</p>","<ul><br />","<li><code>{ext?}</code> - Will be replaced with nothing if <code>ext</code> doesn't exist</li>","<li><code>{caption?no caption}</code> - Will be replaced with <code>no caption</code> if <code>caption</code> doesn't exist</li>","</ul><br />","<p>You can check for equality and inequality with <code>==</code> and <code>!=</code> operators respectively. For example:</p>","<ul><br />","<li><code>{domain_nosub==cdninstagram.com}{author_username} {id}</code> - Will only run the current format (<code>{author_username} {id}</code> in this case) if the domain is cdninstagram.com</li>","</ul><br />","<p>You can check if a variable contains a string with <code>/=</code> (<code>!/=</code> for the opposite). It also supports two flags, <code>r</code> (regex) and <code>c</code> (case-sensitive), if added between <code>/</code> and <code>=</code>. For example:</p>","<ul><br />","<li><code>{domain/=instagram}{id}</code> - Will only run the current format (<code>{id}</code>) if the domain contains <code>instagram</code></li>","<li><code>{domain!/=instagram}{id}</code> - Likewise, but only if the domain does not contain <code>instagram</code></li>","<li><code>{domain/r=inst.*ram}{id}</code> - Likewise, but only if the domain matches the regex <code>inst.*ram</code></li>","<li><code>{window_title/c=Instagram}{id}</code> - Likewise, but only if the window's title contains <code>Instagram</code> (case-sensitively)</li>","<li><code>{window_title!/rc=Inst.*ram}{id}</code> - Likewise, but only if the window's title does not match the case-sensitive regex <code>Inst.*ram</code></li>","</ul><br />","<p>You can set a custom variable with <code>:=</code>. For example:</p>","<ul><br />","<li><code>{domain_nosub==cdninstagram.com}{foo:=bar}</code> - Sets the variable <code>foo</code> to <code>bar</code> if the domain is <code>cdninstagram.com</code>. The variable can then be accessed with e.g. <code>{foo}</code></li>","</ul><br />","<p>Date objects are accessible through a number of properties. Each property can be suffixed with <code>_utc</code> to get the UTC/GMT equivalent.</p>","<ul><br />","<li><code>..._iso</code> - Date in ISO format (e.g. <code>2019-12-31T23-30-56</code>). Note that <code>:</code> is replaced with <code>-</code> to avoid issues with paths under NTFS.</li>","<li><code>..._ago</code> - Human-readable representation of the time elapsed since the date (e.g. <code>1 year and 10 months ago</code>, <code>5 months and 20 days ago</code>)</li>","<li><code>..._unix</code> - Unix timestamp (e.g. <code>1577912345</code>)</li>","<li><code>..._unix_ms</code> - Unix timestamp with millisecond accuracy (e.g. <code>1577912345678</code>)</li>","<li><code>..._yyyymmdd</code> - Date in YYYYMMDD format (e.g. <code>20191230</code>)</li>","<li><code>..._hhmmss</code> - Time in HHMMSS format (e.g. <code>233056</code>)</li>","<li><code>..._year</code> - Full year (e.g. <code>2019</code>)</li>","<li><code>..._month</code> - Zero-padded month (e.g. <code>12</code>)</li>","<li><code>..._day</code> - Zero-padded day (e.g. <code>31</code>)</li>","<li><code>..._hours</code> - Zero-padded hours in military/24-hour format (e.g. <code>23</code>)</li>","<li><code>..._minutes</code> - Zero-padded minutes (e.g. <code>30</code>)</li>","<li><code>..._seconds</code> - Zero-padded seconds (e.g. <code>56</code>)</li>","</ul>"].join("\n")}},filename_replace_special_underscores:{name:"Replace special characters with underscores",description:'Replaces characters such as `/` or `"` with `_` when downloading. Note that browsers will usually do this automatically, this is just to ensure consistent behavior.',category:"rules"},replaceimgs_enable_keybinding:{name:"Enable trigger key",description:"Enables the use of the trigger key to run it without needing to use the menu",category:"extra",subcategory:"replaceimages"},replaceimgs_keybinding:{name:"Trigger key",description:"Trigger keybinding that will run the Replace Images function",requires:{replaceimgs_enable_keybinding:!0},type:"keysequence",category:"extra",subcategory:"replaceimages"},replaceimgs_auto:{name:"Automatically replace images",description:"Automatically replace images to larger versions on pages you view",warning:{true:"This could lead to rate limiting or IP bans"},needrefresh:!0,category:"extra",subcategory:"replaceimages"},replaceimgs_usedata:{name:"Use data URLs",description:"Uses data:// URLs instead of image links. Disabling this may improve compatibility with some bulk image downloader extensions",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_wait_fullyloaded:{name:"Wait until image is fully loaded",description:"Waits until the image being replaced is fully loaded before moving on to the next image",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_usedata:!1},imu_enabled_exempt:!0},replaceimgs_totallimit:{name:"Max images to process at once",description:"The maximum amount of images to process at once",type:"number",number_min:1,number_int:!0,number_unit:"images",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_domainlimit:{name:"Max images per domain at once",description:"The maximum amount of images per domain to process at once",type:"number",number_min:1,number_int:!0,number_unit:"images",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_delay:{name:"Delay between same-domain images",description:"New requests for images in the same domain will be delayed by this amount of seconds. Useful for avoiding rate limits.",type:"number",number_min:0,number_unit:"seconds",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_replaceimgs:{name:"Replace images",description:"Replaces images to their larger versions when the button is pressed",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_addlinks:{name:"Add links",description:"Adds links around replaced media if a link doesn't already exist",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_replacelinks:{name:"Replace links",description:"Replaces links if they already exist",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_addlinks:!0},imu_enabled_exempt:!0},replaceimgs_plainlinks:{name:"Plain hyperlinks",description:"How to treat plain (non-media) hyperlinks that link to potential media",category:"extra",subcategory:"replaceimages",options:{_type:"combo",none:{name:"Ignore"},replace_link_text:{name:"Replace link+text"},replace_media:{name:"Replace media"}},requires:{replaceimgs_replaceimgs:!0},imu_enabled_exempt:!0},replaceimgs_links_newtab:{name:"Links open in new tab",description:"Clicking on a replaced link will open the media in a new tab",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_addlinks:!0},imu_enabled_exempt:!0},replaceimgs_remove_size_constraints:{name:"Remove size constraints",description:"Removes height/width specifiers for replaced media",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_replaceimgs:!0},imu_enabled_exempt:!0},replaceimgs_size_constraints:{name:"Size constraints",description:"Removes or enforces height/width specifiers for replaced media",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_replaceimgs:!0},options:{_type:"combo",none:{name:"Ignore"},remove:{name:"Remove"},force:{name:"Force"}},imu_enabled_exempt:!0},replaceimgs_css:{name:"Replacement CSS",description:"CSS styles to apply to replaced media. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't yet supported here)",type:"textarea",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_replaceimgs:!0},imu_enabled_exempt:!0},replaceimgs_simple_progress:{name:"Simple progress",description:"Uses a simpler progress bar that has a fixed size for all media. This is useful to see how many images are replaced, rather than the ETA",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},highlightimgs_enable_keybinding:{name:"Enable trigger key",description:"Enables the use of the trigger key to run it without needing to use the menu",category:"extra",subcategory:"highlightimages"},highlightimgs_keybinding:{name:"Trigger key",description:"Trigger keybinding that will run the Highlight Images function",requires:{highlightimgs_enable_keybinding:!0},type:"keysequence",category:"extra",subcategory:"highlightimages"},highlightimgs_enable:{name:"Enable button",description:"Enables the 'Highlight Images' button",category:"extra",subcategory:"highlightimages",imu_enabled_exempt:!0},highlightimgs_auto:{name:"Automatically highlight images",description:"Automatically highlights images as you view pages",options:{_type:"or",always:{name:"Always"},hover:{name:"Hover",description:"When hovering over an image"},never:{name:"Never"}},category:"extra",subcategory:"highlightimages"},highlightimgs_onlysupported:{name:"Only explicitly supported images",description:"Only highlights images that can be made larger or the original version can be found",requires:[{highlightimgs_enable:!0},{highlightimgs_auto:"always"},{highlightimgs_auto:"hover"}],category:"extra",subcategory:"highlightimages"},highlightimgs_css:{name:"Highlight CSS",description:"CSS style to apply for highlight. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)",type:"textarea",requires:[{highlightimgs_enable:!0},{highlightimgs_auto:"always"},{highlightimgs_auto:"hover"}],category:"extra",subcategory:"highlightimages",imu_enabled_exempt:!0}},de={allow_watermark:"watermark",allow_smaller:"smaller",allow_possibly_different:"possibly_different",allow_possibly_broken:"possibly_broken",allow_possibly_upscaled:"possibly_upscaled",allow_bruteforce:"bruteforce"},xe={general:"category_general",redirection:"category_redirection",popup:"category_popup",keybinds:"category_keybinds",rules:"category_rules",website:"category_website",extra:"category_extra"},Se={general:{settings:"subcategory_settings",update:"subcategory_update",libraries:"subcategory_libraries",extension:"subcategory_extension"},popup:{trigger:"subcategory_trigger",source:"subcategory_popup_source",open_behavior:"subcategory_open_behavior",close_behavior:"subcategory_close_behavior",behavior:"subcategory_behavior",cache:"subcategory_cache",gallery:"subcategory_gallery",video:"subcategory_video",ui:"subcategory_ui",popup_other:"subcategory_popup_other"},keybinds:{popup:"subcategory_keybinds_popup_actions",gallery:"subcategory_gallery",video:"subcategory_video"},rules:{rule_specific:"subcategory_rule_specific"},extra:{replaceimages:"subcategory_replaceimages",highlightimages:"subcategory_highlightimages"}},qe={"action:popup":{mouseover_open_behavior:"popup"}};!function(){for(var e in Dn){var t=Dn[e];if(t.profiled)for(var o=Rn[e],r=0;r<Ln;r++){var n=r+2,i="t"+n+"_"+e;Rn=function(e,t,o,r){var n,i={};for(n in e)i[n]=e[n],n===t&&(i[o]=r);return i}(Rn,0<r?"t"+(n-1)+"_"+e:e,i,o);var a=Cn(t);Dn[i]=a,v&&(a.name=Un(a.name)+" (#"+n+")",a.description=null,a.example_websites=null),a.requires&&(i=a.requires,Hr(i)||(i=[i]),Qr(i,function(e){e["mouseover_trigger_key_t"+n]=!0}),a.requires=i)}}}();var me,Te=Cn(Rn);for(me in de)Rn[me]=$r(ee.exclude_problems,de[me])<0;function ge(e){return"string"==typeof e||"number"==typeof e}function fe(e,t){for(var o=0;o<e.array.length;o++)if(e.array[o].key===t)return o;return-1}var _e={},he=function(){var t;try{t=new Map}catch(e){t={imu_map:!0,object:{},array:[]}}return t},jn=function(e,t,o){var r;return kr&&Nr("map","map_set",Cn(t),Cn(o)),e.imu_map?ge(t)?e.object[t]=o:(r=fe(e,t))<0?e.array.push({key:t,value:o}):e.array[r].value=o:e.set(t,o),o},Pn=function(e,t){if(e.imu_map){if(ge(t))return e.object[t];var o=fe(e,t);return 0<=o?e.array[o].value:void 0}return e.get(t)},ve=function(e,t){return e.imu_map?ge(t)?t in e.object:0<=fe(e,t):e.has(t)},ye=function(e,t){var o;e.imu_map?ge(t)?delete e.object[t]:0<=(o=fe(e,t))&&e.array.splice(o,1):e.delete(t)},Ee=function(e,t){if(e.imu_map){for(var o in e.object)t(o,e.object[o]);for(var r=0;r<e.array.length;r++)t(e.array[r].key,e.array[r].value)}else for(var n=e.keys();;){var i=n.next();if(i.done)break;t(o=i.value,e.get(o))}},Ae=function(e){return e.imu_map?Object.keys(e.object).length+e.array.length:e.size},Mn=function(){return he()},Nn=function(e,t){return jn(e,t,!0)},Hn=function(e,t){return ve(e,t)};function $n(u){u=u||{},this.data=he(),this.times=he(),this.fetches=he(),this.set=function(e,t,o){if(kr&&Nr("cache","Cache.set key:",e,", time="+o+", value:",Cn(t)),this.remove(e),u.max_keys){var r=Ae(this.data);if(r>u.max_keys){var n=[];Ee(this.times,function(e,t){n.push({key:e,end_time:t.end_time,added_time:t.added_time})}),n.sort(function(e,t){return e.end_time?t.end_time?e.end_time-t.end_time:-1:t.end_time?1:e.added_time-t.added_time});for(var i=r-u.max_keys,a=0;a<n.length&&0<i;)this.remove(n[a++].key),i--}}jn(this.data,e,t);var s,r=Date.now();"number"==typeof o&&0<o?(s=this,t=setTimeout(function(){s.remove(e)},1e3*o),m&&"unref"in t&&t.unref(),jn(this.times,e,{timer:t,time:o,added_time:r,end_time:r+o})):jn(this.times,e,{added_time:r})},this.has=function(e){var t=ve(this.data,e);return kr&&Nr("cache","Cache.has key:",e,t),t},this.get=function(e){var t=Pn(this.data,e);return kr&&Nr("cache","Cache.get key:",e,Cn(t)),t},this.fetch=function(n,i,e){var a,t=ve(this.data,n);kr&&Nr("cache","Cache.fetch key:",n,", exists="+t),t?i(Pn(this.data,n)):ve(this.fetches,n)?Pn(this.fetches,n).push(i):(jn(this.fetches,n,[]),a=this,e(function(e,t){!1!==t&&a.set.bind(a)(n,e,t),i(e);for(var o=Pn(a.fetches,n),r=0;r<o.length;r++)o[r](e);ye(a.fetches,n)}))},this.remove=function(e){var t;kr&&Nr("cache","Cache.remove key:",e),ve(this.times,e)&&(0 in(t=Pn(this.times,e)),clearTimeout(t.timer)),u.destructor&&ve(this.data,e)&&u.destructor(e,Pn(this.data,e)),ye(this.times,e),ye(this.data,e)},this.clear=function(){kr&&Nr("cache","Cache.clear"),Ee(this.times,function(e,t){"timer"in t&&clearTimeout(t.timer)}),u.destructor&&Ee(this.data,function(e,t){u.destructor(e,t)}),this.times=he(),this.data=he()}}function Ce(e,t,n,i,o,a){e.fetch(n,o,function(r){"method"in i||(i.method="GET"),i.onload=function(t){if(200!==t.status)return i.silent||Pr(n,t),r(null,!1);try{var e=t,o=t.responseText;return i.jsonp&&(o=o.replace(/^[$_a-zA-Z][$_a-zA-Z0-9]+\(({[\s\S]*})\);?$/,"$1")),(i.json||i.jsonp)&&(e=N(o)),a(r,e,n)}catch(e){return Pr(n,e,t),r(null,!1)}},t(i)})}function Ie(t){Hr(t.website_regex)||(t.website_regex=[t.website_regex]);for(var e=null,o=0;o<t.website_regex.length&&!(e=function(e,t){var o=t;t.regex&&t.groups&&(o=t.regex);var r=e.match(o);return r&&(o!==t&&(r.groups||(r.groups={}),Qr(t.groups,function(e,t){r.groups[e]=r[t+1]})),r)}(t.url,t.website_regex[o]));o++);if(!e)return null;var r={url:t.url,is_pagelink:!0};if(!t.do_request||!t.cb)return r;var n=t.url.replace(/^[a-z]+:\/\/([^/]+)\/+.*$/,"$1"),n=ni(n);function i(e){return e?((e=!Hr(e)?[e]:e).push(r),t.cb(e)):t.cb(r)}return t.cache_key||(t.cache_key=n),t.override_cb||(t.override_cb=function(e,t){e(t)}),t.run||(t.run=function(e,r,n){var t=r[1];r.groups&&r.groups.id&&(t=r.groups.id);function o(e){return e.replace(/\${id}/g,t).replace(/\${([^/]+)}/g,function(e,t){return(/^[0-9]+$/.test(t)?r:r.groups)[t]})}n.id&&(t=o(n.id));var i=n.query_for_id;"object"==typeof(i="string"==typeof n.query_for_id?{url:i}:i)&&i.url?i.url=o(i.url):i=i(t,r),Ce(n.api_cache,n.do_request,n.cache_key+":"+t,i,e,function(e,t,o){return n.process(e,t,o,r,n)})}),t.run(function(e){t.override_cb(i,e)},e,t),{waiting:!0}}var ze=new $n,Ue=new $n,Re=new $n,Le=new $n,De=function(e){if(!e)return!1;for(var t=0;t<e.length;t++)if(0===e.charCodeAt(t))return!0;return!1};function je(e,t){return(e%t+t)%t}function Pe(e){return e.replace(/^([a-z]+:\/\/[^/]+)(\?.*)/,"$1/$2").replace(/^([a-z]+:\/\/[^/]+\.[^/]+)\.([?#/].*)?$/,"$1$2")}var Fn=function(e){e=e.match(/^([-a-z]+):/);if(e)return 0<=$r(["http","https","ftp","data","x-raw-image","blob","chrome","file"],e[1].toLowerCase());return!0};function On(e,t,o){if(0===t.length)return e;if(t.match(/^[-a-z]*:\/\//)||t.match(/^(?:data|x-raw-image|blob|about|javascript):/))return t;var r=e.split("://");if(r.length<2)return e;var n=r[0],r=n+"://"+r[1].split("/")[0];return o?2<=t.length&&"//"===t.slice(0,2)?n+":"+t:1<=t.length&&"/"===t.slice(0,1)?r+t:(2<=t.length&&"./"===t.slice(0,2)&&(t=t.substring(2)),function(e){for(var t=(e=e.split("://"))[1].split("/"),o=[],r=0;r<t.length;r++)".."===t[r]?o.pop():o.push(t[r]);return e[0]+"://"+o.join("/")}((e=!e.match(/\/$/)?e.replace(/^([^?]*)\/.*?$/,"$1/"):e)+t.replace(/^\/*/,""))):e.replace(/\/*$/,"")+"/"+t.replace(/^\/*/,"")}function Me(e,t,o){for(var r=[],n=0;n<e.length;n++){var i=Cn(t);if("string"==typeof e[n])i.url=e[n];else for(var a in e[n])o&&a in i||(i[a]=e[n][a]);r.push(i)}return r}function Ne(e,t,o){t=t||["jpg","jpeg","png","gif","webp","JPG","JPEG","PNG","GIF"],Hr(e)||(e=[e]);for(var r=[],n=0;n<e.length;n++){var i=e[n],a=i,s=/(.*)\.([^/.]*?)([?#].*)?$/;if((a="string"!=typeof i?i.url:a).match(s)){var u=a.replace(s,"$2"),l=a.replace(s,"$1"),c=a.replace(s,"$3");o||r.push(i);for(var p,d,n=0;n<t.length;n++)!o&&u===t[n]||(p=l+"."+t[n]+c,"string"==typeof i?r.push(p):((d=Cn(i)).url=p,r.push(d)));o&&$r(r,i)<0&&r.push(i)}else r.push(i)}return r}function He(e){return Ne(e,["jpg","png"])}function $e(e){return Ne(e,["jpeg","png"])}function Fe(e){return Ne(e,["jpg","jpeg","png"])}function Oe(e){return Ne(e,["jpg","png","gif"])}function Ge(e){return Ne(e,["jpg","png","JPG","PNG"])}function Be(e){return Ne(e,["jpg","jpeg","png","JPG","JPEG","PNG"])}function We(e){return e.match(/^[a-z]+:\/\//)?e:"http://"+e}function Ve(e){return e.replace(/^http:\/\//,"https://")}function Xe(e){return e.match(/^https?:\/\//)?e:e.match(/^https?%3[aA]/)||/^[^/]*%2[fF]/.test(e)?decodeURIComponent(e):e.match(/^https?%253[aA]/)?decodeURIComponent(decodeURIComponent(e)):e}function Ze(e,t,o){for(var r=null,n=null,i=0;i<t.length;i++){var a=t[i];if((a="object"==typeof a?a.url:a)===e){"object"==typeof t[i]&&t[i].problems&&(r=t[i].problems),n=t[i],t.splice(i,t.length);break}}if(r)for(i=0;i<t.length;i++)if("object"==typeof t[i]&&t[i].problems)for(var s in t[i].problems)t[i].problems[s]===r[s]&&delete t[i].problems[s];return o&&!t.length&&t.push(n),t}var Ke=function(e,t){if(null==t)return t;var o=Wr(o);return o.href=t,o.href},Gn=function(e,t){e=e.replace(/.*\//,"");return"remove_queryhash"in(t=t||{})||(t.remove_queryhash=!0),t.remove_queryhash?(e=e.replace(/[?#].*$/,""),t.split_ext?(t=t.known_ext?e.match(/(.*?)\.(mp4|mpe?g|jpe?g|jfif|png|tiff|og[agv]|m4[av]|web[pm]|mkv|avi|gif|mpd|m3u8|zip)$/i):e.match(/(.*)\.([^.]*)$/))?[t[1],t[2]]:[e]:e):e},Bn=function(o){return Hr(o=o||{})||(o=[o]),Qr(o,function(e,t){"string"==typeof e&&(o[t]={url:e})}),o},Wn=function(e,t){Hr(e=e||{})||(e=[e]),Hr(t=t||{})&&(t=t[0]);for(var o,r=0;r<e.length;r++)if(void 0!==e[r]){if("string"==typeof e[r]&&(e[r]={url:e[r]}),!e[r].url||!t.url||t.url===e[r].url)for(o in t)o in e[r]||(e[r][o]=t[o]);for(o in te)o in e[r]||(e[r][o]=Cn(te[o]));e[r].video&&"image"===e[r].media_info.type&&(!0===e[r].video?e[r].media_info={type:"video"}:"string"==typeof e[r].video?e[r].media_info={type:"video",delivery:e[r].video}:(e[r].media_info=Cn(e[r].video),e[r].media_info.delivery=e[r].media_info.type,e[r].media_info.type="video"))}return e},Vn=function(e){return Fr(e,"%")<0?encodeURI(e):e},Xn=function(e,t,o){return o=o||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(o)+e};function Ye(e){for(var t=e.toString(),o="",r=0;r<t.length;r+=2)o+=T(parseInt(t.substr(r,2),16));return o}function Je(e){for(var t=[],o=0;o<e.length;o+=2)t.push(parseInt(e.substr(o,2),16));return t}function Qe(e){for(var t="",o=0;o<e.length;o++)e[o]<16&&(t+="0"),t+=e[o].toString(16);return t}function et(e){return nn.run_arrayd_string(e,{cb:function(e){return e.reverse()}})}function tt(e){var t=e.match(/^\s*<!\[CDATA\[([\s\S]+)\]\]>\s*$/);return t?t[1]:e.replace(/&nbsp;/g," ").replace(/&#([0-9]+);/g,function(e,t){return T(t)}).replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function ot(e){return e.replace(/&/g,"&amp;")}function rt(e){return e.replace(/([\^$])/g,"\\$1")}function nt(e,t){var o=e.replace(/#.*/,"").replace(/^.*?\?/,"");if(!o||o===e)return{};t=t||{};for(var r={},n=o.split("&"),i=0;i<n.length;i++){var a=n[i],s=!0,u=n[i].match(/^(.*?)=(.*)/);u&&(a=u[1],s=u[2]),0!==a.length&&(t.decode&&(s=decodeURIComponent(s)),r[a]=s)}return r}function Zn(e,t){var o,r,n,i=[];for(o in e)0!==o.length&&(n=e[r=o],t&&(n=encodeURIComponent(n)),!0!==e[o]&&(r+="="+n),i.push(r));return i.join("&")}function it(e,t){Hr(t)||(t=[t]);var o=e.replace(/^([^#]*?)\?(.*)$/,"$1"),r=e.replace(/^([^#]*?)\?(.*)$/,"$2");if(o===e)return e;for(var n=r.split("&"),i=[],a=0;a<n.length;a++){var s=n[a].replace(/^(.*?)=.*/,"$1");$r(t,s)<0&&i.push(n[a])}return o+(r=0===i.length?"":"?"+i.join("&"))}function at(e,t,o){Hr(t)||(t=[t]),o=o||{};var r=nt(e),n=[],i=Mn();if(Qr(t,function(e){var t;e in r&&(t=e+"=",o.overwrite&&e in o.overwrite?t+=o.overwrite[e]:t+=r[e],n.push(t),Nn(i,e))}),o.required){!0===o.required&&(o.required=t);var a=0;if(Qr(o.required,function(e){return!!Hn(i,e)&&void a++}),a<o.required.length)return e}if(o.overwrite)for(var s in o.overwrite)Hn(i,s)||n.push(s+"="+o.overwrite[s]);return t=0===n.length?"":"?"+n.join("&"),e.replace(/\?.*/,"")+t}function st(e,t){var o,r=nt(e);for(o in t)r[o]=t[o];var n=Zn(r);return n?e.replace(/^([^#]*?)(?:\?.*)?$/,"$1?"+n):e}var ut=null;be?"undefined"!=typeof GM_notification?ut=GM_notification:"undefined"!=typeof GM&&GM.notification&&(ut=GM.notification):xr&&(ut=function(t,o){var e=Cn(t,{json:!0});t.onclick&&(e.onclick=!0),Sr({type:"notification",data:e},function(e){e&&e.data&&("clicked"===e.data.action?t.onclick&&t.onclick():"closed"===e.data.action&&(o=t.ondone||o)&&o())})});function lt(e){return e.replace(/(?:[-=_!?$#"'’‘”“]|\[|])/g," ").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}var ct=function(e,t){if(!(t<=0))for(var o=0;o<t;o++)e.push(0)};function pt(e,t){if("string"!=typeof e||"string"!=typeof t)return null;var o=/^[0-9]+(\.[0-9]+){0,}$/;if(!o.test(e)||!o.test(t))return null;var r=e.split("."),n=t.split(".");r.length!==n.length&&(ct(r,n-r),ct(n,r-n));for(var i=0;i<r.length;i++){var a=I(r[i]),s=I(n[i]);if(a<s)return 1;if(s<a)return-1}return 0}function dt(n){bn({url:"https://api.github.com/repos/qsniyg/maxurl/tags",method:"GET",headers:{Referer:""},onload:function(e){if(!(e.readyState<4)){if(200!==e.status)return n(null);try{for(var t=N(e.responseText),o=0;o<t.length;o++){var r=t[o].name;if(r.match(/^v[0-9.]+$/))return n({version:r.replace(/^v([0-9])/,"$1")})}}catch(e){Pr("Unable to parse github info",e)}return n(null)}}})}function mt(e){dt(e)}var gt=function(){var e=Rn.last_update_url;return e=e||(r?u:be?l:null)},ft=function(){Rn.imu_enabled&&Rn.check_updates&&M&&Rn.last_update_check&&Date.now()-Rn.last_update_check>60*Rn.check_update_interval*60*1e3&&mt(function(e){var t;_o("last_update_check",Date.now()),e&&e.version&&(e.downloadurl?_o("last_update_url",e.downloadurl):_o("last_update_url",null),_o("last_update_version",e.version),Rn.check_update_notify&&!Lr&&1===pt(M,e.version)&&(e={text:Un("Update available (%%1)",e.version)},(t=gt())&&(e.onclick=function(){yn({url:t})}),e=e,ut&&(e.title||(e.title=Un("Image Max URL")),e.image||(e.image="https://raw.githubusercontent.com/qsniyg/maxurl/b5c5488ec05e6e2398d4e0d6e32f1bbad115f6d2/resources/logo_256.png"),ut(e,e.ondone||null))))})};function _t(e,t,o){if(e===t)return 1;if(e-1===t||e+1===t)return 1;for(var r=0;r<o.length;r++)if(e===o[r]){if(1===t)return 1}else if(t===o[r]&&1===e)return 1}function ht(e,t,o){return 1===e&&0<=$r(o,t)||1===t&&0<=$r(o,e)}function vt(e,t){if(e===t)return!0;if(8!==e.length||8!==t.length)return!1;var o=I(e.substr(6,2)),r=I(t.substr(6,2));if(!_t(o,r,[28,29,30,31]))return!1;var n=I(e.substr(4,2)),i=I(t.substr(4,2)),r=ht(o,r,[28,29,30,31]);if(n!==i){if(!r)return!1;if(!_t(n,i,[12]))return!1}e=I(e.substr(0,4)),t=I(t.substr(0,4));if(e!==t){if(!r||!ht(n,i,[12]))return!1;if(!_t(e,t,[]))return!1}return!0}function Kn(e){setTimeout(e,1)}var Ke=function(e,t){return On(e,t,!0)},yt=[];function bt(){ze.clear()}function wt(){if(yt=[],"string"==typeof(e=Rn.bigimage_blacklist||""))for(var e=e.split("\n"),t=0;t<e.length;t++){var o=e[t].replace(/^\s+|\s+$/,"");if(0!==o.length)if("regex"===Rn.bigimage_blacklist_engine)try{yt.push(new RegExp(o))}catch(e){return[e]}else if("glob"===Rn.bigimage_blacklist_engine){for(var r,n="",i=-1,a=-1,s=0;s<o.length;s++)if(0<=i)"]"===o[s]&&(n+=o.substr(i,s-i+1),i=-1);else if(0<=a){if("}"===o[s]){for(var u=o.substr(a+1,s-a-1).split(","),l=[],c=0;c<u.length;c++)l.push(u[c].replace(/(.)/g,"[$1]"));0<l.length&&(1<l.length||0<l[0].length)&&(n+="(?:"+l.join("|")+")"),a=-1}}else"*"===o[s]?(r=!1,s+1<o.length&&"*"===o[s+1]&&(r=!0,s++),n+=r?".+":"[^/]+"):"{"===o[s]?a=s:"["===o[s]?i=s:"?"===o[s]?n+="[^/]":"."===o[s]?n+="\\.":n+=o[s];o="^"+(o="*"!==(o=n)[0]?(n=o.replace(/^[a-z]*:\/\//,"[a-z]+://"))!==o?n:"[a-z]+://[^/]*"+o:o);try{yt.push(new RegExp(o))}catch(e){return[e]}}}else Mr("Invalid blacklist",e)}function kt(e){var t=Yn(e.responseHeaders);return(t=t&&Jn(t))&&t.location?t.location:e.finalUrl}function xt(e){for(var t=At=At||function(){for(var e=[],t=0;t<256;t++){for(var o=t,r=0;r<8;r++)o=1&o?3988292384^o>>>1:o>>>1;e[t]=o}return e}(),o=-1,r=0;r<e.length;r++)o=o>>>8^t[255&(o^e.charCodeAt(r))];return(-1^o)>>>0}function St(){this._headers={},this._response_headers={},this._reqobj=null,this._last_readyState=null,this.open=function(e,t,o){this._method=e,this._url=t},this.setRequestHeader=function(e,t){Tt(this._headers,e,t)},this.getResponseHeader=function(e){return Qn(this._response_headers,e)},this.getAllResponseHeaders=function(){return this._response_headers_raw},this.send=function(r,e,t){var n={method:this._method,url:this._url,data:e,timeout:r.timeout||0,withCredentials:r.withCredentials||!0,responseType:r.responseType};0<Object.keys(this._headers).length&&(n.headers=this._headers);e=function(t,o){n["on"+o]=function(e){!function(e,t,o){o&&(e.status=o.status||0,e.statusText=o.statusText,e.response=o.response,e.readyState=o.readyState,e.responseText=o.responseText,e.responseType=o.responseType,e.responseURL=o.finalUrl,this._response_headers_raw=o.responseHeaders);var r={currentTarget:e,target:e,loaded:e.loaded,lengthComputable:e.lengthComputable,total:e.total};o&&o.responseHeaders?this._response_headers=Jn(Yn(o.responseHeaders)):o&&(this._response_headers=null),e.readyState!==this._last_readyState&&(e.onreadystatechange&&e.onreadystatechange.bind(e)(r),this._last_readyState=e.readyState),"load"===t&&(e.onload&&e.onload.bind(e)(r),e.onloadend&&e.onloadend.bind(e)(r)),"error"===t&&(e.onerror&&e.onerror.bind(e)(r),e.onloadend&&e.onloadend.bind(e)(r)),"abort"===t&&(e.onabort&&e.onabort.bind(e)(r),e.onloadend&&e.onloadend.bind(e)(r)),"progress"===t&&e.onprogress&&e.onprogress.bind(e)(r),"timeout"===t&&e.ontimeout&&e.ontimeout.bind(e)(r)}.bind(t)(r,o,e)}};e(this,"load"),e(this,"error"),e(this,"abort"),e(this,"progress"),e(this,"timeout"),this._reqobj=t(n)},this.abort=function(){this._reqobj&&this._reqobj.abort()}}var Yn=function(e){for(var t=[],o=e.split("\r\n"),r=0;r<o.length;r++){var n=o[r].replace(/^\s*([^:]*?)\s*:[\s\S]*/,"$1").toLowerCase(),i=o[r].replace(/^[^:]*?:\s*([\s\S]*?)\s*$/,"$1");if(n!==o[r]&&i!==o[r])for(var a=i.split("\n"),s=0;s<a.length;s++)t.push({name:n,value:a[s]})}return kr&&jr("parse_headers",e,Cn(t)),t},Jn=function(e){for(var t={},o=0;o<e.length;o++)t[e[o].name.toLowerCase()]=e[o].value;return t},qt=function(e){var t,o=[];for(t in e)o.push({name:t,value:e[t]});return o},Qn=function(e,t){for(var o in e)if(o.toLowerCase()===t.toLowerCase())return e[o]},Tt=function(e,t,o){for(var r in e)if(r.toLowerCase()===t.toLowerCase())return e[r]=o;return e[t]=o},Et={"image/jpeg":"jpg","application/dash+xml":"mpd"},ei=function(e){if((e=e.replace(/^\s*\[?([^/]+)\/([^/]+?)\]?\s*$/,"$1/$2"))in Et)return Et[e];e=e.match(/^([^/]+)\/([^/]+)$/);return!e||"image"!==e[1]&&"video"!==e[1]?null:e[2]},At=null;St.do_request=bn;function Ct(e,t){if(1,t){var o=!0,t=";return {lib: lib_export, xhr: XMLHttpRequest, overridden_xhr: "+(o=!Rn.custom_xhr_for_lib?!1:o)+"};";if(o){o="var XMLHttpRequest=null;(function(imu_xhr){XMLHttpRequest="+function(){for(var o=new imu_xhr.custom_xhr,e=["open","setRequestHeader","getResponseHeader","getAllResponseHeaders","abort"],t=0;t<e.length;t++){var r=e[t];!function(e){var t=o[e];this[e]=function(){return t.apply(o,arguments)}}.bind(this)(r)}this.send=function(e){return o.send(this,e,XMLHttpRequest.do_request)}}.toString()+";XMLHttpRequest.do_request = imu_xhr.do_request;})(imu_xhr);delete imu_xhr;";return new Function("imu_xhr",o+e+t)({custom_xhr:St,do_request:bn})}return new Function(e+t)()}return new Function(e+";return lib_export;")()}function It(e){return e.replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/[\u2800]/g," ")}var zt={testcookie_slowaes:{name:"testcookie_slowaes",url:"https://raw.githubusercontent.com/qsniyg/maxurl/e90366f4b6c998614509472717fd18ca8050c1fa/lib/testcookie_slowaes.js",archive_time:"20210403210438",size:30462,crc32:1012990654,crc32_size:2369381957},shaka:{name:"shaka.debug",url:"https://raw.githubusercontent.com/qsniyg/maxurl/588bef6bf443ee9b00f07ce77638c1bf435101c6/lib/shaka.debug.js",archive_time:"20210215220612",size:1067495,crc32:2828102141,crc32_size:3777086751,xhr:!0},cryptojs_aes:{name:"cryptojs_aes",url:"https://raw.githubusercontent.com/qsniyg/maxurl/22df70495741c2f90092f4cc0c504a1a2f6e6259/lib/cryptojs_aes.js",archive_time:"20210215220612",size:13453,crc32:4282597182,crc32_size:3521118067},stream_parser:{name:"stream_parser",url:"https://raw.githubusercontent.com/qsniyg/maxurl/0655c317844fb7a652c6ee9f88ab65514c53b482/lib/stream_parser.js",archive_time:"20210403204309",size:115544,crc32:270289712,crc32_size:2967398805},ffmpeg:{name:"ffmpeg",url:"https://raw.githubusercontent.com/qsniyg/maxurl/2178819a193656245ce1a2bd885ff12aaaa04ea9/lib/ffmpeg.js",archive_time:"20210403204304",size:285642,crc32:2587771391,crc32_size:2632494853,xhr:!0},jszip:{name:"jszip",url:"https://raw.githubusercontent.com/qsniyg/maxurl/04ded19e6a25408d7a272420778a2147983949bc/lib/jszip.js",archive_time:"20210403204254",size:99574,crc32:2493372642,crc32_size:624003151}},ti=function(i,a,r,t){if(!a.allow_thirdparty_libs)return Mr("Refusing to request library "+i+" due to 3rd-party library support being disabled"),t(null);if(!(i in zt))return Pr("Invalid library",i),t(null);var s=zt[i];if(g)return t(null);if(m)try{return t(require("./lib/"+s.name+".js"))}catch(e){return console.error(e),t(null)}if(!xr&&!be)return t(null);Re.fetch(i,t,function(n){var e,t,o;xr?Sr({type:"get_lib",data:{name:s.name}},function(e){return e&&e.data&&e.data.text?void n(Ct(e.data.text,s.xhr),0):n(null,0)}):(o=s.url,a.use_webarchive_for_lib&&(o=s.archive_url||((t=s.archive_time)||(t=""+(e=new Date).getFullYear(),t+=Xn(e.getMonth()+1,2),t+=Xn(e.getDate(),2),t+=Xn(e.getHours(),2),t+=Xn(e.getMinutes(),2),t+="00"),"https://web.archive.org/web/"+t+"js_/"+s.url)),r({method:"GET",url:o,headers:{Referer:""},onload:function(e){if(4===e.readyState){if(200!==e.status)return Pr(e),n(null,!1);var t,o,r=e.responseText;if(a.use_webarchive_for_lib&&(r=r.replace(/^\s*var _____WB\$wombat\$assign\$function_____[\s\S]*_____WB\$wombat\$assign\$function_____[(].*[)];\n\n/,"").replace(/\n\n}\n\/\*\s*FILE ARCHIVED ON[\s\S]*/,"").replace(/(["'])https:\/\/web.archive.org\/web\/[0-9]+(?:[a-z]+_)?\/+(https?:\/\/)/g,"$1$2").replace(/(["'])\/\/web.archive.org\/web\/[0-9]+(?:[a-z]+_)?\/+https?:(\/\/)/g,"$1$2")),Rn.lib_integrity_check){if(r.length!==s.size)return Pr("Wrong response length for "+i+": "+r.length+" (expected "+s.size+")"),n(null,!1);e=xt(r);if(e!==s.crc32)return Pr("Wrong crc32 for "+i+": "+e+" (expected "+s.crc32+")"),n(null,!1);if((e=xt(r+(s.size+"")))!==s.crc32_size)return Pr("Wrong crc32 #2 for "+i+": "+e+" (expected "+s.crc32_size+")"),n(null,!1);t&&jr("Check time:",Date.now()-o)}n(function(e,t){try{return Ct(e,t)}catch(e){return Pr(e),null}}(r,s.xhr),0)}}}))})},Ut=function(e){return e&&"string"==typeof e?e.replace(/^\s+/,"").replace(/\s+$/,""):e},oi=function(e){return e&&"string"==typeof e?Ut(It(e)):e},Rt=function(e,r){function t(e){var t,o;n.onload=null,n.onerror=null,clearTimeout(i),n.naturalHeight&&n.naturalWidth||(o=t=null),t=I(n.naturalWidth),o=I(n.naturalHeight),n.src="",r(t,o)}var n=new Image(e),i=null;n.onload=n.onerror=t,i=setInterval(function(){n.naturalHeight&&n.naturalWidth&&t()},10),n.src=e};m&&(Rt=null);function Lt(e,o,r){return e.sort(function(e,t){e=e[o],t=t[o],t=r?(e=r(e),r(t)):(e=parseFloat(e)||0,parseFloat(t)||0);return e-t})}function Dt(e,n){return e.sort(function(e,t){var o=$r(n,e),r=$r(n,t);return o<0?0<=r?1:e.localeCompare(t):r<0?-1:o-r}),e}function jt(e){var t=e.match(/^<([-a-zA-Z0-9]+)((?:\s+[-a-z0-9A-Z]+(?:=(?:"[^"]+"|'[^']+'|[-_a-zA-Z0-9]+))?)*)\s*(\/?)>/);if(!t)return null;var o={tagname:t[1],selfclosing:!!t[3],args:{},args_array:[]},r=/\s+([-a-z0-9A-Z]+)(?:=("[^"]+"|'[^']+'|[-_a-zA-Z0-9]+))?/;if(!(t=t[2].match(new RegExp(r,"g"))))return o;for(var n=0;n<t.length;n++){var i=t[n].match(r),a=i[1].toLowerCase(),s=(s=i[2])?tt(s.replace(/^["'](.*)["']$/,"$1")):"";o.args[a]=s,o.args_array.push({name:i[1],value:s})}return o}function Pt(e,t){return t=new RegExp("<meta\\s+(?:(?:property|name|itemprop)=[\"']?"+t+"[\"']?\\s+(?:content|value|href)=[\"']([^'\"]+)[\"']|(?:content|value|href)=[\"']([^'\"]+)[\"']\\s+(?:property|name|itemprop)=[\"']?"+t+"[\"']?)\\s*/?>"),(t=e.match(t))?tt(t[1]||t[2]):null}function Mt(e){return e.replace(/([{,])\s*([^[{,"'\s:]+)\s*:/g,'$1 "$2":').replace(/(\"[^\s:"]+?\":)\s*'([^']*)'(\s*[,}])/g,'$1 "$2"$3').replace(/,\s*}$/,"}")}function Nt(s,n){for(var e in n=Cn(n)){var t=n[e];t instanceof RegExp?n[e]={type:"regex",value:new RegExp("^"+t.source)}:Hr(t)&&(Hr(t[0])?n[e]={type:"or",value:t}:n[e]={type:"and",value:t})}function l(e,t,o){if(e in a||(a[e]=0),a[e]++,o in u||(u[o]=0),u[o]++,"sliteral"===e||"dliteral"===e)return function(e,t){for(var o="dliteral"===e?'"':"'",r="",n=!1,i=t;i<s.length;i++){var a=s[i];if(n)n=!1,"x"===a?(r+="\\u00"+s.substr(i+1,2),i+=2):r+='"'!==a&&"'"!==a?"\\"+a:a;else{if(a===o)break;"\\"===a?n=!0:r+=a}}return[{name:e,i:t,ni:i,value:r,length:i-t}]}(e,t);var r=n[e];return"and"===r.type?c(r,t,o):"or"===r.type?p(r,t,o):function(e,t,o){t=s.substring(o).match(t);return t&&0===t.index?[{name:e,i:o,ni:o+t[0].length,value:t[0],length:t[0].length}]:null}(e,r.value,t)}function i(e,t,o){for(var r=[],n=0;n<e.length;n++){var i,a=e[n],s=a[a.length-1],u=a.substring(0,a.length-1);if("?"===s)(i=l(u,t,o+1))&&0!==i.length&&(Jr(r,i),t=i[i.length-1].ni);else if("*"===s)for(;;){if(!(i=l(u,t,o+1))||0===i.length)break;Jr(r,i),t=i[i.length-1].ni}else{if(!(i=l(a,t,o+1))||0===i.length)return null;Jr(r,i),t=i[i.length-1].ni}}return r}var a={},u={},c=function(e,t,o){return i(e.value,t,o)},p=function(e,t,o){for(var r=0;r<e.value.length;r++){var n=i(e.value[r],t,o);if(n&&n.length)return n}return null};return l("doc",0,0)}function Ht(e){var t=Nt(e,$t);if(!t)throw"unable to parse";for(var o={whitespace:" ",jvarname:function(e){return'"'+e+'"'},jpropname:function(e){return'"'+e+'"'},squote:'"',sliteral:function(e){return e.replace(/"/g,'\\"')},dliteral:function(e){return e.replace(/"/g,'\\"')},comma:function(e,t){return t&&"objend"!==t.name&&"arrend"!==t.name?e:""}},r="",n=0;n<t.length;n++){var i=t[n];if(i.name in o){var a=o[i.name];if("function"==typeof a){for(var s=1,u=t[n+s++];u&&"whitespace"===u.name;)u=t[n+s++];r+=a(i.value,u)}else r+=a}else r+=i.value}return r}var $t={whitespace:/\s+/,jvarname:/[$_a-zA-Z][$_a-zA-Z0-9]*/,jpropname:/[$_a-zA-Z0-9]+/,number:/-?(?:[0-9]*\.[0-9]+|[0-9]+|[0-9]+\.)(?:e[0-9]+)?/,objstart:/{/,objend:/}/,object:["objstart","whitespace?","kvcw*","objend"],arrstart:/\[/,arrend:/]/,array:["arrstart","whitespace?","valuecw*","arrend"],true:/true/,false:/false/,null:/null/,value:[["array"],["object"],["sstring"],["dstring"],["number"],["true"],["false"],["null"]],valuew:["value","whitespace?"],valuec:["valuew","comma?"],valuecw:["valuec","whitespace?"],comma:/,/,colon:/:/,squote:/'/,dquote:/"/,sstring:["squote","sliteral","squote"],dstring:["dquote","dliteral","dquote"],propname:[["jpropname"],["sstring"],["dstring"]],kv:["propname","whitespace?","colon","whitespace?","value"],kvw:["kv","whitespace?"],kvc:["kvw","comma?"],kvcw:["kvc","whitespace?"],doc:[["object"],["array"]]};nn.fetch_imgur_webpage=function(o,a,s,r,e){var t="imgur_webpage:"+r.replace(/^https?:\/\/(?:www\.)?imgur/,"imgur").replace(/[?#].*/,""),u=!1,l=function(i){var e,t=r.replace(/^http:/,"https:");o({url:t,method:"GET",headers:e=u?s:e,onload:function(e){if(4===e.readyState){if(200!==e.status)return Pr("Bad status for Imgur: "+e.status),404===e.status?i({bad:!0},!1):i(null,!1);var t,o=e.responseText.match(/<meta\s+property=["']og:video["']\s+content=["'](.*?)["']/),o={ogvideo:t=o?tt(o[1]).replace(/\?.*/,""):t,ogimage:r=(o=e.responseText.match(/<meta\s+property=["']og:image["']\s+content=["'](.*?)["']/))?tt(o[1]).replace(/\?.*/,""):r},r=e.responseText.match(/\.\s*mergeConfig\s*\(\s*["']gallery["']\s*,\s*{[\s\S]+?image\s*:\s*({.*?})\s*,\s*\n/);if(r){o.found_match=!0,n=r[1];try{n=N(n),(o.imageinfo=n).source&&n.hash&&!n.is_album&&a.set("imgur_imageinfo:"+n.hash,n,21600)}catch(e){Pr(e),jr(r),n=void 0}i(o,21600)}else{o.found_match=!1;var n="Unable to find match for Imgur page";if(e.responseText.match(/<a.*?btn-wall--yes.*?\.(?:signin|cookie)\(/)&&(n+=" (it's probably NSFW and you aren't logged in)",o.nsfw=!0),Mr(n),s&&!u)return jr("Retrying with custom headers"),u=!0,l(i);i(o,15)}}}})};a.fetch(t,e,l)},nn.imgur_run_api=function(e,t,o,r,n){(r=r||{}).client_id=w("IDU0NmMyNWE1OWM1OGFkNw==").slice(1),url=o+"?"+Zn(r),Ce(t,e,"imgur_api:"+url,{url:url,imu_mode:"xhr",headers:{Referer:"https://imgur.com/"},json:!0},n,function(e,t){return e(t,3600)})},nn.imgur_api_fetch_album_media=function(e,t,o,r,n){"album"===o?o="albums":"image"===o&&(o="media");return nn.imgur_run_api(e,t,"https://api.imgur.com/post/v1/"+o+"/"+r,{include:"media,adconfig,account"},n)},nn.imgur_fetch_album_media=function(t,o,r,n,i){if("album"!==r&&"image"!==r)return Pr("Bug! Invalid type:",r),i(null);function a(e){return e=e&&nn.imgur_normalize(e),i(e)}if(!("rule_specific"in t&&"imgur_source"in t.rule_specific&&t.rule_specific.imgur_source))return nn.imgur_api_fetch_album_media(t.do_request,o,r,n,a);var e="https://imgur.com/";"album"===r&&(e+="a/"),nn.fetch_imgur_webpage(t.do_request,o,null,e+=n,function(e){return e&&e.found_match&&e.imageinfo?a(e.imageinfo):nn.imgur_api_fetch_album_media(t.do_request,o,r,n,a)})},nn.imgur_normalize=function(e){var t;return"media"in e||(e.album_images?e.media=e.album_images.images:e.images&&(e.media=e.images)),"is_album"in e||"album_images"in e&&(e.is_album=!0),"url"in e||(e.link?e.url=e.link:e.hash&&(t="https://imgur.com/",e.is_album&&(t+="a/"),e.url=t+e.hash)),e},nn.imgur_image_to_obj=function(e,t,o){var r=[];try{var n=o;((n=o.metadata?o.metadata:n).description||n.title)&&(t.extra.caption=n.description||n.title),o.hash||o.id&&(o.hash=o.id),t.extra.page="https://imgur.com/"+o.hash,o.ext&&("."!==o.ext[0]&&(o.ext="."+o.ext),".jpeg"===o.ext.toLowerCase()&&(o.ext=".jpg"));var i,a,s,u,l=null;o.hash&&o.ext&&(l=o.hash+o.ext,i=Cn(t),"rule_specific"in e&&"imgur_filename"in e.rule_specific&&e.rule_specific.imgur_filename&&o.name&&(i.filename=o.name),(s=Cn(i)).url="https://i.imgur.com/"+l,a=o.mimetype||o.mime_type,/^video\//.test(a)?(s.video=!0,r.push(s),(s=Cn(i)).url="https://i.imgur.com/"+o.hash+".jpg"):(n.is_animated||o.animated)&&(o.prefer_video,1)&&((u=Cn(i)).url="https://i.imgur.com/"+o.hash+".mp4",u.video=!0,r.push(u)),r.push(s)),o.source&&/^https?:\/\//.test(o.source)&&("rule_specific"in e&&"imgur_source"in e.rule_specific&&!0!==e.rule_specific.imgur_source||(u={url:o.source},r.unshift(u)))}catch(e){Pr(e),r=[]}return r},nn.deviantart_url_from_id=function(e,t,o,r){if("string"==typeof o&&/^[a-z0-9]+$/.test(o)&&7===o.length&&"d"===o[0])return r("https://deviantart.com/a/art/"+(parseInt(o,36)-28298170368));Ce(t,e,"deviantart_url_from_id:"+o,{method:"HEAD",url:"http://fav.me/"+o,cookie_url:"https://www.deviantart.com/"},r,function(e,t,o){e(t.finalUrl,21600)})},nn.deviantart_page_from_id=function(t,o,r,n){nn.deviantart_url_from_id(t,o,r,function(e){return e?void Ce(o,t,"deviantart_page_from_id:"+r,{url:e},n,function(e,t,o){e(t,3600)}):n(null)})},nn.wix_image_info=function(e){var t=e.match(/^[a-z]+:\/\/[^/]+\/+(?:intermediary\/+)?([if])\/+[-0-9a-f]{20,}\/+[^/?]+([?#].*)?$/);if(t){var o={};return t[3]&&"?"===t[3][0]&&(o.has_token=!0),"i"===t[1]?o.preview=!0:o.original=!0,o}if(!(t=e.match(/^[a-z]+:\/\/[^/]+\/+(?:intermediary\/+)?[if]\/+[-0-9a-f]{20,}\/+[^/]+\/+v1\/+(?:fit|fill|crop)\/+([^/]+)\/+[^/]+(?:[?#].*)?$/)))return null;for(var r,n,i=t[1].split(","),o={},a=0;a<i.length;a++)i[a].match(/^[a-z]+$/)?o[i[a]]=!0:(r=i[a].replace(/_.*$/,""),(n=i[a].replace(/^.*?_/,"")).match(/^[-0-9.]+$/)&&(n=parseFloat(n)),o[r]=n);return o.w&&o.h&&(o.pixels=o.w*o.h),o},nn.wix_compare=function(e,t,o){if(kr&&jr("wix_compare",e,t,o),!t)return e;var r=nn.wix_image_info(e),n=nn.wix_image_info(t);if(kr&&jr("wix_compare (info1:",r,"info2:",n,")"),!r||!n)return null;if(r.original&&n.original)return n.has_token?e:t;if(r.original&&(!o||!n.preview))return e;if(n.original&&(!o||!r.preview))return t;if(r.pixels&&n.pixels){if(r.pixels>n.pixels)return e;if(n.pixels>r.pixels)return t;if(r.q&&n.q){if(r.q>n.q)return e;if(n.q>r.q)return t}}return null},nn._wix_bigimage_inner=function(e){return newsrc=e.replace(/(:\/\/[^/]*\/)(f\/+[-0-9a-f]{36}\/+[0-9a-z]+-[-0-9a-f]{20,}(?:\.[^/.]*)?\/+v1\/+fill\/+w_[0-9]+,h_[0-9]+)(?:,[^/]+)?(\/+.*[?&]token=.*)$/,"$1$2,q_100$3"),newsrc!==e?newsrc:(newsrc=e.replace(/(:\/\/[^/]*\/f\/+[-0-9a-f]{36}\/+[0-9a-z]+-[-0-9a-f]{20,}\.(?:png|PNG)\/+v1\/+fill\/+[^/]+\/+[^/?#]+)\.[^/.?#]+(\?.*)?$/,"$1.png$2"),newsrc===e&&(/^[a-z]+:\/\/[^/]+\/+f\/+[-0-9a-f]{36}\/+[a-z0-9]{5,}-[-0-9a-f]{36}\.[^/.?#]+\?token=[^&]+(?:#.*)?$/.test(e)||(newsrc=e.replace(/(:\/\/[^/]*\/)(f\/+[-0-9a-f]{36}\/+.*?)[?&]token=.*$/,"$1intermediary/$2"),newsrc===e))&&(e.match(/[?&]token=.{30,}/)||(newsrc=e.replace(/(\.[^/.]*)\/v1\/.*/,"$1").replace(/(\/[^/.]*\.[^/.]*?)_[_0-9.a-z]*$/,"$1"),newsrc===e))?null:newsrc)},nn.wix_bigimage=function(e){for(var t=[];e;)t.unshift(e),e=nn._wix_bigimage_inner(e);return t},nn.deviantart_fullimage=function(h,e,v,t,y){nn.deviantart_page_from_id(h.do_request,e,t,function(e){if(!e)return y(null);var t={url:null,waiting:!1,extra:{page:e.finalUrl}},o=[];v.match(/:\/\/[^/]*\/fake_image\//)||Jr(o,nn.wix_bigimage(v));var r=e.finalUrl.replace(/.*-([0-9]+)(?:[?#].*)?$/,"$1");r===e.finalUrl&&(r=null);e=e.responseText.match(/window\.__INITIAL_STATE__\s*=\s*JSON\.parse\((".*")\);\s*(?:window\.|<\/script)/);if(e&&r){e=N(N(e[1]));try{var n=e["@@entities"],i=n.deviation[r],a=null;n.deviationExtended&&(a=n.deviationExtended[r]),kr&&(jr("Deviation object",i),jr("Extended deviation object",a)),i.title&&(t.extra.caption=i.title);var s=t.url,u=i.files;if(Hr(u))for(var l=u.length-1;0<=l;l--){var c=u[l];(g=nn.wix_compare(c.src,s,h.rule_specific.deviantart_prefer_size))===c.src&&(s=g)}else if("media"in i&&Hr(i.media.types)){i.media.prettyName&&(t.filename=i.media.prettyName);for(var p=i.media.types,l=p.length-1;0<=l;l--){var d=null,m=0;"r"in p[l]&&p[l].r<i.media.token.length&&(m=p[l].r);var g,f="?token="+i.media.token[m];p[l].c?d=i.media.baseUri+"/"+p[l].c.replace("<prettyName>",i.media.prettyName)+f:p[l].b?d=p[l].b+f:"fullview"===p[l].t&&"r"in p[l]&&(d=i.media.baseUri+f),d&&(g=nn.wix_compare(d,s,h.rule_specific.deviantart_prefer_size))===d&&(s=g)}}var _=nn.wix_bigimage(s);nn.wix_image_info(s);0,Jr(_,o),o=_,a&&h.rule_specific.deviantart_support_download&&a.download&&a.download.url&&o.unshift({url:a.download.url,is_private:!0})}catch(e){Pr(e)}}return y(Me(o,t))})},nn.get_testcookie_cookie=function(e,t,o,r){var l="testcookie_cookie:"+o,n=e.do_request;t.fetch(l,r,function(u){ti("testcookie_slowaes",e,e.do_request,function(s){return s?void n({method:"GET",url:o,headers:{Referer:"",Cookie:""},onload:function(e){if(4===e.readyState){if(200!==e.status)return jr(l,e),u(null,!1);var t=e.responseText.match(/[a-z]=\s*toNumbers\(["'][0-9a-f]+["']/g);if(!t)return jr(l,"Unable to find toNumbers match",e),u(null,!1);for(var o={},r=0;r<t.length;r++){var n=t[r].match(/([a-z])=toNumbers\(["']([0-9a-f]+)["']/);o[n[1]]=Je(n[2])}var i=e.responseText.match(/slowAES\.decrypt\s*\(\s*(.)\s*,\s*(.)\s*,\s*(.)\s*,\s*(.)\s*\)/);if(!i)return jr(l,"Unable to find slowAES match",e),u(null,!1);if(!(a=e.responseText.match(/document\.cookie\s*=\s*["']([^='"]*?)=/)))return jr(l,"Unable to find cookie name match",e),u(null,!1);var a=a[1],e=function(e){return/[a-z]/.test(e)?o[e]:I(e)},i=Qe(s.decrypt(e(i[1]),e(i[2]),e(i[3]),e(i[4])));u(a+"="+i,21600)}}}):(Pr(l,"Unable to fetch patched slowAES library"),u(null,!1))})})},nn.static_unpack_packer=function(e,o,t,r){for(var n=function(e){var t="";return o<=e&&(t=n(parseInt(e/o))),t+=35<(e%=o)?T(e+29):e.toString(36)},i=10===o?function(e){return e+""}:o<=36?function(e){return e.toString(o)}:n,a={},s=t;0<=s;s--){var u=i(s);a[u]=r[s]||u}return e.replace(/\b\w+\b/g,function(e){return a[e]})},nn.unpack_packer=function(e){var t=e.match(/eval\(function\(p,a,c,k,e,[rd]\){.*?return p}\('(.*?)',([0-9]+),([0-9]+),'(.*?)'\.split\('[|]'\)(?:,0,{})?\)\)/);if(!t)return null;var o=t[1].replace(/([^\\])\\'/g,"$1'"),r=parseInt(t[2]),e=parseInt(t[3]),t=t[4].split("|");return nn.static_unpack_packer(o,r,e,t)},nn.instagram_username_from_sharedData=function(e){if(e.username)return e.username;e=e.entry_data;return(e.ProfilePage?e.ProfilePage[0].graphql.user:e.PostPage[0].graphql.shortcode_media.owner).username},nn.instagram_get_imageid=function(e){if(!e)return e;if("number"==typeof e)return e;var t=e.replace(/.*\/stories\/+[^/]+\/+([0-9]+)\/*(?:[?#].*)?$/,"$1");return t===e&&(t=e.replace(/.*\/([^/.]*)\.[^/.]*(?:[?#].*)?$/,"$1"))===e?null:t},nn.instagram_norm_url=function(e){return it(e,["se","ig_cache_key"])},nn.set_cdninstagram_obj=function(e){return(e="string"==typeof e?{url:e}:e).headers||(e.headers={}),Tt(e.headers,"Referer","https://www.instagram.com/"),e.video?Tt(e.headers,"Sec-Fetch-Dest","video"):Tt(e.headers,"Sec-Fetch-Dest","image"),Tt(e.headers,"Sec-Fetch-Mode","cors"),Tt(e.headers,"Sec-Fetch-Site","cross-site"),e.need_credentials=!1,e},nn.instagram_parse_el_info=function(g,p,f,d,m,e,t,o){function r(e,t){return"https://www.instagram.com/"+e+"/"+t+"/"}var a=/^[a-z]+:\/\/[^/]*\.instagram\.com\//.test(t);try{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",i=BigInt(64),s=function(e){e=e.substring(0,11);for(var t=BigInt(0),o=0;o<e.length;o++){var r=BigInt(Fr(n,e[o]));t*=i,t+=r}return t.toString()}}catch(e){s=function(){return Mr("BigInt is not supported in your browser"),null}}function u(e){try{var t=(t=e.match(/window\._sharedData = *(.*?);?<\/script>/))||e.match(/window\._sharedData *= *(.*?}) *;[\s]*window\.__initialDataLoaded/),o=N(t[1]);if(t=e.match(/window\.__additionalDataLoaded\(["'].*?["']\s*,\s*({.*?})\);?\s*<\/script>/)){var r,n=N(t[1]);for(r in o.entry_data)Hr(o.entry_data[r])&&(o.entry_data[r][0]=function e(t,o){if("function"==typeof t||Hr(t))return o;if("object"!=typeof t)return o;if("object"!=typeof o)return o;for(var r in o)r in t?t[r]=e(t[r],o[r]):t[r]=o[r];return t}(o.entry_data[r][0],n))}return o}catch(e){Pr(e)}return null}function l(e,t){if(!p)return t(null);var o="instagram_sharedData_query:"+(e=e.replace(/[?#].*/,"").replace(/([^/])$/,"$1/").replace(/^http:/,"https:").replace(/(:\/\/)(instagram\.com\/)/,"$1www.$2").replace(/(:\/\/.*?)\/\/+/g,"$1/"));g.fetch(o,t,function(o){p({method:"GET",url:e,onload:function(e){if(4===e.readyState){var t=u(e.responseText);return t?o(t,3600):(jr("instagram_sharedData",e),o(null,!1))}}})})}function c(e,t){var o="instagram_username_uid:"+(e=e.match(/^http/)?e.replace(/^[a-z]+:\/\/[^/]*\/+(?:stories\/+)?([^/]*)(?:\/.*)?(?:[?#].*)?$/,"$1"):e);g.fetch(o,t,function(t){l("https://www.instagram.com/"+e+"/",function(e){try{t(function(e){if(e.id)return e.id;e=e.entry_data;return(e.ProfilePage?e.ProfilePage[0].graphql.user:e.PostPage[0].graphql.shortcode_media.owner).id}(e),300)}catch(e){Pr(o,e),t(null,!1)}})})}function _(d,e,t){function o(p){!function(e,t){if(!f)return t(null);var r="instagram_story_uid:"+e;g.fetch(r,t,function(o){D("https://i.instagram.com/api/v1/feed/user/"+e+"/reel_media/",function(t){if(!t)return o(null,!1);if(4===t.readyState){if(200!==t.status)return jr(r,t),o(null,!1);try{var e=N(t.responseText);return o(e,600)}catch(e){jr(r,t),Pr(r,e)}return o(null,!1)}})})}(e,function(t){if(!t)return p(null);try{for(var e=t.items,o=[],r=null,n=0;n<e.length;n++){var i,a,s,u=e[n],l=j(u);l.length<1?Mr("No images found for",u):(i=l[0],o.push(i),i.username&&i.id&&(i.page="https://www.instagram.com/stories/"+i.username+"/"+i.id+"/"),a=nn.instagram_get_imageid(i.src),g.set("instagram_story_pic:"+a,i,21600),i.video&&(s=nn.instagram_get_imageid(i.video),g.set("instagram_story_pic:"+s,i,21600)),i.id&&g.set("instagram_story_pic:"+i.id,i,21600),!d||a!==d&&s!==d&&i.id!==d.replace(/_[0-9]+$/,"")||(r=i))}var c=[];return Qr(o,function(e){e.page&&c.push(e.page),e.album_link=e.page,e.album=c}),d?p(null!==r?r:null):p(o)}catch(e){return jr(m,t),Pr(m,e),p(null)}})}var m;d?g.fetch(m="instagram_story_pic:"+d,t,function(t){o(function(e){return t(e,!!e&&21600)})}):o(t)}function h(e,o){return c(e,function(e){return e?(t=e,e=function(e){if(!e)return o(null);var t=function(t){try{return t.hd_profile_pic_url_info.url}catch(e){try{return t.profile_pic_url}catch(e){return Pr(e,t),null}}}(e),e={url:nn.instagram_norm_url(t),extra:{author_username:e.username,page:"https://www.instagram.com/"+e.username}};return o(nn.set_cdninstagram_obj(e))},void g.fetch("instagram_uid_to_profile:"+t,e,function(o){D("https://i.instagram.com/api/v1/users/"+t+"/info/",function(t){if(!t)return o(null,!1);if(4===t.readyState)try{var e=N(t.responseText).user;o(e,300)}catch(e){jr("instagram_uid_to_profile",t),Pr("instagram_uid_to_profile",e),o(null,!1)}})})):o(null);var t}),{waiting:!0}}function v(e){return"string"==typeof e?e:e.text||(e.edges&&0<e.edges.length?e.edges[0].node.text:null)}function y(e){return e.caption?v(e.caption):e.title?v(e.title):e.edge_media_to_caption?v(e.edge_media_to_caption):void 0}function b(e){return e.shortcode||e.code||null}function w(e){var t=b(e);return t?"igtv"===e.product_type?r("tv",t):"clips"===e.product_type?r("reel",t):r("p",t):null}function k(e){return(e=e.user||e.owner)&&e.username?e.username:null}function x(e){return e.date?1e3*e.date:e.taken_at_timestamp?1e3*e.taken_at_timestamp:e.created_time?1e3*e.created_time:e.taken_at?1e3*e.taken_at:null}function S(e,t){for(var o=0;o<t.length;o++){if("first"===e)return t[o];if("number"!=typeof e){if(0<Fr(t[o].src,e))return t[o];if(t[o].id===e)return t[o]}else if(e===t[o].i)return t[o]}return null}function q(e,t,o){var r=e;"string"==typeof r&&"first"!==r&&(r=nn.instagram_get_imageid(e));var n=S(r,t);return n?(e=null,t={largest:n},(e=o?S(r,o):e)&&e!==n&&(t.smallest=e),t):null}function T(l){function e(e,t){var o,r,n=(n=t.display_src)||t.display_url,i=0,a=0,s=0,u=0;t.dimensions&&(i=t.dimensions.width,a=t.dimensions.height),n&&((o=q(n,c))?(o.largest.width,o.largest.height):(t.video_url&&640<i&&(s=i*(r=640/i),u=a*r),(De(t.video_url)||De(n))&&(a=i=0),s||u||(s=i,u=a),r=null,t.dash_info&&t.dash_info.video_dash_manifest&&(r=t.dash_info.video_dash_manifest),c.push({src:n,video:t.video_url,caption:y(l),shortcode:b(l),page:w(l),username:k(l),created:x(l),width:i,height:a,video_width:s,video_height:u,video_dash:r,i:e+1,total_images:p})))}var c=[],p=1;if(l.edge_sidecar_to_children)for(var t=l.edge_sidecar_to_children.edges,p=t.length,o=0;o<t.length;o++){var r=t[o];e(o,r=r.node?r.node:r)}return e(0,l),c}function E(e,t,o){var r,n={},i=null;if(e.caption&&(n.caption=e.caption),e.page&&(n.page=e.page),e.username&&(n.author_username=e.username),e.created&&(n.created_date=e.created),e.shortcode&&(n.id=e.shortcode),e.album)for(var a,i={type:"links",links:a=[]},s=0;s<e.album.length;s++)a.push({url:e.album[s],is_current:e.album_link===e.album[s]});else if(e.total_images&&"i"in e&&!isNaN(e.i)&&e.page){i={type:"links",links:a=[]};for(s=1;s<e.total_images+1;s++)a.push({url:e.page+"#imu-i="+s,is_current:s===e.i})}return e.video_dash&&(r="data:application/dash+xml,"+encodeURIComponent(e.video_dash),o.push(nn.set_cdninstagram_obj({url:r,video:"dash",extra:Cn(n),album_info:Cn(i)}))),e.video&&t.push({url:nn.instagram_norm_url(e.video),video:!0,extra:Cn(n),album_info:Cn(i)}),t.push({url:nn.instagram_norm_url(e.src),extra:Cn(n),album_info:Cn(i)}),Me(t,nn.set_cdninstagram_obj({}),!0)}function A(e){if(!e)return null;var t=[],o=[];return e=function(e){if(!e.smallest)return e;var t,o=(e=Cn(e)).largest,r=e.smallest;return o.video_width*o.video_height<r.video_width*r.video_height&&(t=o.video,o.video=r.video,r.video=t,e=o.video_width,t=o.video_height,o.video_width=r.video_width,o.video_height=r.video_height,r.video_width=e,r.video_height=t),{largest:o,smallest:r}}(e),t=E(e.largest,t,o),e.smallest&&(t=E(e.smallest,t,o)),Jr(o,t),o}function C(e){e.shortcode&&g.set("graphql_ig_post:"+e.shortcode,e)}function I(e,o){l(e,function(e){if(!e)return o(null);try{var t=e.entry_data.PostPage[0].graphql.shortcode_media;return o(t)}catch(e){Pr(e)}return o(null)})}function z(n,e,i){if(!e)return i(null);var a="graphql_ig_post:"+e;g.fetch(a,function(t){var e=!1;if("GraphVideo"!==t.__typename||t.video_url){if("GraphSidecar"===t.__typename)if(t.edge_sidecar_to_children&&t.edge_sidecar_to_children.edges&&0<t.edge_sidecar_to_children.edges.length)for(var o=t.edge_sidecar_to_children.edges,r=0;r<o.length;r++){if(!o[r]||!o[r].node){e=!0;break}if("GraphVideo"===o[r].node.__typename&&!o[r].node.video_url){e=!0;break}}else e=!0}else e=!0;e&&p?I(n,function(e){e&&(g.set(a,e),t=e),i(t)}):i(t)},function(t){I(n,function(e){return e?t(e,3600):t(null,!1)})})}function U(n,u,l){var o,r,e,c=(match=n.match(/^[a-z]+:\/\/[^/]+\/+(?:[^/]+\/+)?(?:p|tv|reel)\/+([^/]+)/),match?match[1]:null);return o=n,r=c,e=function(e){if(!e)return l(null);try{!function(e,t){if(!f)return t(null);var r="instagram_mediainfo:"+e;g.fetch(r,t,function(o){D("https://i.instagram.com/api/v1/media/"+e+"/info/",function(t){if(!t)return o(null,!1);if(4===t.readyState){if(200===t.status){var e=null;try{e=N(t.responseText)}catch(e){jr("instagram_mediainfo",t),Pr("instagram_mediainfo",e)}if(kr&&jr("instagram_mediainfo",e),e)return o(e,3600)}else Pr(r,t);o(null,!1)}})})}(e,function(e){var i=[],a=[],s=[],t=[],o=!d;null!==e?s=j(e.items[0]):(f&&Mr("Unable to use API to find Instagram image, you may need to login to Instagram"),o=!0);function r(){if(kr&&(jr("images_app",s),jr("images_graphql",t)),s&&s.length||(s=null),t&&t.length||(t=null),!s&&!t)return l(null);function o(){if(kr&&(jr("images_small",Cn(a)),jr("images",Cn(i),u)),!u)return l(i);var e=q(u,i,a);if(e)return l(A(e));Pr("Unable to find",u,"in",i,a),l(null)}if(s&&t&&s.length===t.length){for(var r=0,n=0,e=0;e<s.length;e++)s[e].width*s[e].height<t[e].width*t[e].height?(i[e]=t[e],a[e]=s[e]):(i[e]=s[e],a[e]=t[e]),function(t){m&&s[t].video&&(n++,nn.find_actual_largest_image(i[t].video,[i[t].video,a[t].video],function(e){r++,e===i[t].video?(i[t].video_width=1e4,i[t].video_height=1e4):e===a[t].video&&(a[t].video_width=1e4,a[t].video_height=1e4),n<=r&&o()},{check_length:!0,api_cache:g,do_request:p}))}(e);if(n)return}else a=s?(i=s,t):(i=t,s);o()}o?z(n,c,function(e){e&&(t=T(e)),r()}):r()})}catch(e){Pr(e),l(null)}},g.fetch("ig_shortcode_to_id:"+r,e,function(t){var e=s(r);if(e)return t(e,86400);z(o,r,function(e){return e&&e.id?t(e.id,86400):t(null,!1)})}),{waiting:!0}}function R(e,t,o){return"undefined"!=typeof document&&function(t){if(a){t=u(t);if(t)try{var e,o=t.entry_data;if("ProfilePage"in o)for(var r=o.ProfilePage[0].graphql.user.edge_owner_to_timeline_media.edges,n=0;n<r.length;n++){var i=r[n].node;C(i)}else"PostPage"in o&&(e=o.PostPage[0].graphql.shortcode_media,C(e))}catch(e){Pr(e,t)}}}(document.documentElement.innerHTML),U(e,t,o)}function L(e,t){var o,r,n,i;if("post"===e.type){if(e.all&&(e.image=null),o=R(e.url,e.image,t))return o}else if("profile"===e.type){if(o=h(e.url,t))return o}else if("story"===e.type&&(e.all&&(e.image=null),r=e.url,n=e.image,i=t,o=(t=r.replace(/.*\/stories\/+([^/]*).*$/,"$1"))===r?null:(c(t,function(e){if(!e)return i(null);var t,o=nn.instagram_get_imageid(n);o||!n||(t=n.replace(/.*\/stories\/+[^/]+\/+([0-9]+)\/*(?:[?#].*)?$/,"$1"))!==n&&(o=t),_(o,e,function(e){if(!e)return i(null);var t=e;if(Hr(t)||(t=[t]),o&&n){e=q(n,t);if(!e)return Mr("Unable to find",n,"in",t),i(null);e=A(e);return i(e)}return i(t)})}),{waiting:!0})))return o;return o}var D=function(t,o){if(!p)return o(null);var r={"User-Agent":"Instagram 146.0.0.27.125 (iPhone12,1; iOS 13_3; en_US; en-US; scale=2.00; 1656x3584; 190542906)","X-IG-Capabilities":"36oD",Accept:"*/*","Accept-Language":"en-US,en;q=0.8","Sec-CH-UA":""};(function(e){e&&(r.Cookie=Q(e)),f||(r.Cookie=""),p({method:"GET",url:t,headers:r,onload:o})})(null)},j=function(c){function p(e,t){return t.height||e.original_height/e.original_width*t.width}function e(e,t){for(var o=t.image_versions2.candidates,r=0,n=null,i=0;i<o.length;i++)o[i].corrected_height=p(t,o[i]),r<(u=o[i].width*o[i].corrected_height)&&(r=u,n=o[i]);var a,s=null;if((s=null!==n?{src:n.url,caption:y(c),shortcode:b(c),page:w(c),username:k(c),created:x(c),id:(a=c).id&&"string"==typeof a.id?a.id.replace(/_[0-9]+$/,""):a.pk?a.pk.toString():null,width:n.width,height:n.height,i:e+1,total_images:m}:s)&&t.video_versions){for(var u,r=0,n=null,l=t.video_versions,i=0;i<l.length;i++)l[i].corrected_height=p(t,l[i]),r<=(u=l[i].width*l[i].corrected_height)&&(r=u,n=l[i]);null!==n&&(s.video=n.url,s.video_width=n.width,s.video_height=n.corrected_height),t.video_dash_manifest&&(s.video_dash=t.video_dash_manifest)}null!==s&&d.push(s)}var d=[],m=1;if("carousel_media"in c)for(var m=c.carousel_media.length,t=0;t<c.carousel_media.length;t++)e(t,c.carousel_media[t]);else m=1,e(t,c);return d};return function(e,t){for(var o,r=0;r<e.length;r++)if(o=L(e[r],t))return o;return o}(e,o)},nn.instagram_get_el_for_imageid=function(t){var o=t;if("VIDEO"===(o="SOURCE"===o.tagName?o.parentElement:o).tagName&&o.parentElement)try{o=(o=o.parentElement.querySelectorAll("img[srcset]"))&&0!==o.length?o[0]:t}catch(e){Pr(e),o=t}else o=t;return o},nn.instagram_get_image_src_from_el=function(e){if(e.hasAttribute("data-imu-data"))try{var t=N(e.getAttribute("data-imu-data"));if(t.src)return t.src}catch(e){Pr(e)}if("VIDEO"===e.tagName)return e.poster||e.currentSrc||e.src;if("IMG"===e.tagName)return e.src;if("DIV"===e.tagName)return e.style.backgroundImage.replace(/^url\(["'](.*)["']\)$/,"$1");if("SOURCE"===e.tagName){if(e.parentElement){t=nn.instagram_get_image_src_from_el(e.parentElement);if(t)return t}return e.src}Pr("Unable to find source for",e)},nn.instagram_find_el_info=function(e,t,o){var r=[],n=nn.instagram_get_image_src_from_el(t);if(t.hasAttribute("data-imu-info"))try{for(var i=N(t.getAttribute("data-imu-info")),a=0;a<i.length;a++)i[a].element=t,i[a].image||(i[a].image=n),delete i[a].all;return i}catch(e){Pr("Unable to parse data-imu-info for",t)}for(var s,u=t;u=u.parentElement;)"A"===u.tagName&&(u.href.match(/:\/\/[^/]+\/+(?:[^/]+\/+)?(?:p|tv|reel)\//)?r.push({type:"post",subtype:"link",url:u.href,image:n,element:u}):u.href.match(/:\/\/[^/]+\/+[^/]+(?:\/+(?:[?#].*)?)?$/)&&r.push({type:"profile",subtype:"link",url:u.href,element:u}));for(u=t;u=u.parentElement;){if("HEADER"===u.tagName){for(var l=null,c=e.getElementsByTagName("script"),a=0;a<c.length;a++)c[a].innerText.match(/^ *window\._sharedData/)&&(l=c[a].innerText.replace(/^ *window\._sharedData *= *({.*}) *;.*?/,"$1"));if(!l){Pr("Shared data not found");continue}var p,l=N(l),d=o;if(d.match(/:\/\/[^/]+\/+p\//)){if("SPAN"===t.parentElement.tagName&&"link"===t.parentElement.getAttribute("role"))for(var m=u.getElementsByTagName("a"),a=0;a<m.length;a++){var g=m[a],f=g.href.match(/^[a-z]+:\/\/[^/]+\/+([^/]+)\/*(?:[?#].*)?$/);if(f&&oi(g.innerText).toLowerCase()===f[1].toLowerCase()){p=oi(g.innerText).toLowerCase();break}}if(!p)try{var _=u.querySelector("h2 > a");oi(_.innerText)===oi(_.title)&&(p=_.innerText)}catch(e){}if(!p)try{p=u.querySelector("section h1").innerText}catch(e){Pr(e)}d=p?"https://www.instagram.com/"+oi(p):null}d&&r.push({type:"profile",subtype:"page",url:d,element:u})}("DIV"===u.tagName&&"dialog"===u.getAttribute("role")||"BODY"===u.tagName&&o.match(/:\/\/[^/]*\/+(?:[^/]+\/+)?(?:p|tv|reel)\//))&&r.push({type:"post",subtype:"BODY"===u.tagName?"page":"popup",url:o,image:n,element:u}),"ARTICLE"!==u.tagName||!o.match(/:\/\/[^/]+\/+(?:[?#].*)?$/)||(d=u.querySelector("a > time"))&&(s=d.parentElement.href,/:\/\/[^/]*\/+(?:[^/]+\/+)?p\//.test(s)&&r.push({type:"post",subtype:"home",url:s,image:n,element:u})),"BODY"===u.tagName&&o.match(/:\/\/[^/]*\/+stories\/+([^/]*)(?:\/+[0-9]+)?\/*(?:[?#].*)?$/)&&(s=nn.instagram_get_el_for_imageid(t),r.push({type:"story",url:o,image:nn.instagram_get_image_src_from_el(s),element:u}))}return r},nn.twitter_normalize_status_link=function(e){return e.match(/\/status\/+([0-9]+)(?:\/+(?:retweets|likes|photo|video)(?:\/+.*)?|\/*)(?:[?#].*)?$/)?e.replace(/(\/status\/+[0-9]+)\/*.*(?:[?#].*)?$/,"$1"):null},nn.get_twitter_tweet_link=function(e){for(var t=e;t=t.parentElement;){if("A"===t.tagName)if(n=nn.twitter_normalize_status_link(t.href))return n;if("ARTICLE"===t.tagName){for(var o=t.querySelectorAll("a[role='link']"),r=0;r<o.length;r++){var n,i=o[r].href;if(i)if(n=nn.twitter_normalize_status_link(i))return n}break}}return null},nn.get_twitter_caption=function(e){for(var t=e;t=t.parentElement;)if("ARTICLE"===t.tagName){var o=t.querySelectorAll("div[lang]");if(o&&1===o.length)return o[0].innerText;break}return null},nn.get_twitter_video_tweet=function(e,t){if("VIDEO"!==e.tagName||!e.src.match(/^blob:/))return null;var o=e.poster;if(!o)return null;if(!/\/ext_tw_video_thumb\/+[0-9]+\/+pu\/+img\//.test(o))return null;if(a=t.location.href.match(/\/i\/+videos\/+tweet\/+([0-9]+)(?:[?#].*)?$/))return{id:a[1]};for(var r=e;r=r.parentElement;)if("ARTICLE"===r.tagName){for(var n=r.querySelectorAll("a[role='link']"),i=0;i<n.length;i++){var a,s=n[i].href;if(s)if(a=s.match(/\/status\/+([0-9]+)(?:\/+(?:retweets|likes)|\/*)(?:[?#].*)?$/))return{id:a[1]}}break}return null},nn.get_snapchat_story=function(e,t,r,o){e.fetch("snapchat_story:"+r,o,function(o){t({method:"GET",url:"https://search.snapchat.com/lookupStory?id="+r,headers:{"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site",Origin:"https://www.snapchat.com",Referer:"https://www.snapchat.com/add/"+r},onload:function(t){if(4===t.readyState){if(200!==t.status)return Pr(t),o(null,!1);try{var e=N(t.responseText);return o(e,60)}catch(e){return Pr(e,t),o(null,!1)}}}})})},nn.get_snapchat_storysharing=function(e,t,r,o){e.fetch("snapchat_storysharing:"+r,o,function(o){t({method:"GET",url:"https://storysharing.snapchat.com/v1/fetch/"+r+"?request_origin=ORIGIN_WEB_PLAYER",headers:{"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site",Origin:"https://www.snapchat.com",Referer:"https://www.snapchat.com/add/"+r},onload:function(t){if(4===t.readyState){if(200!==t.status)return Pr(t),o(null,!1);try{var e=N(t.responseText).story;return o(e,60)}catch(e){return Pr(e,t),o(null,!1)}}}})})},nn.snap_norm_obj=function(e){return match=e.url.match(/:\/\/[^/]+\/+[0-9a-f]{2}\/+([^/]{10,})\//),match&&(e.filename=match[1].replace(/[-=]/g,"")),e},nn.snap_to_obj=function(e){var t=null;t={url:e.media.mediaUrl,extra:{caption:t||null},need_blob:!0};return nn.snap_norm_obj(t),t},nn.get_snapchat_info_from_el=function(e){if(e.getAttribute("data-imu"))return{username:e.getAttribute("data-username"),pos:I(e.getAttribute("data-pos")),url:e.getAttribute("data-url")};if("VIDEO"!==e.tagName&&"IMG"!==e.tagName&&("DIV"!==e.tagName||!e.style.backgroundImage||e.style.backgroundImage.indexOf("blob:")<0))return null;for(var t=e;t=t.parentElement;)if("DIV"===t.tagName&&"presentation"===t.getAttribute("role")){for(var o="",r=t.getElementsByTagName("a"),n=0;n<r.length;n++){var i=r[n].href.match(/^[a-z]+:\/\/story\.snapchat\.com\/+s\/+([^/?#]+)(?:[?#].*)?$/);if(i){o=i[1];break}}var a=0;return t.querySelector("#PrevButton")&&(a=1),{username:o,pos:a=!t.querySelector("#NextButton")?-1:a}}return null},nn.get_obj_from_snap_info=function(e,t,o,r){if(!o)return r(null);nn.get_snapchat_storysharing(e,t,o.username,function(e){return e?(-1===o.pos&&(o.pos=e.snaps.length-1),r(nn.snap_to_obj(e.snaps[o.pos]))):r(null)})},nn.get_md5=function(e,t,o){ti("cryptojs_aes",e,e.do_request,function(e){if(!e)return Pr("Unable to fetch CryptoJS"),o(null);try{return o(e.MD5(t).toString())}catch(e){return Pr(e),o(null)}})},nn.get_tiktok_urlvidid=function(e){e=e.match(/^[a-z]+:\/\/[^/]+\/+(?:[0-9a-f]{32}\/+[0-9a-f]{8}\/+)?video\/+(?:[^/]+\/+)?[^/]+\/+[^/]+\/+([0-9a-f]{32})\/*\?/);return e?e[1]:null},nn.set_tiktok_vid_filename=function(e){var t=nn.get_tiktok_urlvidid(e.url);return!!t&&(e.filename=t+".mp4",!0)},nn.get_tiktok_weburl_parts=function(e){e=e.match(/^[a-z]+:\/\/[^/]+\/+@([^/]+)\/+video\/+([0-9]+)(?:[?#].*)?$/);return e?{username:e[1],web_vid:e[2]}:null},nn.get_tiktok_from_ttloader=function(e,t,o,r,n){var i=e+":"+r;e=e.replace(/:.*/,""),Ce(t,o,i,{url:"https://"+e+"/wp-json/wppress/tiktok-downloader/videos?search="+encodeURIComponent(r)+"&type=video_url&max=0",headers:{Referer:"https://"+e+"/?tiktok-search="+encodeURIComponent(r),"X-Requested-With":"XMLHttpRequest","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"same-origin",Accept:"application/json, text/javascript, */*; q=0.01"},json:!0},n,function(e,t,o){var r=t.items[0].video.noWatermark;return r?e(r,3600):(Pr(o,"Unable to find noWatermark from",t),e(null,!1))})},nn.get_tiktok_from_ttloader_token=function(o,e,t,r,n,i){r=r.replace(/\?.*/,"");var a="https://"+(o=o.replace(/:.*/,""))+"/?tiktok-search="+encodeURIComponent(r);"savevideo.ninja"===o&&(a="https://"+o+"/tiktok-no-watermark-video-downloader/?tiktok-search="+encodeURIComponent(r));function s(e,t,o,r,n){r=unescape(encodeURIComponent(e+":"+t+("videos"===o?"0":"")+":"+r)),nn.get_md5(i,r,n)}Ce(e,t,o+":token",{method:"POST",url:"https://"+o+"/wp-json/wppress/tiktok-downloader/token",imu_mode:"xhr",data:"",headers:{Origin:"https://"+o,Referer:a,"x-requested-with":"XMLHttpRequest"},json:!0},function(e){return e?void s(e,r,"nowatermark",navigator.userAgent,function(e){return n(e?(t=e,e=r,{url:e="https://"+o+"/wp-admin/admin-ajax.php?action=wppress_tt_download&url="+encodeURIComponent(r)+"&key=no-watermark&token="+t,headers:{Referer:"https://"+o+"/?tiktok-search="+encodeURIComponent(e),Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"same-origin","Sec-Fetch-User":"?1"},cookie_url:"https://"+o+"/",is_private:!0}):null);var t}):n(null)},function(e,t,o){return t.token?e(t.token,3600):(Pr(o,"Unable to find token from",t),e(null,!1))})},nn.get_tiktok_from_socialvideodownloader=function(e,t,o,r,n){var i=e+":"+r;e=e.replace(/:.*/,""),Ce(t,o,i,{url:"https://"+e+"/wp-json/wppress/video-downloader/videos?url="+encodeURIComponent(r),headers:{Referer:"https://"+e+"/","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"same-origin",Accept:"application/json, text/javascript, */*"},json:!0},n,function(e,t,o){for(var r=t[0].urls,n={},i=0;i<r.length;i++)n[r[i].id]=r[i];return"vid-no-watermark"in n?e(n["vid-no-watermark"].src,3600):(Pr(o,"Unable to find vid-no-watermark in",{ids:n,resp:t}),e(null,!1))})},nn.get_tiktok_from_keeptiktok=function(e,t,o,r,n){var i=nn.get_tiktok_weburl_parts(r);if(!i)return Pr("Invalid url",r),n(null);Ce(t,o,e+":"+r,{url:"https://"+e+"/"+i.username.replace(/\..*/,"")+"/"+i.web_vid},n,function(e,t,o){var r=t.responseText.match(/<video[^>]+>\s*<source src="(https?:\/\/[^/]*(?:tiktok|bytei)cdn\.[^"]+)"/);return r?e(tt(r[1]),3600):(Pr(o,"Unable to find match for",t),e(null,!1))})},nn.get_tiktok_from_snaptik=function(i,e,o,t,r){if(!nn.get_tiktok_weburl_parts(t))return Pr("Invalid url",t),r(null);!function(t){t=t.replace(/[?#].*/,"");var n=i+":"+t;e.fetch(n,r,function(r){o({url:"https://snaptik.app/",imu_mode:"document",method:"GET",onload:function(e){if(200!==e.status)return Pr(n,e),r(null,!1);o({method:"POST",url:"https://"+i+"/action.php",imu_mode:"xhr",imu_multipart:{url:t},headers:{Origin:"https://snaptik.app",Referer:"https://snaptik.app/"},onload:function(e){if(200!==e.status)return Pr(n,e),r(null,!1);var t=e.responseText.match(/<a[^>]*\s+href=["'](?:https?:\/\/(?:(?:sv|cdn)[0-9]*\.)?(?:snaptik\.app|snapsave\.info))?\/+dl\.php\?token=([^&'"]+)/);if(!t)return Pr(n,"Unable to find match for",e),r(null,!1);var o=decodeURIComponent(tt(t[1])).replace(/^s|s$/g,"").split("/");Qr(o,function(e,t){o[t]=w(e)});t=o.join("?");r({url:t,cookie_url:"https://"+i+"/"},3600)}})}})})}(t)},nn.get_tiktok_from_musicallydown=function(o,r,n,i,a){Ce(r,n,"musicallydown:vtoken",{url:"https://musicallydown.com"},function(e){return e?(t=a,void Ce(r,n,o+":"+i,{url:"https://musicallydown.com/download",method:"POST",imu_mode:"document",headers:{"Content-Type":"application/x-www-form-urlencoded",Origin:"https://musicallydown.com",Referer:"https://musicallydown.com/"},data:(e=e).link_name+"="+encodeURIComponent(i)+"&"+e.token_name+"="+e.token_value+"&verify=1"},t,function(e,t,o){var r=t.responseText.match(/<a\s+(?:style="[^"]+"\s+)?target="_blank" rel="noreferrer" href="(https?:\/\/[^/]*tiktokcdn\.com\/[^"]+)"[^>]*>\s*<i[^>]*>[^<]*<\/i>\s*Download MP4/);return r?e(tt(r[1]),3600):(Pr(o,"Unable to find match from",t),e(null,!1))})):a(null);var t},function(e,t,o){var r=t.responseText.match(/<input name="(_[a-zA-Z0-9]+)" type="hidden" value="([0-9a-f]{5,})"\s*\/>/);if(!r)return Pr(o,"Unable to find token from",t),e(null,!1);var n={token_name:r[1],token_value:r[2]};return(r=t.responseText.match(/<input name="(_?[a-zA-Z0-9]+)" type="text"[^/>]+id="link_url"/))?(n.link_name=r[1],e(n,!1)):(Pr(o,"Unable to find link name from",t),e(null,!1))})},nn.get_tiktok_from_ssstiktok=function(r,n,i,a,s){Ce(n,i,"ssstiktok:token",{url:"https://ssstik.io"},function(e){return e?(t=s,o=r+":"+a,(e=e).queries.id=encodeURIComponent(a),void Ce(n,i,o,{url:e.url,method:"POST",imu_mode:"xhr",headers:{"HX-Active-Element":"submit","HX-Current-URL":"https://ssstik.io/","HX-Request":"true","HX-Target":"target","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:Zn(e.queries)},t,function(e,t,o){var r=t.responseText.match(/<a href="(https?:\/\/[^/]*tiktokcdn\.com\/[^"]+)"[^>]*>Without watermark/);return r?e(tt(r[1]),3600):(Pr(o,"Unable to find match for",t),e(null,!1))})):s(null);var t,o},function(t,e,o){var r=e.responseText.match(/<form.*?data-hx-post=".*?>/);if(!r)return Pr(o,"Unable to find match from",e),t(null,!1);var n=jt(r[0]),i=On("https://ssstik.io/",n.args["data-hx-post"],!0);try{var a=N(Mt("{"+n.args["include-vals"]+"}"))}catch(e){return Pr(o,e),t(null,!1)}return(r=e.responseText.match(/<input id="locale".*?>/))?(n=jt(r[0]),a.locale=n.args.value,t({url:i,queries:a},!1)):(Pr(o,"Unable to find locale",e),t(null,!1))})},nn.get_tiktok_from_tikmate=function(e,t,o,r,n){var i=nn.get_tiktok_weburl_parts(r);if(!i)return Pr("Invalid url",r),n(null);var a,s="https://"+e+"/"+i.username.replace(/_/g,"-")+"/"+i.web_vid;a=function(){n({url:"https://"+e+"/dl.php",headers:{Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","Accept-Language":"en-US,en;q=0.9","Cache-Control":"no-cache",Pragma:"no-cache",Referer:s,"Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"same-origin","Sec-Fetch-User":"?1"},cookie_url:"https://"+e+"/",can_head:!1,video:!0})},Ce(t,o,e+":cookie:"+i.username+"/"+i.web_vid,{url:s},a,function(e,t,o){e(null,21600)})},nn.get_tiktok_from_3rdparty=function(e,t,o,r,n){var i={"ttloader.com:ttt":nn.get_tiktok_from_ttloader_token,"onlinetik.com:ttt":nn.get_tiktok_from_ttloader_token,"demo.wppress.net:tt":nn.get_tiktok_from_ttloader,"tiktokdownloader.in:ttt":nn.get_tiktok_from_ttloader_token,"savevideo.ninja:ttt":nn.get_tiktok_from_ttloader_token,"tikdowns.com:ttt":nn.get_tiktok_from_ttloader_token,"ssstiktok.net:ttt":nn.get_tiktok_from_ttloader_token,"demo.wppress.net:svd":nn.get_tiktok_from_socialvideodownloader,"savevideo.ninja:svd":nn.get_tiktok_from_socialvideodownloader,"keeptiktok.com":nn.get_tiktok_from_keeptiktok,"ssstiktok.io:1":nn.get_tiktok_from_ssstiktok,"musicallydown.com:1":nn.get_tiktok_from_musicallydown,"snaptik.app":nn.get_tiktok_from_snaptik,"tikmate.online":nn.get_tiktok_from_tikmate};if(!(e in i))return Pr("Invalid site",e,i),n(null);i[e](e,t,o.do_request,r,n,o)},nn.get_best_tiktok_url=function(s,u,r,n){!function(i,e){var t,o,t=(t=i,(o=nn.get_tiktok_urlvidid(t))?"tiktok_vidid:"+o:(Mr("Unknown video URL:",t),null));if(!t)return e(null);s.fetch(t,e,function(o){function e(e){if(!r){if(!e.responseText)return 4!==e.readyState||e.loaded&&e.total&&200===e.status?void 0:(n.abort(),r=!0,Pr(e),o(null,!1));var t=e.responseText.match(/mdtacomment[\s\S]{10,400}vid:([0-9a-z]{32})/);t?(n.abort(),r=!0,o(t[1],86400)):4===e.readyState&&4===e.readyState&&(n.abort(),r=!0,Mr("Unable to find video ID for",i),200!==e.status?o(null,!1):o(null,60))}}var r=!1,n=u({url:i,method:"GET",headers:{Referer:"https://www.tiktok.com/"},onprogress:e,onload:e})})}(r,function(e){return e?(a=e,e=function(e){var t,o;n((t=e,o=r,e=nn.get_tiktok_urlvidid(o),t=nn.get_tiktok_urlvidid(t=t||o)===e?o:t))},void s.fetch("tiktok_watermarkfree:"+a,e,function(r){var n="https://api2-16-h2.musical.ly/aweme/v1/play/?video_id="+a+"&ratio=default&improve_bitrate=1",i=function(o){u({url:n,headers:{Referer:"https://www.tiktok.com/",Accept:"*/*","Sec-Fetch-Dest":"video","Sec-Fetch-Mode":"no-cors","Sec-Fetch-Site":"cross-site"},method:"HEAD",onload:function(e){if(4===e.readyState){if(503===e.status&&o<5)return setTimeout(function(){i(o+1)},500);if(200!==e.status&&302!==e.status)return Pr(e),r(null,!1);var t=Ve(kt(e));if(t===n&&o<5)return setTimeout(function(){i(o+1)},500);e=nn.get_tiktok_urlvidid(t);return e&&(s.has(e="tiktok_vidid:"+e)||s.set(e,a,3600)),r(t,3600)}}})};i(0)})):n(null);var a})},nn.tiktok_remove_watermark=function(t,o,r,n,i){if(!o.rule_specific)return i(null);var e,a=[];o.rule_specific.tiktok_no_watermarks&&a.push("[local]"),o.rule_specific.tiktok_thirdparty&&n&&(e=o.rule_specific.tiktok_thirdparty,Hr(e)&&(e=e[0]),a.push(e));var s=function(e){if(e)return i(e);if(0===a.length)return i(null);e=a[0];a.shift(),"[local]"===e?nn.get_best_tiktok_url(t,o.do_request,r,s):nn.get_tiktok_from_3rdparty(e,t,o,n,s)};s()},nn.youtube_fetch_watchpage_raw=function(e,t,o,r){Ce(e,t.do_request,"youtube_watchpage_raw:"+o,{url:"https://www.youtube.com/watch?v="+o},r,function(e,t,o){return e(t.responseText,3600)})},nn.youtube_fetch_watchpage_config=function(e,t,o,i,r){var a="youtube_watchpage_config:"+o+":"+i;e.fetch(a,r,function(n){nn.youtube_fetch_watchpage_raw(e,t,o,function(t){if(!t)return n(null,!1);var o,e=[i];if("config"!==i&&e.push("config"),Qr(e,function(e){e=new RegExp("ytplayer\\."+e+"\\s*=\\s*({.*?});");if(o=t.match(e))return!1}),!o)return Mr(a,"Unable to find ytplayer."+i+" for",{data:t}),n(null,!1);e=!1;if(/:ytInitialPlayerResponse/.test(o[1])){if(!(o=t.match(/(?:window\["ytInitialPlayerResponse"\]|var ytInitialPlayerResponse)\s*=\s*({.*?});/)))return Mr(a,"Unable to find ytInitialPlayerResponse for",{data:t}),n(null,!1);e=!0}try{var r=N(o[1]);return e&&(r.imu_need_args=!1),n(r,18e3)}catch(e){Pr(a,e,{json:o[1]})}return n(null,!1)})})},nn.youtube_fetch_watchpage=function(e,t,o,r){return nn.youtube_fetch_watchpage_config(e,t,o,"config",function(t){if(!t)return r(null);try{if(!1===t.imu_need_args)return r(t);var e=t.args.player_response,o=N(e);return r(o)}catch(e){Pr(e,t)}return r(null)})},nn.youtube_fetch_asset=function(e,r,t,n,o){var i="youtube_asset:"+n;e.fetch(i,o,function(o){nn.youtube_fetch_watchpage_config(e,r,t,"web_player_context_config",function(e){if(!e)return o(null,!1);var t=null;if(e.assets?t=e.assets[n]:n+"Url"in e&&(t=e[n+"Url"]),!t)return o(null,!1);t=On("https://www.youtube.com/",t,!0);r.do_request({url:t,method:"GET",headers:{Referer:"https://www.youtube.com/"},onload:function(e){return 200!==e.status?(Pr(i,e),o(null,!1)):o(e.responseText,3600)}})})})},nn.youtube_fetch_embed=function(e,t,o,r){e.fetch("youtube_embed_info:"+o,r,function(a){t.do_request({url:"https://www.youtube.com/get_video_info?video_id="+o,method:"GET",onload:function(t){if(4===t.readyState){if(200!==t.status)return Pr(t),a(null,!1);for(var o=t.responseText.split("&"),e=!1,r=0;r<o.length;r++)if(/^player_response=/.test(o[r])){var e=!0,n=decodeURIComponent(o[r].replace(/^[^=]+=/,"").replace(/\+/g,"%20"));try{var i=N(n);return a(i,18e3)}catch(e){Pr(e,t,o[r],n)}break}e||Pr("Unable to find player_response in",o[r]),a(null,!1)}}})})},nn.parse_flixv2=function(e,t){var o=/<item>\s*<res>([^<]+)<\/res>\s*<videoLink>(?:<!\[CDATA\[)?(.*?)(?:\]\]>)?<\/videoLink>/,r=new RegExp(o,"g"),n=e.responseText.match(r);if(!n)return Pr(t,"Unable to find items in",e),null;for(var i=[],a=0;a<n.length;a++){var s=n[a].match(o),u=s[1],s=tt(s[2]);i.push({url:s,quality:I(u),video:!0})}i.sort(function(e,t){return t.quality-e.quality});for(a=0;a<i.length;a++)delete i[a].quality;return i},nn.parse_mediadefinition=function(e,t,o){if(!t)return null;try{for(var r=0,n=null,i=0;i<t.mediaDefinition.length;i++){var a=t.mediaDefinition[i];a.videoUrl&&(a.quality=I(a.quality),a.quality>r&&(r=a.quality,n=a))}var s=n.videoUrl;return{url:s=e.replace(/[?#].*$/,"").replace(/^[a-z]+:\/\/[^/]+\/+/,"")===s.replace(/[?#].*$/,"").replace(/^[a-z]+:\/\/[^/]+\/+/,"")?e:s,extra:{page:t.link_url,caption:t.video_title},headers:{Referer:t.link_url},video:!0,is_private:!0}}catch(e){Pr(o,e)}return null},nn.get_parent_el_matching=function(e,t){for(var o=e;o;){if(t(o))return o;o=o.parentElement}return null};nn.get_link_el_matching=function(e,t){var o,r,n=("object"==typeof(t=o=t)&&o instanceof RegExp&&(r=o,t=function(e){return r.test(e.href)}),t);return nn.get_parent_el_matching(e,function(e){return"A"===e.tagName&&n(e)})},nn.get_pagelink_el_matching=function(e,t){t=nn.get_link_el_matching(e,t);return t?{url:t.href,is_pagelink:!0}:null},nn.get_host_el_matching=function(e,t,o){return(e=nn.get_parent_el_matching(e,o))?{url:t,is_pagelink:!0}:null},nn.get_pagelink_host_el_matching=function(e,t){var o=nn.get_pagelink_el_matching(e.element,t.url_match);return o||(t.url_match.test(e.host_url)?(o=nn.get_host_el_matching(e.element,e.host_url,t.el_match))?o:void 0:null)},nn.is_pinterest_domain=function(e){e=ni(e);return!!/^pinterest\./.test(e)},nn.get_jsonformatter_for_cryptojs=function(o){return{stringify:function(e){var t={ct:e.ciphertext.toString(o.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),Dr(t)},parse:function(e){var t=N(e),e=o.lib.CipherParams.create({ciphertext:o.enc.Base64.parse(t.ct)});return t.iv&&(e.iv=o.enc.Hex.parse(t.iv)),t.s&&(e.salt=o.enc.Hex.parse(t.s)),e}}},nn.create_dash_stream=function(r){var e='<?xml version="1.0"?>\n';e+='<MPD xmlns="urn:mpeg:dash:schema:mpd:2011" type="static"';function n(e,t){return void 0===t?"":" "+e+'="'+ot(t+"")+'"'}var t,o;r.duration&&(t=r.duration/60/60|0,o=(r.duration/60|0)%60,s=r.duration%60,e+=n("mediaPresentationDuration","PT"+t+"H"+o+"M"+s+"S")),e+=' profiles="urn:mpeg:dash:profile:isoff-main:2011">\n',e+="<Period>\n";function i(e){return e.start+"-"+e.end}function a(e,t){var o='<AdaptationSet mimeType="'+e+'">\n';return Qr(t,function(e){var t;o+=(t="  <Representation",t+=n("mimeType",(e=e).mime),t+=n("codecs",e.codecs),t+=n("bandwidth",e.bandwidth),t+=n("width",e.width),t+=n("height",e.height),t+=n("id",e.id),t+=">\n",t+="    <BaseURL>"+ot(e.url)+"</BaseURL>\n",(e.index_range||e.init_range)&&(t+="    <SegmentBase",t+=n("indexRange",i(e.index_range)),t+=">\n",e.init_range&&(t+="      <Initialization",t+=n("range",i(e.init_range)),t+=" />\n"),t+="    </SegmentBase>\n"),(t+="  </Representation>")+"\n")}),o+="</AdaptationSet>"}var s,u;for(u in r.mimes||(r.mimes={},(s=function(o){var e="audio"===o?r.audios:r.videos;Qr(e,function(e){if(!e.mime){var t=e.url.replace(/^[^?#]+\.([^/.?#]+)(?:[?#].*)?$/,"$1");if(t===e.url)return void Mr("Unable to get mime for",e);e.codecs||("mp4"===t?e.codecs="avc1.640028":"mp3"===t&&(e.codecs="mp3")),e.mime=o+"/"+(t="mp3"===t?"mp4":t)}e.mime in r.mimes||(r.mimes[e.mime]=[]),r.mimes[e.mime].push(e)})})("video"),s("audio")),r.mimes)e+=a(u,r.mimes[u])+"\n";return e+="</Period>\n</MPD>\n"};function Ft(e){return e.video.length||e.image.length?e:(Mr("Unable to find video sources"),null)}nn.get_videotag_sources=function(e){var t=e.match(/<video[\s\S]+?<\/video>/i);if(!t)return Pr("Unable to find video tag from",{text:e}),null;e=jt(t[0]);if(!e)return Pr("Unable to parse <video> tag",t[0]),null;function o(e){e.url=e.args.src,r.video.push(e)}var r={video:[],image:[]};e.args.src&&o(e),e.args.poster&&r.image.push(e.args.poster);t=t[0].match(/<source.*?\/?>\s*(?:<\/source>)?/g);return t&&Qr(t,function(e){var t=jt(e);t?t.args.src&&o(t):Mr("Unable to parse <source> tag",e)}),Ft(r)},nn.get_holaplayer_sources=function(e){if("{"!==e[0]){var t=e.match(/window\.hola_player\(({.*?}),\s*function/);if(!t)return Pr("Unable to find hola_player match from",{text:e}),null;e=t[1]}if(!(t=e.match(/sources["']?:\s*(\[{.*?}\]),/)))return Pr("Unable to find sources match for",{text:e}),null;var o=N(Mt(t[1])),r=null;(t=e.match(/poster["']?:\s*["'](https?:\/\/[^"']+)["'],/))?r=t[1]:Mr("Unable to find poster match for",{text:e});var n={video:[],image:[]};return r&&n.image.push(r),Qr(o,function(e){n.video.push({src:e.src,type:e.type,url:e.src})}),Ft(n)},nn.get_obj_from_videosources=function(o,e){var r=[];return Qr(e.video,function(e){var t=!0;("application/x-mpegURL"===e.type||0<=Fr(e.url,".m3u8"))&&(t="hls"),r.push({url:On(o,e.url,!0),video:t})}),Qr(e.image,function(e){r.push(On(o,e,!0))}),r},nn.get_videotag_obj=function(e,t){"ogimage"in(t=t||{})||(t.ogimage=!0),"videotag"in t||(t.videotag=!0);var o={video:[],image:[]};if(t.videotag&&!(o=nn.get_videotag_sources(e.responseText)))return null;var r=Pt(e.responseText,"og:url"),n={headers:{Referer:r=r?On(e.finalUrl,r,!0):e.finalUrl},extra:{page:r}},i=Pt(e.responseText,"og:title");i&&(n.extra.caption=i),o.video.sort(function(e,t){return e.args.res&&t.args.res?t.args.res-e.args.res:0});var a=[];Qr(o.video,function(e){a.push(On(r,e.url,!0))}),!t.ogvideo||(i=Pt(e.responseText,"og:video"))&&en(a,On(r,i,!0));var s=[];Qr(o.image,function(e){s.push(On(r,e,!0))}),!t.ogimage||(e=Pt(e.responseText,"og:image"))&&en(s,On(r,e,!0));var u=[];return Qr(a,function(e){u.push({url:e,video:!0})}),Jr(u,s),u.length?Me(u,n):null},nn.update_album_info_links=function(o,r){var n=o.album_info.links,i=!1;return Qr(n,function(e,t){!i&&r(e.x_id||e.url)?(n[t].is_current=!0,o.url=n[t].url,i=!0):n[t].is_current=!1}),!i&&0<n.length&&(n[0].is_current=!0),o},nn.run_msml_op=function(o,r,n){var e,t,i,a,s=o.matches,u=r.op,l=!1;if("obj_set"===u){r.value?e=r.value:r.match&&(e=s[r.match]),r.subkey&&(e=e[r.subkey]);var c=s,p=r.out;r.out_subkey&&(c=s[r.out],p=r.out_subkey),c[p]=e}else if("run"===u){var d=[];Qr(r.args,function(e){var t;(e="object"!=typeof e?{value:e}:e).value?t=e.value:e.match?t=s[e.match]:e.self&&(t=o.ms_data[e.self]),e.subkey&&(t=t[e.subkey]),e.regex&&(t=rt(t)),e.cb&&(t=function(e){r.out&&(s[r.out]=e),"bad"in r&&e===r.bad?n(!1):n(!0)},l=!0),d.push(t)});var m=nn,g=(m=r.match?s[r.match]:m)[r.key].apply(this,d);if("bad"in r&&g===r.bad)return Pr("Error running",r),!1;r.out&&(s[r.out]=g)}else if("regex"===u){var f=Cn(o.ms_data[r.flags]);on(f,function(o,e){"object"==typeof e&&e.replace_match&&(delete f[o],on(e.replace_match,function(e,t){o=tn(o,"%"+e+"%",rt(s[t]))}),f[o]=e.source)});var m=nn[r.key](nn[r.base],f,o.ms_dadta),g=r.in||"in",_=s[g].match(new RegExp(m));if(!_)return Pr("Unable to find match from",{str:s[g],regex:m}),!1;s[r.out]=_[r.save]}else"parse_queries"===u?(t=s[r.match],i=nt(t=!/^(?:https?:)?\//.test(t)?"?"+t:t,{decode:!0}),Hr(r.out)?(_=Object.keys(i).sort(),Qr(_,function(e,t){return t in r.out&&void(s[r.out[t]]=i[e])})):on(r.out,function(e,t){e in i&&(s[t]=i[e])})):"add_queries"===u?(t=s[r.match],i={},Qr(r.queries,function(e){var t=e.query,e=e.value;"object"==typeof t&&(t=s[t.match]),"object"==typeof e&&(e=s[e.match]),i[t]=e}),s[r.out]=st(t,i)):"parse_match"===u?(a=[],Qr(s[r.match],function(e){var o=[];on(e,function(e,t){"string"==typeof t?o.push(s[r.subkey][t]):Hr(t)?o.push(t[t.length-1]):o.push(t)}),a.push(Cn(o))}),s[r.out]=a):"final"===u?o.ok=!0:Pr("Unknown operation",r);if(l)return"waiting"},nn.run_msml_oplist=function(o,r,n){var i=o.ok=!1;try{Qr(r,function(e,t){e=nn.run_msml_op(o,e,function(e){return e?void nn.run_msml_oplist(o,r.slice(t+1),n):(o.ok=!1,n(o.ok))});return e&&("waiting"===e?!(i=!0):void 0)})}catch(e){throw Pr("Error running oplist",o.matches),e}i||n(o.ok)},nn.run_msml=function(r,e,t){if(!r||!e)return t(null);function o(e,t){var o={matches:Cn(n.matches),ms_data:r};o.matches.in=e,nn.run_msml_oplist(o,o.ms_data.run,function(e){return e?void t(o.matches.out):t(null)})}var n={matches:{},ms_data:r};n.ms_data.bootstrap?(n.matches.in=e,nn.run_msml_oplist(n,n.ms_data.bootstrap,function(e){return e?void t(o):t(null)})):t(o)},nn.process_formats=function(t,o,e,r){function n(){i<=a&&(r(e),a=-1)}var i=0,a=0,s={};Qr(e,function(t){on(t,function(e){t[e]&&o.process_format&&e in o.process_format&&(i++,e in s||(s[e]=[]),s[e].push(t))})}),on(s,function(e){s[e][0].imu_msml_options=o,s[e][0].imu_msml_api_cache=t,nn.run_msml(o.process_format[e],s[e][0],function(t){return t?void Qr(s[e],function(e){t(e,function(){a++,n()})}):(a++,void n())})}),n()},nn.normalize_function=function(e,t){var o=e.toString().replace(/\/\/.*/g,"").replace(/(return|var)\s+/g,"$1##").replace(/\s*/g,"").replace(/(return|var)##/g,"$1 ").replace(/^(?:function\([^)]*\))?{(.*?);*}$/,"{$1}");if(t)for(var r in t){var n=t[r];Hr(n)||(n=[n]),Qr(n,function(e){o=(e="string"==typeof e?{source:e}:e).regex?o.replace(new RegExp(e.source,"g"),r):tn(o,e.source,r)})}return o},nn.get_mappings_for_objstr=function(e,t,o){var n={funcs:e,objstr:t,vars:o},r=new RegExp("("+$t.jvarname.source+")[\"']?\\s*:\\s*function\\s*[(][^)]*[)]\\s*({.*?})(?:,|};?$)"),i=U(t,r);if(!i)return Pr("Unable to find mappings",n),null;var a={},s=!0,u=[];return Qr(e,function(e){u.push(nn.normalize_function(e,o))}),Qr(i,function(e){var o=e[1],r=nn.normalize_function(e[2]);if(Qr(u,function(e,t){if(e===r)return a[o]=t,!1}),!a[o])return n.matches=i,n.match=e,Pr("Unable to find mapping",n),s=!1}),s?a:null},nn.parse_js_calls=function(e,t){var o="",o=e?e+"\\.":"[^$_a-zA-Z0-9]";o+="("+$t.jvarname.source+")[(]([^)]*)[)][;\\s}]";o=U(t,new RegExp(o));if(!o)return null;var r=[];return Qr(o,function(e){var t={name:e[1],args:[]},e=U(e[2],/([$_a-zA-Z0-9.]+)\s*(?:,|$)/);e&&(Qr(e,function(e){e=e[1];$t.number.test(e)&&(e=parseFloat(e)),t.args.push(e)}),r.push(t))}),r},nn.find_actual_largest_image=function(a,s,u,l){if(s.length<2)return u(s[0]);(l=l||{}).cache||(l.cache={});function e(o,r){if(o in n)return r(n[o][0],n[o][1]);var e;l.check_length?(e=function(e){r(e,e)},Ce(l.api_cache,l.do_request,"contentlength:"+o,{url:o,headers:{Referer:""},method:"HEAD",silent:!0},e,function(e,t,o){var r=Jn(Yn(t.responseHeaders));return"content-length"in r?e(I(r["content-length"]),3600):404===t.status?e(null,3600):e(null,!1)})):Rt(o,function(e,t){return e&&t?(n[o]=[e,t],void r(e,t)):r(e,t)})}var n=l.cache,c=0,p={},d=!1,m=s.length;2<m&&l.respect_order&&(m=2);for(var t=0;t<m;t++)!function(n,i){e(n,function(e,t){if(!d){if(e&&t)p[n]=[e,t,i];else if(n===a)return d=!0,u(null);var o,r;++c<m||(o=-1,r=null,a in p&&(o=p[r=a][0]*p[a][1]),on(p,function(e,t){t=t[0]*t[1];o<t&&(o=t,r=e)}),m<s.length?(s.splice(0,m),s.unshift(r),nn.find_actual_largest_image(a,s,u,l)):u(r))}})}(s[t],t)},nn.gen_jquery_callback=function(){return"jQuery"+an(20)+"_"+Date.now()},nn.get_largest_twimg=function(e,t){function o(e,t){var o=nt(t).format;o&&(t=t.match(/\/([^/.?#]+)(?:\.[^/.]+)?(?:[?#].*)?$/),e.filename=t[1]+"."+o)}var r=!1;if(t&&t.rule_specific&&t.rule_specific.twitter_use_ext&&(r=!0),0<=Fr((a={url:e,can_head:!1}).url,"/profile_images/"))return(d=a.url.replace(/[?#].*$/,"").replace(/_(?:bigger|normal|mini|reasonably_small|[0-9]*x[0-9]+)(\.[^/_]*)$/,"$1"))!==a.url?(a.url=d,a):void 0;if(0<=Fr(a.url,"/profile_banners/"))return(d=a.url.replace(/\/[0-9]+x[0-9]+(?:[?#].*)?$/,""))!==a.url?(a.url=d,a):void 0;if(o(a,a.url),(d=a.url.replace(/:([^/?]+)(.*)?$/,"$2?name=$1").replace(/(\?.*)\?name=/,"$1&name="))!==a.url&&(a.url=d),/:\/\/[^/]+\/+media\//.test(a.url)&&(d=(d=(s=a.url.match(/^([^?#]+\/[^/.?#]+)\.([^/.?#]+)([?#].*)?$/))?st(s[1]+(s[3]||""),{format:s[2]}):d).replace(/([?&]format=)webp(&.*)?$/,"$1jpg$2"))!==a.url&&(o(a,d),a.url=d),s=a.url.match(/\/tweet_video_thumb\/+([^/.?#]+)\./))return{url:a.url.replace(/\/tweet_video_thumb\/+[^/]+\.[^/.]+(?:[?#].*)?$/,"/tweet_video/"+s[1]+".mp4"),video:!0};var n=["orig","4096x4096","large","medium"],i=a,a=[],s=(s=i.url.match(/[?&]name=([^&]+)/))?s[1]:null,u=$r(n,s);u<0&&(u=n.length);function l(e){var t=Cn(i);t.url=e,o(t,t.url),a.push(t)}function c(e,t){return e=(e=at(e,["name"])).replace(/(\/[^/?&#.]+)(?:\.[^/?&#.]+)?(\?.*)?$/,"$1."+t+"$2")}for(var p=0;p<u;p++){var d,m=nt(d=st(d=i.url.replace(/(\.[a-z]+)\?(?:(.*)&)?format=[^&]+/,"$1?$2&").replace(/&$/,""),{name:n[p]}));"png"===m.format||"jpg"===m.format?(r&&l(c(d,"png")),l(st(d,{format:"png"})),r&&l(c(d,"jpg")),l(st(d,{format:"jpg"}))):(r&&m.format&&l(c(d,m.format)),l(d))}return l(i.url),1<a.length?a:void 0},nn.parse_imu_hash=function(e){e=e.match(/#(.*)/);if(!e)return null;var o={};return on(nt("?"+e[1]),function(e,t){e=e.match(/^imu-(.*)/);e&&(o[e[1]]=t)}),o},nn.multidomain__nitter=function(e,t){return"nitter.net"===t||"nitter.42l.fr"===e||"nitter.pussthecat.org"===e||"nitter.nixnet.services"===e||"nitter.tedomum.net"===e||"nitter.fdn.fr"===e||"nitter.1d4.us"===e||"nitter.kavin.rocks"===e||"nitter-home.kavin.rocks"===e||"tweet.lambda.dance"===e||"nitter.cc"===e||"nitter.vxempire.xyz"===e||"nitter.unixfox.eu"===e||"nitter.domain.glass"===e||"nitter.eu"===e||"nitter.ethibox.fr"===e||"nitter.namazso.eu"===e||"nitter.mailstation.de"===e||"nitter.actionsack.com"===e||"nitter.cattube.org"===e||"birdsite.xanny.family"===e||"nitter.40two.app"===e||"nitter.skrep.in"===e||"nitter.hu"===e||"nitter.database.red"===e||"nitter.exonip.de"===e||"twitr.gq"===e||"nitter.koyu.space"===e||"nitter.dark.fail"===e||"nitter.snopyta.org"===e},nn.multidomain__xhamster=function(e){return"xhamster.com"===e||"xhamster.one"===e||"xhamster.desi"===e||"openxh.com"===e||"openxh1.com"===e||"openxh2.com"===e||"xhopen.com"===e||"xhlocal.com"===e||"unlockxh.com"===e||"fullxh.com"===e||"xhtotal.com"===e||"localxh.com"===e||"xhofficial.com"===e},nn.get_thumbor_url=function(e){return e=e.replace(/^\/*/,"/").replace(/^\/[-_0-9a-zA-Z]{20,}=?\/+/,"/").replace(/^\/(?:[0-9]+|orig)x(?:[0-9]+|orig)(?::[0-9]+x[0-9]+)?\/+/,"/").replace(/^\/fit-in\/+(?:[0-9]+|orig)x(?:[0-9]+|orig)\/+(?:top\/+)?/,"/").replace(/^\/filters:[^/]+\/+/,"/").replace(/^\/smart\/+/,"/").replace(/^\/*/,"")},nn.query_discogs_images_api=function(e,t,o,r){var n=encodeURIComponent('{"discogsId":'+o+',"count":500}');Ce(e.api_cache,e.do_request,"discogs_images:"+o,{url:" https://release-page.discogs.com/api/graphql?operationName=ReleaseAllImages&variables="+n+"&extensions=%7B%22persistedQuery%22%3A%7B%22version%22%3A1%2C%22sha256Hash%22%3A%2213e41f41a02b02d0a7e855a71e1a02478fd2fb0a2d104b54931d649e1d7c6ecd%22%7D%7D",imu_mode:"xhr",headers:{origin:"https://www.discogs.com",referer:"https://www.discogs.com/","content-type":"application/json",accept:"*/*"},json:!0},r,function(e,t,o){var t=t.data.release.images.edges,r=[];Qr(t,function(e){e=e.node;r.push(e.fullsize.webpUrl)}),e(r,21600)})},nn.query_discogs_images_web=function(e,t,o,r){Ce(e.api_cache,e.do_request,"discogs_images:"+t+":"+o,{url:"https://www.discogs.com/"+t+"/"+o+"/images",imu_mode:"document"},r,function(e,t,o){var r=U(t.responseText,/<span class="thumbnail_link">.*?<img src="(https?:\/\/img\.discogs\.com\/[^"]+)"/);if(!r||!r.length)return Pr(o,"Unable to find matches from",t),e(null,!1);var n=[];Qr(r,function(e){n.push(tt(e[1]))}),e(n,21600)})},nn.query_discogs_images=function(e,t,o,r){return"release"===t?nn.query_discogs_images_api(e,t,o,r):nn.query_discogs_images_web(e,t,o,r)},nn.do_flickr_request=function(e,t,o){return e.do_request({url:t,method:"GET",headers:{Origin:"https://www.flickr.com",Referer:"https://www.flickr.com/","Sec-Fetch-Site":"same-site",Cookie:""},onload:o})},nn.flickr_find_api_info=function(e,t,o){t.fetch("flickr_api_info",o,function(i){nn.do_flickr_request(e,"https://www.flickr.com/",function(e){var t=e.responseText.match(/root\.YUI_config\.flickr\.api\.site_key\s*=\s*['"]([0-9a-f]+)['"]\s*;/);if(!t)return Pr("Unable to find Flickr API key"),i(null,!1);var o=t[1];if(!o||"string"!=typeof o)return Pr("Unable to find Flickr API key"),i(null,!1);var r={};if(t=e.responseText.match(/root\.auth\s*=\s*({.*?});/))try{r=N(t[1])}catch(e){r={},Pr("Unable to find Flickr auth info")}else Pr("Unable to find Flickr auth info");var n="";(t=e.responseText.match(/root\.reqId\s*=\s*["']([0-9a-f]+)["']\s*;/))&&(n=t[1]),"user"in r&&"nsid"in r.user&&(r.nsid=r.user.nsid);n={key:o,nsid:r.nsid,csrf:r.csrf,reqId:n};i(n,3600)})})},nn.flickr_api_request=function(e,t,o,r){var n="https://api.flickr.com/services/rest?csrf=";t.csrf&&(n+=t.csrf),n+="&api_key="+t.key+"&format=json&hermes=1&hermesClient=1",t.nsid?n+="&viewerNSID="+t.nsid:n+="&viewerNSID=",t.reqId&&(n+="&reqId="+t.reqId),nn.do_flickr_request(e,n+="&format=json&nojsoncallback=1&"+o,function(e){try{var t=N(e.responseText);if("fail"===t.stat)return Pr(t.message),r(null)}catch(e){return Pr(e),r(null)}r(t)})},nn.flickr_info_to_obj=function(e){var t=function(e){return e&&"string"!=typeof e?e._content:e},o={caption:t(e.title)||t(e.description)},r={extra:o},n=e.owner?t(e.owner.nsid):t(e.pathalias),t=t(e.id);n&&t&&(o.page="https://www.flickr.com/photos/"+n+"/"+t);var i,a=0,s=null;for(i in e){var u,l=i.match(/^width_([0-9a-z]+)$/);l&&(l="height_"+(u=l[1]),(u="url_"+u)in e&&l in e&&(a<(l=e[i]*e[l])&&(a=l,s=e[u])))}return s&&(r.url=s),r},nn.get_redirect_url=function(e,t,o,r){var n="string"==typeof o?{url:o}:o;o=n.url,Ce(e,t.do_request,"redirect:"+o,n,r,function(e,t,o){return t.finalUrl?e(t.finalUrl,3600):e(null,!1)})};var ri=function(e){return e.replace(/^[a-z]+:\/\/([^/]*)(?:\/+.*)?$/,"$1")},ni=function(e){var t=e.replace(/^.*\.([^.]*\.[^.]*)$/,"$1");return t=/^(?:(?:com?|org|net|edu)\.[a-z]{2}|(?:ne|or)\.jp)$/.test(t)?e.replace(/^.*\.([^.]*\.[^.]*\.[^.]*)$/,"$1"):t},ii=function(e,t){return!!/\.(?:jpe?g|png|web[mp]|gif|mp4|mkv|og[gv]|svg)(?:[?#].*)?$/i.test(e)||!(!t||!vi(t))},Ot=function(e,t){return t.null_if_no_change?null:e};!function(){var e={_nir_debug_:kr,nir_debug:Nr,Math_floor:we,Math_round:Vr,Math_random:ke,Math_max:Xr,Math_min:Zr,Math_abs:Kr,get_random_text:an,console_log:jr,console_error:Pr,console_warn:Mr,console_trace:b,JSON_stringify:Dr,JSON_parse:N,base64_decode:w,base64_encode:k,is_array:Hr,array_indexof:$r,string_indexof:Fr,string_fromcharcode:T,string_charat:E,array_extend:Jr,array_foreach:Qr,array_or_null:z,array_upush:en,string_replaceall:tn,match_all:U,obj_foreach:on,obj_extend:rn,shallowcopy:An,deepcopy:Cn,_:Un,settings:Rn,new_map:he,map_set:jn,map_get:Pn,map_has:ve,map_remove:ye,map_foreach:Ee,map_size:Ae,new_set:Mn,set_add:Nn,set_has:Hn,real_api_cache:Ue,real_api_query:Ce,real_website_query:Ie,is_invalid_url:De,mod:je,norm_url:Pe,urljoin:On,fillobj:Wn,fillobj_urls:Me,add_full_extensions:Ne,add_extensions:He,add_extensions_jpeg:$e,add_extensions_with_jpeg:Fe,add_extensions_gif:Oe,add_extensions_upper:Ge,add_extensions_upper_jpeg:Be,add_http:We,force_https:Ve,decodeuri_ifneeded:Xe,encodeuri_ifneeded:Vn,replace_sizes:Ze,zpadnum:Xn,hex_to_ascii:Ye,hex_to_numberarray:Je,numberarray_to_hex:Qe,reverse_str:et,decode_entities:tt,encode_entities:ot,encode_regex:rt,get_queries:nt,stringify_queries:Zn,remove_queries:it,keep_queries:at,add_queries:st,fuzzify_text:lt,fuzzy_date_compare:vt,parse_headers:Yn,headers_list_to_dict:Jn,headers_dict_to_list:qt,get_resp_finalurl:kt,get_ext_from_contenttype:ei,get_library:ti,normalize_whitespace:It,strip_whitespace:oi,get_image_size:Rt,sort_by_key:Lt,sort_by_array:Dt,parse_tag_def:jt,get_meta:Pt,fixup_js_obj:Mt,fixup_js_obj_proper:Ht,common_functions:nn,get_domain_from_url:ri,get_domain_nosub:ni,looks_like_valid_link:ii,Cache:$n,url_basename:Gn};if("undefined"==typeof $__imu_get_bigimage)d={type:"undefined",data:$__imu_get_bigimage,func:$__imu_get_bigimage,message:"Rules library not included"};else{try{var t=$__imu_get_bigimage(e);t&&t.bigimage?"2bma9if2lfeh8p12"!==t.nonce?d={type:"bad_nonce",data:t.nonce,message:"Bad nonce, expected: 2bma9if2lfeh8p12"}:Ot=t.bigimage:d={type:"returned_falsey",data:t,message:"Unable to get bigimage function"},d&&(d.func=$__imu_get_bigimage)}catch(e){d={type:"js_error",data:e,message:"JS error fetching bigimage function",func:$__imu_get_bigimage}}delete $__imu_get_bigimage}d&&Pr(d)}();var ai=function(c){var e="",t="",o="";c.host_url&&(t=(e=c.host_url.replace(/^[a-z]+:\/\/([^/]*)(?:\/.*)?$/,"$1")).replace(/^www\./,""),(o=e.replace(/^.*\.([^.]*\.[^.]*)$/,"$1")).match(/^co\.[a-z]{2}$/)&&(o=e.replace(/^.*\.([^.]*\.[^.]*\.[^.]*)$/,"$1")));try{c.document&&(document=c.document),c.window&&(window=c.window)}catch(e){}function p(e){var t=Wr("img");return t.src=e,t}function s(e,t){return t?(o=e,(t=Wr("video")).src=o,t):p(e);var o}function n(e,t){return t?e.nextElementSibling:e.previousElementSibling}function r(t,e,o){var r;if(o.compare_els||(o.compare_urls||o.id_for_url&&("function"!=typeof o.id_for_url&&(r=o.id_for_url,o.id_for_url=function(e){e=e.match(r);return e?e[1]:null}),o.compare_urls=function(e,t){return!(!e||!t)&&o.id_for_url(e)===o.id_for_url(t)}),o.get_img_src||(o.get_img_src=hi),o.compare_urls&&(o.compare_els=function(e,t){return!(!e||!t)&&o.compare_urls(o.get_img_src(e),o.get_img_src(t))})),!o.compare_els)return Pr("compare_els/compare_urls/id_for_url not present"),!1;var n=null;if(o.thumbs_selector_global)n=document.querySelector(o.thumbs_selector);else for(var i=t;(i=i.parentElement)&&!(n=i.querySelector(o.thumbs_selector)););if(!n)return Pr("Unable to find thumbs element for",t),!1;var a=n.querySelectorAll(o.thumb_selector);if(!a)return Pr("No thumbs for",n),!1;var s=null;return Qr(a,function(e){if(o.compare_els(t,e))return s=e,!1}),s?ui(s,e):(Pr("Unable to find thumb for",t,"in",n),!1)}return"imgur.com"===o&&"i.imgur.com"!==e?{gallery:function(a,s){if(!a)return"default";function t(){if(c.host_url.match(/\/a\/+[^/]+\/+embed/))return"default";for(var e=a;e=e.parentElement;)if("DIV"===e.tagName&&e.classList&&e.classList.contains("post-image-container"))for(;e;){var t=e.nextElementSibling;if(!(e=t=!s?e.previousElementSibling:t))return"default";t=e.querySelector("img");if(t)return t}return"default"}function o(e){return function(e){var t=pi(a.src,{fill_object:!0,use_cache:!1,rule_specific:{imgur_source:!1}})[0].url.replace(/.*\/([^/._]+?)(?:_[^/]+)?\.[^/.]*?(?:[?#].*)?$/,"$1");if(t!==a.src)for(var o,r=0;r<e.length;r++)if(e[r].hash===t){if(s){if(r+1>=e.length)return null;o=r+1}else{if(r-1<0)return null;o=r-1}var n=e[o].ext;!c.exclude_videos||".mp4"!==n&&".webm"!==n||(n=".jpg");var i=Wr("img");return i.src="https://i.imgur.com/"+e[o].hash+n,i}return null}(e)||t()}if(!window.runSlots&&c.do_request)return nn.fetch_imgur_webpage(c.do_request,Ue,void 0,c.host_url,function(e){if(!e||!e.imageinfo||e.bad)return c.cb(t());try{return c.cb(o(e.imageinfo.album_images.images))}catch(e){return Pr(e),c.cb(t())}}),"waiting";try{return o(window.runSlots.item.album_images.images)}catch(e){return Pr(e),t()}}}:"instagram.com"===o?{element_ok:function(e){return"VIDEO"===e.tagName||"default"},gallery:function(e,t){return"default"}}:"tiktok.com"===o?{gallery:function(e,t){return"VIDEO"===e.tagName&&e.parentElement&&e.parentElement.parentElement&&e.parentElement.classList.contains("video-card")&&e.parentElement.parentElement.classList.contains("image-card")?ui(e.parentElement.parentElement,t):"default"}}:"twitter.com"===t?{gallery:function(e,o){function r(e){return"A"===e.tagName&&e.href&&/\/status\/+[0-9]+\/+photo\/+/.test(e.href)}function n(e){var t=e.querySelector("img");if(t){e=t.previousElementSibling;if(e&&"DIV"===e.tagName&&e.style.backgroundImage)return e}return t}function t(e){return o?e.nextElementSibling:e.previousElementSibling}function i(e){if("A"===e.tagName)return n(e);if("DIV"!==e.tagName)return"default";var t=o?0:e.children.length-1;return 0<e.children.length&&r(e.children[t])?n(e.children[t]):void 0}for(var a=e;a=a.parentElement;)if(r(a)){var s=t(a);if(s)return i(s);s=t(a.parentElement);return s?i(s):null}return"default"},element_ok:function(e){if("VIDEO"===e.tagName&&nn.get_twitter_tweet_link(e))return!0;return"default"}}:"500px.com"===t?{element_ok:function(e){return!("A"!==e.tagName||!e.classList.contains("photo_link")||!e.querySelector("div.nsfw_placeholder_content"))||"default"}}:"snapchat.com"===o?{gallery:function(e,i){var a=nn.get_snapchat_info_from_el(e);return a?(nn.get_snapchat_storysharing(Ue,c.do_request,a.username,function(e){if(!e)return c.cb(null);if(!("pos"in a)||-1===a.pos)for(var t=0;t<e.snaps.length;t++)if(e.snaps[t].media.mediaUrl===a.url){a.pos=t;break}if(-1===a.pos&&(a.pos=e.snaps.length-1),!("pos"in a))return c.cb(null);var o=a.pos+(i?1:-1);if(o<0||o>=e.snaps.length)return c.cb(null);var r=e.snaps[o].media.mediaUrl,n=s(r,/\.mp4(?:[?#].*)?$/.test(r)&&!1);return n.setAttribute("data-username",a.username),n.setAttribute("data-pos",o),n.setAttribute("data-url",r),n.setAttribute("data-imu","true"),c.cb(n)}),"waiting"):"default"},element_ok:function(e){return"VIDEO"===e.tagName||("DIV"===e.tagName&&1===e.children.length&&"VIDEO"===e.children[0].tagName?e.children[0]:"default")}}:"allmusic.com"===o?{gallery:function(e,t){if("IMG"!==e.tagName||!e.parentElement)return"default";if(!e.classList.contains("gallery-main-image"))return"default";var o=e.parentElement.querySelector("#carousel > ul > li.thumb-img > img.highlight-on");if(!o)return Mr("Unable to find carousel thumbnail image"),"default";e=function(e){return e.classList.contains("thumb-img")?e.querySelector("img"):null},o=o.parentElement;return e(t?o.nextElementSibling:o.previousElementSibling)}}:"flickr.com"===o?{element_ok:function(e){for(var t=e;t=t.parentElement;)if("DIV"===t.tagName&&t.classList.contains("restricted-interstitial"))return!0;return"default"}}:"modelmayhem.com"===o?{element_ok:function(e){for(var t=e;t=t.parentElement;)if("DIV"===t.tagName&&"viewpic"===t.id)return!0;return"default"}}:"imagefap.com"===t&&/\/photo\/+[0-9]+\//.test(c.host_url)?{gallery:function(e,r){if("IMG"!==e.tagName||!c.do_request)return"default";var t=!1,o=e.parentElement;if(!o&&e.hasAttribute("data-imu-imagefap-album"))t=!0;else for(;o=o.parentElement;)if("DIV"===o.tagName&&"navigation"===o.id||"DIV"===o.tagName&&o.classList.contains("image-wrapper")){t=!0;break}if(!t)return"default";function n(e){var t=e.replace(/.*\/images\/+.*\/([0-9]+)\.[^/.]+(?:[?#].*)?$/,"$1");return t!==e?t:null}var i=n(e.src);if(!i)return"default";var a,s,u,l=(l=c.host_url.match(/\/photo\/+([0-9]+)\//))[1];return s=function(e){if(!e)return c.cb("default");for(var t=0;t<e.length;t++){var o=n(e[t]);if(i===o){o=t+(r?1:-1);if(o<0||o>=e.length)return c.cb(null);o=p(e[o]);return o.setAttribute("data-imu-imagefap-album","true"),c.cb(o)}}return c.cb("default")},u="imagefap_album:"+(a=l),Ue.fetch(u,s,function(r){c.do_request({url:"https://www.imagefap.com/photo/"+a+"/",method:"GET",onload:function(e){if(200!==e.status)return Pr(u,e),r(null,!1);var t=U(e.responseText,/<li>\s*<a href=\"https:\/\/[^/.]+\.imagefap\.com\/+images\/[^"]+".*?>\s*<img border=0 src2="(https:\/\/[^/.]+\.imagefap\.com\/[^"]+)"/);if(!t)return Mr(u,"Unable to find album matches for",e),r(null,!1);var o=[];return Qr(t,function(e){o.push(tt(e[1]))}),r(o,3600)}})}),"waiting"}}:"gog.com"===t?{gallery:function(e,t){for(var o=e;o=o.parentElement;)if("DIV"===o.tagName&&o.classList.contains("productcard-thumbnails-slider__slide-item")){var r=n(o,t);if(!r){if(!o.parentElement.classList.contains("productcard-thumbnails-slider__slide"))return null;if(!(r=n(o.parentElement,t)))return null;if(!(r=t?r.children[0]:r.children[r.children.length-1]))return null}return r.querySelector("picture, img")}return"default"}}:"booth.pm"===o?{element_ok:function(e){return"DIV"===e.tagName&&(e.classList.contains("swap-image")||e.classList.contains("thumb"))&&0<e.children.length&&"IMG"===e.children[0].tagName?e.children[0]:"default"}}:"instyle.com"===o?{element_ok:function(e){if("DIV"===e.tagName&&e.classList.contains("lazy-image"))return e.querySelector(".image-overlay > img")}}:"asiansister.com"===o?{element_ok:function(e){if("DIV"===e.tagName&&"myModal"===e.id)return e.querySelector("img.modalTest-content")}}:"naver.com"===o&&/\/viewer\/+postView\.nhn\?/.test(c.host_url)?{gallery:function(e,t){var o=e;if("IMG"===o.tagName&&o.classList.contains("se_mediaImage"))for(;o=o.parentElement;)if("DIV"===o.tagName&&o.classList.contains("sect_dsc")){var r=function(e,t,o){for(var r=hi(e),n=-1,i=0;i<t.length;i++)if("string"==typeof t[i]){if(r===t[i]){n=i;break}}else if(e===t[i]){n=i;break}return-1===n?null:o?!(n>=t.length)&&t[n+1]:!(n<0)&&t[n-1]}(e,o.querySelectorAll("img.se_mediaImage"),t);if(null!==r)return r||null}return"default"}}:"fetlife.com"===o?{element_ok:function(e){if("DIV"===e.tagName||"A"===e.tagName)for(var t=0;t<e.children.length;t++){var o=e.children[t];if("IMG"===o.tagName&&(o.classList.contains("ipp")||o.classList.contains("fl-disable-interaction")))return e.children[t]}}}:"youtube.com"===o?{element_ok:function(e){if("DIV"===e.tagName&&"background"===e.id){e=e.querySelector("div#backgroundFrontLayer");if(e)return e}}}:"ray-web.jp"===t?{element_ok:function(e){if(e.children){var t=null;return Qr(e.children,function(e){if("IMG"===e.tagName)return t=e,!1}),t||void 0}}}:"klix.ba"===t?{gallery:function(e,t){t=r(e,t,{id_for_url:/.*\/([0-9]+\.[0-9]+)(?:_[^/.]+)?\.[a-z]+(?:[?#].*)?$/i,thumbs_selector:"div.galleria-thumbnails",thumb_selector:".galleria-image > img"});return!1!==t?t:"default"}}:"olx.ba"===t?{gallery:function(e,t){t=r(e,t,{id_for_url:/.*\/slika-([0-9]+-[0-9a-f]{5,})-[a-z]+\./i,thumbs_selector:"#fancybox-thumbs",thumbs_selector_global:!0,thumb_selector:"li > a > img"});return!1!==t?t:"default"}}:"asics.com"===t?{gallery:function(e,t){var o=function(e){if("PICTURE"===e.tagName){var t=e.querySelector("source");if(t)return o(t)}else if("SOURCE"===e.tagName)return e.srcset;return hi(e)},t=r(e,t,{id_for_url:/.*\/is\/+image\/+asics\/+([^/.?#]+)(?:\.[^/]+?)?(?:[?#].*)?$/,get_img_src:o,thumbs_selector:"#thumbnails > ul div.slick-track",thumbs_selector_global:!0,thumb_selector:"li.thumb > a > picture"});return!1!==t?t:"default"}}:null},si=function(e,t,o){if(e&&(n=e.album_info),t){var r=t.getAttribute("imu-album-info");if(r)try{n=N(r)}catch(e){Pr(e)}}if(!n)return null;var n,r=function(e,t){if("links"!==e.type)return null;var o=-1;if(Qr(e.links,function(e,t){if(e.is_current)return o=t,!1}),o<0)return null;for(var r=0;r<e.links.length;r++)delete e.links[r].is_current;return!((o+=t?1:-1)<0||o>=e.links.length)&&(e.links[o].is_current=!0,e.links[o].url)}(n=Cn(n),o);return r&&("string"==typeof r&&(o=r,(r=Wr("img")).setAttribute("data-imu-fake-src",o)),r.hasAttribute("imu-album-info")||r.setAttribute("imu-album-info",Dr(n)),r)},ui=null,Gt=function(e,t){return!(!(t=Wn(t))[0]||t[0].url!==e)},li=function(o){for(var e=["allow_thirdparty","allow_apicalls","allow_thirdparty_libs","allow_thirdparty_code",{our:"process_format",settings:"process_format",obj:!0}],t=0;t<e.length;t++){var r,n,i=e[t],a=!1;"string"==typeof i?n=r=i:(r=i.our,n=i.settings,a=!!i.obj),a?(r in o||(o[r]={}),on(Rn[n],function(e,t){e in o[r]||(o[r][e]=t)})):r in o||(o[r]=Rn[n]+""=="true")}return o},ci=function(e){if("exclude_problems"in e)for(var t in Rn){var o,r;t in de&&(r=$r(e.exclude_problems,o=de[t]),Rn[t]?0<=r&&e.exclude_problems.splice(r,1):r<0&&e.exclude_problems.push(o))}if(e.allow_apicalls||(e.do_request=null),"rule_specific"in e){var n,i={deviantart_prefer_size:!0,deviantart_support_download:!0,ehentai_full_image:!0,imgur_filename:!0,imgur_source:!0,instagram_use_app_api:!0,instagram_dont_use_web:!0,instagram_prefer_video_quality:!0,instagram_gallery_postlink:!0,snapchat_orig_media:!0,tiktok_no_watermarks:!0,tiktok_thirdparty:!0,tumblr_api_key:!0,twitter_use_ext:!0,mouseover_linked_image:"linked_image"};for(n in i){var a=i[n];!0===a&&(a=n),e.rule_specific[a]=Rn[n]}}return e.exclude_videos=!1,e},pi=function(c,p){for(var e in 0,p=p||{},(be||xr)&&li(p),pi.default_options)if(e in p){if(oe(p[e]))for(var t in pi.default_options[e])t in p[e]||(p[e][t]=Cn(pi.default_options[e][t]))}else p[e]=Cn(pi.default_options[e]);(be||xr)&&ci(p);var d=!1,m=!1,g=!1,f=c;"string"==typeof c&&/^(?:data|blob):/.test(c)&&(g=!0);function o(){if(kr&&Nr("bigimage_recursive","do_cache (endhref, currentobj):",Cn(a),Cn(b)),a&&k(a)){var e=Wn(a,b);if(e&&e.can_cache){if((h=k(e))&&!u&&!0===p.use_cache&&!d)for(var t=0;t<v.length;t++){var o=v[t];o&&(kr&&Nr("bigimage_recursive","do_cache:",o,"=",Cn(e)),ze.set(o,Cn(e),p.urlcache_time))}}else kr&&Nr("bigimage_recursive","do_cache: skipping cache because cache_endhref.can_cache == false")}}function r(e){if(kr&&Nr("bigimage_recursive","parse_bigimage (big)",Cn(e)),!e)return _===c&&p.null_if_no_change&&(_=e),!1;var t=function(o,e){if(!e)return e;Hr(e)||(e=[e]);var r=[];return Qr(e,function(e){if("string"==typeof e)r.push(Ke(o,e));else{if(e.url)if(Hr(e.url))for(var t=0;t<e.url.length;t++)e.url[t]=Ke(o,e.url[t]);else e.url=Ke(o,e.url);r.push(e)}}),r}(h,e);if(kr&&Nr("bigimage_recursive","parse_bigimage (newhref1)",Cn(t)),!t)return!1;var e=["extra","album_info"],o={};0<y.length&&(y[0].likely_broken&&(o.likely_broken=y[0].likely_broken),y[0].fake&&(o.fake=y[0].fake),Qr(e,function(e){e in y[0]&&(o[e]=Cn(y[0][e]))}));var r=Wn(Cn(t),o);kr&&Nr("bigimage_recursive","parse_bigimage (objified)",Cn(r));for(var n=0;n<r.length;n++){function i(){r.splice(n,1),Hr(t)&&t.splice(n,1),n--}var a=r[n];if(null!==a.url||a.waiting){for(var s in""===a.url&&g&&(a.url=f),a.problems)a.problems[s]&&0<=$r(p.exclude_problems,s)&&(kr&&Nr("bigimage_recursive","Removing problematic:",a.url,"because of",s),i());if(a.url&&p.filter&&!p.filter(a.url))jr("Blacklisted:",a.url),i();else if(p.exclude_videos&&"video"===a.media_info.type)i();else if(y[0]&&a._copy_old_props)for(var u=0;u<a._copy_old_props.length;u++){var l=a._copy_old_props[u];a[l]=Cn(y[0][l])}}else i()}if(kr&&Nr("bigimage_recursive","parse_bigimage (objified, processed)",Cn(r)),0===r.length)return kr&&Nr("bigimage_recursive","parse_bigimage: objified.length == 0"),!1;if(m=d=!1,"object"==typeof(e=Hr(e=t)?t[0]:e)){if(b=t,e.waiting&&(d=!0,!e.url))return _=t,!1;e.forcerecurse&&(m=!0)}else b=null;if(Gt(h,r)&&!m){kr&&Nr("bigimage_recursive","parse_bigimage: sameurl(currenthref, objified) == true (newhref, nh1, pastobjs)",Cn(h),Cn(r),Cn(_),Cn(t),Cn(y));try{!p.fill_object||!0===_[0].waiting&&!r[0].waiting?_=r:(apply(_),apply(t),_=null,b=y[0])}catch(e){}return!1}if(!m)for(n=0;n<v.length;n++)if(Gt(v[n],r)){kr&&Nr("bigimage_recursive","parse_bigimage: sameurl(pasthrefs["+n+"], objified) == true",Cn(v[n]),Cn(r),Cn(_));return _=r,!1}return kr&&Nr("bigimage_recursive","parse_bigimage: setting currenthref and newhref"),h=k(r),_=t,v.push(h),Jr(e=[],r),Jr(e,y),y=e,!r[0].norecurse&&(!kr||!kr.no_recurse)}function n(){if(kr&&Nr("bigimage_recursive","do_bigimage",h,Cn(p)),p.use_cache&&ze.has(h)&&!m)return kr&&Nr("bigimage_recursive","do_bigimage: newhref = url_cache["+h+"]",Cn(ze.get(h))),_=ze.get(h),u=!0,0;if(p.filter&&!p.filter(h))return jr("Blacklisted: "+h),0;var e;if(p.catch_errors)try{e=w(h,p)}catch(e){Pr(e),Pr(e.stack)}else e=w(h,p);return r(e)}function i(){if(p.fill_object){if(kr&&Nr("bigimage_recursive","finalize (fillobj(newhref, currentobj), pastobjs)",Cn(_),Cn(b),Cn(y)),a=null===_?Cn(b):Wn(Cn(_),b),p.include_pastobjs)for(var e=0;e<y.length;e++)di(a,y[e].url)<0&&!y[e].fake&&a.push(Cn(y[e]))}else kr&&Nr("bigimage_recursive","finalize (newhref)",Cn(_)),a=Cn(_);kr&&Nr("bigimage_recursive","endhref =",Cn(a))}var a,s,_=c,h=c,v=[c],y=[],b=null,u=!1,l=0,w=p._internal_bigimage||Ot,k=function(e){return e&&((e=Hr(e)?e[0]:e)?h=Hr(e.url)?e.url[0]:e.url:e)};for(p.cb&&(s=p.cb,p.cb=function(e){kr&&Nr("bigimage_recursive","options.cb",Cn(e));function t(){kr&&Nr("bigimage_recursive","do_end"),i(),o();var e=null;p.null_if_no_change||(e=v[v.length-1]),!a||Hr(a)&&!a[0]||"string"==typeof a?a=e:Hr(a)&&"string"==typeof a[0]?a[0]=e:Hr(a)&&a[0]&&!a[0].url&&(a[0].url=e),Hr(a)||(a=[a]),kr&&Nr("bigimage_recursive","do_end (endhref, pasthrefs, pastobjs)",Cn(a),Cn(v),Cn(y)),s(a)}if(r(e)&&!(l+1>=p.iterations)||m){for(;l<p.iterations&&n();l++);d||t()}else t()}),p._internal_info={},l=0;l<p.iterations&&n();l++);return kr&&Nr("bigimage_recursive","return finalize"),i(),o(),_=null,p.cb&&!d&&p.cb(a),Cn(a)};pi.default_options=ee,pi.internal={settings:Rn,settings_meta:Dn,strings:se},pi.is_internet_url=function(e){return!(!e||"string"!=typeof e)&&(!!/^https?:\/\//.test(e)&&(!/^[a-z]+:\/\/(127\.0\.0\.1|192\.168\.[0-9]+\.[0-9]+|10\.[0-9]+\.[0-9]+\.[0-9]+|172\.(?:1[6-9]|2[0-9]|3[01])\.[0-9]+\.[0-9]+|localhost|[^/.]+)\//.test(e)&&!/^[a-z]+:\/\/(?:[0-9a-f]*\:){1,}\//.test(e)))},pi.clear_caches=function(){ze.clear(),Ue.clear(),Le.clear()};function Bt(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].url);return t}var di=function(e,t){return $r(Bt(e),t)},mi=function(u,l,c,p,d,m){var e,t={};for(e in p=p||[],d=d||[],m=m||[],l)"cb"===e?t.cb=function(r){kr&&(jr("bigimage_recursive_loop's cb: obj:",Cn(r)),jr("bigimage_recursive_loop's cb: oldobj:",Cn(m))),r=function(e,t){for(var o=Bt(e),r=0;r<t.length;r++){var n=$r(o,t[r].url);if(0<=n)for(var i in t[r]){var a=t[r][i],s=e[n][i];s!==a&&Dr(s)===Dr(te[i])&&(e[n][i]=a)}else e.push(t[r])}return e}(r,m);for(var n=Bt(r),e=0;e<r.length;e++)if(r[e].bad){var t=r[e].url;r.splice(e,1),n.splice(e,1),e--;for(var o=0;o<d.length;o++)if(d[o].newurl===t){var i=d[o].newobj.url,a=$r(n,i);d[o].unk=!0,0<=a&&(r.splice(a,1),n.splice(a,1),a<e?e-=2:a===e&&e--);break}}kr&&(jr("bigimage_recursive_loop's cb: obj after:",Cn(r)),jr("bigimage_recursive_loop's cb: images after:",Cn(n)),jr("bigimage_recursive_loop's cb: fine_urls:",Cn(p)),jr("bigimage_recursive_loop's cb: tried_urls:",Cn(d)));for(e=0;e<p.length;e++)if(0<=(a=$r(n,p[e].url)))return r=[r[a]],kr&&jr("bigimage_recursive_loop's cb: returning fine_url",Cn(r),Cn(p[e])),l.cb(r,p[e].data);for(var s=!1,e=0;e<d.length;e++)if(d[e].url===u||s){if(!0!==d[e].unk)return 0<=(a=$r(n,d[e].newurl))?(r=[r[a]],kr&&jr("bigimage_recursive_loop's cb: returning tried_url",Cn(r),Cn(d[e]),s),l.cb(r,d[e].data)):(kr&&jr("bigimage_recursive_loop's cb: returning null tried_url",Cn(d[e]),s),l.cb(null,d[e].data));s=!0}kr&&jr("bigimage_recursive_loop: about to query",Cn(r)),c(r,function(e,t,o){if(kr&&jr("bigimage_recursive_loop (query: newurl, newobj, data):",Cn(e),Cn(t),o),!e)return kr&&jr("bigimage_recursive_loop (query): returning null",o),l.cb(null,o);p.push({url:e,data:o}),d.push({url:u,data:o,newurl:e,newobj:Cn(t),unk:!1});t=$r(n,e);t<0||!r[t].norecurse?mi(e,l,c,p,d,r):(r=[r[t]],kr&&jr("bigimage_recursive_loop (query): returning",Cn(r),o),l.cb(r,o))})}:t[e]=l[e];return kr&&jr("bigimage_recursive_loop",u,Cn(l),c,Cn(p),Cn(d),Cn(m)),pi(u,t)};pi.loop=mi;var gi=function(e){return e.tagName.toUpperCase()},fi=function(e,t){try{return e.toDataURL(t)}catch(e){return void Pr(e)}},_i=function(e,t){return e&&(!/^blob:/.test(e)||!t)},hi=function(e){if("string"==typeof e)return e;var t=gi(e);if("A"===t)return e.href;if("IFRAME"===t)return e.src.replace(/^javascript:window\.location\.replace\(["']([^"']+)["']\)$/,"$1");if("CANVAS"===t)return fi("image/png");if("SVG"===t)return Rn.mouseover_allow_svg_el?function(e){var t=["class","id","tabindex","style"],o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.innerHTML=e.innerHTML,o.setAttribute("xmlns","http://www.w3.org/2000/svg");for(var r=e.attributes,n=0;n<r.length;n++){var i=r[n].name;0<=$r(t,i)||/^on/.test(i)||/^aria-/.test(i)||o.setAttribute(i,r[n].value)}var a=get_computed_style(e),a=e.getAttribute("fill")||a.fill;a&&o.setAttribute("fill",a);a=""+o.outerHTML;return"data:image/svg+xml,"+encodeURIComponent(a)}(e):null;if("VIDEO"===t)return e.currentSrc||e.src||e.poster;if("AUDIO"===t)return e.currentSrc||e.src;if("SOURCE"===t){if(e.parentElement){var o=hi(e.parentElement);if(o&&_i(o,!0))return o}return e.currentSrc||e.src}if("IMAGE"===t){var r=e.getAttribute("xlink:href");return r||null}r=e.currentSrc||e.src;if(!r&&"IMG"===e.tagName){e=e.getAttribute("data-imu-fake-src");if(e)return e}return r},vi=function(e){var t=hi(e),o={fill_object:!0,exclude_problems:[],use_cache:"read",use_api_cache:!1,cb:function(){},do_request:function(){}};v&&(o.host_url=window.location.href,o.element=e,o.document=document,o.window=window);o=pi(t,o);if(1!==o.length)return!0;var r,n=o[0];if(n.url!==t)return!0;for(r in n)if("url"!==r){if(!(r in te))return!0;if(Dr(te[r])!==Dr(n[r]))return!0}return!1},Wt=function(e,t,o){xr?Sr({type:"redirect",data:{obj:e,tabId:o}},function(){t()}):t()},Vt=function(e,t){if(kr&&jr("redirect",e,t),!(kr&&kr.no_redirect||e===window.location.href)){try{window.stop()}catch(e){}Wt(t,function(){Rn.redirect_history?window.location.assign(e):window.location.replace(e)})}},Xt=function(){document.documentElement&&(document.documentElement.style.cursor="wait")},Zt=function(){document.documentElement&&(document.documentElement.style.cursor="default")},Kt=null,Yt=function(e,t){if(e&&Hr(e)){for(var o=0;o<e.length;o++)if(t.toString()===e[o].toString())return!0;return!1}return null},Jt=function(e){Hr(e[0])||(e=[e]);for(var t=[],o=0;o<e.length;o++)t.push(function(e){e=e.sort(function(e,t){return e===t?0:"ctrl"===e?-1:"ctrl"===t?1:"shift"===e?-1:"shift"===t?1:"super"===e?-1:"super"===t?1:"alt"===e?-1:"alt"===t?1:e<t?-1:e<t?1:void 0});for(var t=[],o=0;o<e.length;o++){var r=E(e[o],0).toUpperCase()+e[o].slice(1);1!==e.length||"Left"!==r&&"Right"!==r&&"Up"!==r&&"Down"!==r||(r+=" Arrow"),t.push(Un(r))}return t.join("+")}(e[o]));return t},yi=function(e){return Jt(e).join(" / ")},bi=function(e,t){t=new RegExp("^((?:.{"+t+"}|.{0,"+t+"}[\\r\\n]))[\\s\\S]+?$");return e.replace(t,decodeURIComponent("%241%E2%80%A6"))},wi=function(e){for(var t=["","K","M","G","T","P"];1024<e&&1<t.length;)e/=1024,t.shift();return e.toFixed(2).replace(/\.00$/,"")+t[0]+"B"},Qt=function(i,a,s,u,r){if(kr&&jr("check_image",Cn(i),a,r),(i=Hr(i)?i[0]:i)&&i.url){var e=function(){i&&i.extra&&(i.extra.page&&jr("Original page: "+i.extra.page),i.extra.caption&&jr("Caption: "+i.extra.caption),i.extra.created_date&&jr("Created date: "+new Date(i.extra.created_date)),i.extra.updated_date&&jr("Updated date: "+new Date(i.extra.updated_date)))},l=i.url;if(l===a)e(),kr&&jr("(check_image) url == page_url",l,a),u(l);else{var t=i.headers;if(jr(i.url),e(),i&&(i.bad?o="Bad image":"video"===i.media_info.type&&i.media_info.delivery?o="Can't redirect to streaming video type "+Dr(i.media_info.delivery):i.is_pagelink&&(o="Can't redirect to page"),o))(s||Pr)(o);else{function c(e){if(v){if(r)return s(e,!0);if(Rn.redirect_enable_infobox){var t=Ai("mouseover_trigger_behavior");Rn.mouseover?"keyboard"===t?o=yi(Rn.mouseover_trigger_key):"mouse"===t&&(o="delay "+Rn.mouseover_trigger_delay+"s"):o="disabled",Ar=!0;var o=Un("Mouseover popup (%%1) is needed to display the original version","<a style='color:blue; font-weight:bold' href='"+h+"' target='_blank' rel='noreferrer'>"+o+"</a>")+" ("+Un(e)+")";Rn.redirect_infobox_url&&((e=Wr("a")).href=l,e.innerText=bi(l,80),e.setAttribute("target","_blank"),o+="<br />"+e.outerHTML);try{!function(e){var t=Wr("div");t.style.backgroundColor="#fffabb",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.padding=".3em .8em",t.style.boxShadow="0px 0px 20px rgba(0,0,0,.6)",t.style.margin=".8em",t.style.lineHeight="1.5em",t.innerHTML=e,t.onclick=function(){document.body.removeChild(t),Kt&&(clearTimeout(Kt),Kt=null)},document.body.appendChild(t);function o(){Kt||Rn.redirect_infobox_timeout<=0||(Kt=setTimeout(function(){document.body.removeChild(t)},1e3*Rn.redirect_infobox_timeout))}document.hasFocus()?o():(document.onfocus=function(){o(),document.onfocus=null},window.onfocus=function(){o(),window.onfocus=null})}(o)}catch(e){Pr(e)}}}}if(!kr||!kr.no_request){v&&Xt();var e=l.replace(/^([a-z]+:\/\/[^/]*).*?$/,"$1"),o=Cn(t),p=!0;t&&0!==Object.keys(t).length||(p=!(t={}));var n=Mn();for(d in t)Nn(n,d.toLowerCase());var d,m={referer:a,accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-dest":"document","sec-fetch-mode":"navigate","sec-fetch-site":"cross-site"};for(d in m)Hn(n,d)||(t[d]=m[d]);if(p&&1===Object.keys(o).length&&"Referer"in o&&(o=(o=a).replace(/^[a-z]+:\/\/([^/]*).*?$/,"$1"),e=l.replace(/^[a-z]+:\/\/([^/]*).*?$/,"$1"),(i.referer_ok.same_domain&&o===e||i.referer_ok.same_domain_nosub&&ni(o)===ni(e))&&(p=!1)),p&&!xr)return document.documentElement.style.cursor="default",jr("Custom headers needed, currently unhandled"),void c("custom headers");if(kr&&jr("(check_image) headers",t),i.always_ok||!i.can_head&&!Rn.canhead_get)return kr&&jr("(check_image) always_ok || !can_head",l,Cn(i)),u(l);e="HEAD";!i.can_head&&Rn.canhead_get&&(kr&&jr("Trying GET"),e="GET");function g(e){if(!f)if(f=!0,kr&&jr("(check_image) resp",e),!be||"FireMonkey"!==y||e){if(!(e.readyState<2))if(be&&!e.status&&e.readyState<4)f=!1;else if(e.readyState<4&&_&&_.abort&&_.abort(),0===e.status||B(e))(s||Pr)(n="Error: status == 0");else{if(Zt(),e.finalUrl===a)return jr(e.finalUrl),void jr("Same URL");var t=Yn(e.responseHeaders),o=Jn(t);kr&&jr("(check_image) resp headers",o);var r=e.status.toString()[0],t=Yt(i.head_ok_errors,e.status);if(("4"===r||"5"===r)&&405!==e.status&&!0!==t)return n="Error: "+e.status,void(s||Pr)(n);r=o["content-type"];if(!(r=(r=r||"").toLowerCase()).match(/text\/html/)&&r||i.head_wrong_contenttype||!0===t)return xr&&!Rn.redirect_disable_for_responseheader||!(i.forces_download||(r.match(/(?:binary|application|multipart|text)\//)||r.match(/^ *\[/))&&!i.head_wrong_contenttype||o["content-disposition"]&&o["content-disposition"].toLowerCase().match(/^ *attachment/))?!o["content-length"]||"0"!=o["content-length"]||i.head_wrong_contentlength?bo(i.bad_if,e)?(Pr("Bad image (bad_if)",i.bad_if,e),s("bad image")):void(!p||xr?(kr&&jr("(check_image) finalUrl",e.finalUrl||l,e,Cn(i)),u(e.finalUrl||l)):jr("Custom headers needed, currently unhandled")):void Pr("Zero-length image"):(Pr("Forces download"),void c("forces download"));var n="Error: Not an image: "+(r||"(no content-type)");(s||Pr)(n)}}else(s||Pr)(n="Error: resp == null (tracking protection blocked, FireMonkey bug)")}var f=!1,_=bn({method:e,url:l,headers:t,trackingprotection_failsafe:!0,onprogress:function(e){2<=e.readyState&&e.responseHeaders&&g(e)},onload:g})}}}}else u(i)};function eo(e){return/^video\//.test(e)?!!Rn.redirect_video:/^audio\//.test(e)?!!Rn.redirect_audio:!/^(?:text|application)\//.test(e)}function ki(){return eo(document.contentType)}function to(p,e,o){e={fill_object:!0,force_page:e,cb:function(e){var t;kr&&jr("do_redirect (final)",e),Zt(),e&&(v&&Rn.print_imu_obj&&jr(e),(t=e[0].url)!==p&&t&&(kr&&jr("redirect (recursive loop)",e),o(t,e)))}};v&&(e.document=document,e.window=Ir()),mi(p,e,function(e,r){kr&&jr("do_redirect",e);function o(e,t,o){r(e,o||n,t)}for(var n=null,i=[],t=0;t<e.length;t++)!Rn.redirect_video&&wo(e[t])||!Rn.redirect_audio&&ko(e[t])||i.push(e[t]);var a=Rn.redirect_to_no_infobox,s=[],u=!1,l=0,c=function(e,t){kr&&jr("do_redirect_sub's err_cb:",e,t),t&&s.push(i[l]);t=u?s:i;if(++l>=t.length){if(!(a&&0<s.length))return Zt(),void Pr(e);a=!(u=!0),l=0}Gt(window.location.href,t[l])&&a&&0<s.length&&(a=!(u=!0),l=0),n=t[l],Qt(n,p,c,o,a)},n=i[0];Qt(n,p,c,o,a)})}function xi(e){var t;"complete"===document.readyState||"interactive"===document.readyState?e():(t=function(){"complete"!==document.readyState&&"interactive"!==document.readyState||(e(),Br(document,"readystatechange",t))},Gr(document,"readystatechange",t))}function Si(e,t){var o={};if(e.ctrlKey?o.ctrl=!0:o.ctrl=!1,e.altKey?o.alt=!0:o.alt=!1,e.shiftKey?o.shift=!0:o.shift=!1,void 0!==e.buttons)for(var r=["button1","button2","button3","button4","button5"],n=e.buttons;0<r.length;)o[r[0]]=!!(1&n),n>>=1,r.shift();"wheel"===e.type&&(e.deltaY<0?o.wheelUp=!0:0<e.deltaY&&(o.wheelDown=!0),e.deltaX<0?o.wheelLeft=!0:0<e.deltaX&&(o.wheelRight=!0));e=Po(e);return void 0===e||(o[e]=t),o}function oo(e){return"button1"===e}var qi=function(e){return/^wheel/.test(e)},Ti=function(e){for(var t=0;t<e.length;t++)if(!qi(e[t])&&!oo(e[t]))return!1;return!0},ro=function(e){return!!Ti(e)||1===e.length&&oo(e[0])},no=function(e){return 0!==e.length&&(!ro(e)&&(e.length,!0))},io=function(){try{return window.matchMedia("(prefers-color-scheme: dark)").matches}catch(e){return!1}};function ao(){var e,t;(a||qr)&&(io()&&(t=!0,(e="dark_mode")in pe||(Rn[e]=t)),Rn.dark_mode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}var so=function(t,o){if(!xr)return o(!1);try{chrome.permissions.request({permissions:[t]},function(e){e&&Sr({type:"permission_handler",data:{permission:t}}),o(e)})}catch(e){Pr(e),o(!1)}},uo="general";function lo(){ao();var ne=!1,ie=[],ae=[];function t(e,t){if(ne){var o=Si(e,t);!Po(e)&&"mousedown"!==e.type||0!==ae.length||0!==e.button&&2!==e.button&&(ie=[]);var r,n,e=Cn(ie);for(r in o)o[n=r]?($r(ie,n)<0&&ie.push(n),$r(ae,n)<0&&ae.push(n)):0<=$r(ae,n)&&ae.splice($r(ae,n),1);ro(ie)&&(ie=e),ne()}}document.addEventListener("keydown",function(e){if(t(e,!0),ne)return e.preventDefault(),!1}),document.addEventListener("mousedown",function(e){if(t(e,!0),ne)return e.preventDefault(),!1}),document.addEventListener("wheel",function(e){if(t(e,!0),ne)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1},{capture:!0,passive:!1}),document.addEventListener("contextmenu",function(e){if(ne)return e.preventDefault(),e.stopImmediatePropagation(),!1}),document.addEventListener("keyup",function(e){if(t(e,!1),ne)return e.preventDefault(),!1}),document.addEventListener("mouseup",function(e){if(1!==e.button)return t(e,!1),ne?(e.preventDefault(),e.stopImmediatePropagation(),!1):void 0});var e=document.getElementById("options");e.textContent="";var se=document.createDocumentFragment();P||((i=Wr("h1")).textContent=Un("options_header"),se.appendChild(i));var ue=document.getElementById("saved");ue||((ue=Wr("div")).style.visibility="hidden",ue.id="saved",ue.classList.add("topsaved"));function le(){var e="saved_refresh_target";return e=xr||"undefined"!=typeof GM_addValueChangeListener?"saved_no_refresh":e}function ce(e){var t=Wr("p");t.textContent=Un(e),ue.textContent="",ue.appendChild(t)}ce(le());var pe=null;Rn.check_updates&&1===pt(M,Rn.last_update_version)&&se.appendChild(function(){var e=Wr("div");e.classList.add("update-available"),e.innerHTML="Update available: v"+M+" -&gt; ";var t=gt();return e.innerHTML+=t?'<a href="'+t+'" target="_blank" rel="noreferer">v'+Rn.last_update_version+"</a>":"v"+Rn.last_update_version,e}());var o=document.createElement("p");Oo(o)&&se.appendChild(o);var r=Wr("div");r.id="topbtns",se.appendChild(r);var n=Wr("div");n.id="importexport",n.classList.add("center-outer"),n.style.display="none",se.appendChild(n);var i=Wr("div");i.classList.add("center-inner"),n.appendChild(i);var s=Wr("textarea");i.appendChild(s);function a(e){var t=!1;"+"===(e=Ut(e))[0]&&(t=!0,e=e.substring(1));var o=null;try{o=N(e)}catch(e){Pr(e)}return{value:o,append:t}}var u=Wr("button");u.innerText=Un("Import"),u.onclick=function(){var t,e;u.classList.contains("disabled")||(u.classList.add("disabled"),e=s.value,e=Ut(e),t=function(e){if(!e||!e.value)return s.value="Error!",void u.classList.remove("disabled");var t,o,r=e.value,e=e.append,n=!1,i=Cn(Rn),a=Cn(e?Rn:Te);for(o in r){if(!(o in Rn)){if("settings_version"===o){t=r[o];continue}Mr("Unknown key in imported settings:",o)}a[o]=r[o]}for(o in a)Dr(a[o])!==Dr(i[o])&&(Rn[o]=a[o],fo(o,a[o]),n=!0);vo(t=void 0===t?1:t,a,function(e){u.classList.remove("disabled"),n||e?(jr("Settings imported"),setTimeout(function(){lo()},1)):jr("No settings changed"),c(!1)})},/^https?:\/\//.test(e=e)?bn({method:"GET",url:e,onload:function(e){if(200!==e.status)return console.error(e),t(null);t(a(e.responseText))}}):t(a(e)))},i.appendChild(u);var l=Wr("div"),o=Wr("button");o.innerText=Un("Save"),o.onclick=function(){var e=s.value,t={url:"data:text/plain,"+encodeURIComponent(e),filename:"settings.txt"};wn(t,t.filename,e.length)},l.appendChild(o),i.appendChild(l);var c=function(e,t){e?n.style.display="block":(p=null,n.style.display="none"),t?(e&&(p="import"),u.style.display="inline-block",l.style.display="none"):(e&&(p="export"),u.style.display="none",l.style.display="block")},p=null,i=Wr("button");i.id="importbtn",i.innerText=Un("Import"),i.title=Un("Import settings"),i.onclick=function(){if("import"===p)return c(!1);s.value="",c(!0,!0)},r.appendChild(i);i=Wr("button");i.id="exportbtn",i.innerText=Un("Export"),i.title=Un("Export settings"),i.onclick=function(){if("export"===p)return c(!1);var t=Cn(Rn);mo("settings_version",function(e){void 0!==e&&(t.settings_version=e),s.value=Dr(t),c(!0,!1)})},r.appendChild(i);function d(e,t){void 0===t&&(t={});var o=!0,r=(n=function(e){var n=Cn(e);if(!n)return null;"string"==typeof n&&(n=Cn(qe[n])),Hr(n)||(n=[n]);var r=[];return Qr(n,function(e){var t;e._condition?(t=Cn(qe[e._condition]),Hr(t)||(t=[t]),Qr(t,function(o){on(e,function(e,t){"_condition"!==e&&(o[e]=t)}),r.push(o)})):r.push(e)}),n=[],Qr(r,function(e){n.push(e);var r=[];if(on(e,function(e,t){var o=Dn[e];o&&o.profiled&&r.push(e)}),r.length)for(var t=0;t<Ln;t++){var o=Cn(e);Qr(r,function(e){o["t"+(t+2)+"_"+e]=o[e],delete o[e]}),o._auto=!0,n.push(o)}}),n})(e.requires),n=n(e.disabled_if);return e.imu_enabled_exempt||Rn.imu_enabled||(o=!1),t.good=[],t.bad=[],o&&r&&(o=y(r,t),t.good=[]),o&&n&&(t.good=[],t.bad=[],o=!y(n,t),t.bad=[]),o}function m(e){var t=Dn[e];return _[e]="processing",v[e]={},t=d(t,v[e]),_[e]=t}function h(e){for(var t=0;t<e.length;t++)if(0!==e[t].length)return 1}function g(e,t){if(t.textContent="",Rn.settings_show_requirements){var o=h((r=e).good)?"good":h(r.bad)?"bad":null;if(o){var r=Wr("p");r.innerText=Un("Requires:"),t.appendChild(r);for(var n=[],i=e[o],a=0;a<i.length;a++)if(0!==i[a].length){for(var s=Wr("ul"),u=!1,l=0;l<i[a].length;l++){var c,p,d,m,g=i[a][l];g.auto||(c=g.setting,m=d=null,g.setting in Dn&&(c=Un((d=Dn[g.setting]).name),m=(m=d.category||null)&&Un(xe[m])),p="",d=g.required_value,(g="input_"+g.setting+"_"+g.required_value)in ye?d=ye[g]:m&&(p="("+m+") "),g="good"===o?"!=":"=",(m=Wr("li")).innerText=p+c+" "+g+" "+d,s.appendChild(m),u=!0)}u&&n.push(s)}for(var f=[],a=0;a<n.length-1;a++){f.push(n[a]);var _=Wr("p");_.innerText=Un("Or:"),f.push(_)}f.push(n[n.length-1]);for(a=0;a<f.length;a++)t.appendChild(f[a])}}}var f,_={},v={},y=function(e,t){for(var o=0;o<e.length;o++){var r,n,i,a=e[o],s=!0;for(i in void 0!==t&&(r=[],n=[]),a)if("_"!==i[0]){var u=a[i],l=Rn[i];if(Hr(l)&&!Hr(u)&&(l=l[0]),i in _||m(i),"processing"===_[i])return void Pr("Dependency cycle detected for: "+setting+", "+i);var c={setting:i,required_value:u,current_value:l,enabled:_[i],auto:!!a._auto},p=l===u;if(p||"keysequence"!==Dn[i].type||!0!==u||(p=l&&!!l.length),_[i]&&p?void 0!==r&&r.push(c):(s=!1,void 0!==n&&n.push(c)),!s&&void 0===t)break}if(void 0!==t&&(t.good.push(r),t.bad.push(n)),s)return!0}return!1},b=function(e,t){if(t in e)return e[t];for(var o in e)if(/^_group/.test(o))return b(e[o],t);return null};function de(){var e=se.querySelectorAll("div.option");_={};for(var t=0;t<e.length;t++){var o=e[t].id.replace(/^option_/,"");if(m(o)){e[t].classList.remove("disabled"),e[t].classList.remove("disabled-hidden"),e[t].getElementsByClassName("requirements")[0].classList.add("hidden");for(var r,n=Dn[o].options,i=new RegExp("^input_"+o+"_"),a=e[t].querySelectorAll("input, textarea, button, select, option"),s=0;s<a.length;s++)(u=a[s]).disabled=!1,n&&((r=u.id.replace(i,""))===u.id||(r=b(n,r))&&(d(r)||(u.disabled=!0)))}else{e[t].classList.add("disabled"),(!Rn.settings_show_disabled||!Rn.settings_show_disabled_profiles&&/^t[0-9]+_/.test(o)&&Rn["mouseover_trigger_key_"+o.replace(/^(t[0-9]+)_.*/,"$1")].length<=0)&&e[t].classList.add("disabled-hidden");for(var u,a=e[t].querySelectorAll("input, textarea, button, select"),s=0;s<a.length;s++)(u=a[s]).disabled=!0;var l=e[t].getElementsByClassName("requirements")[0];l.classList.remove("hidden"),g(v[o],l)}}}function me(){for(var e=se.querySelectorAll("div.option"),t=0;t<e.length;t++){var o=e[t].id.replace(/^option_/,""),r=Dn[o];r.warning&&(r=r.warning[Rn[o]+""],(o=e[t].querySelector(".warning"))&&(r?(o.innerText=r,o.style.display="block"):o.style.display="none"))}}function ge(e,t){function o(){0!==n.length&&((r=Wr("`"===i?"code":"span")).innerText=n,n="",e.appendChild(r))}var r=null,n="",i=null;if(Fr(t,"`")<0&&Fr(t,"\n")<0)return n=t,void o();for(var a=0;a<t.length;a++)t[a]!==i?"`"!==t[a]?"\n"!==t[a]?n+=t[a]:(o(),e.appendChild(Wr("br"))):(o(),i=t[a]):(o(),i=null);o()}Rn.settings_tabs&&((f=Wr("div")).id="tabs",se.appendChild(f));var w={},fe={};for(U in uo in xe||(uo="general"),xe){var k,x=Un(xe[U]),S=Wr("div");S.id="cat_"+U,S.classList.add("category"),w[U]=[S],Rn.settings_tabs?(S.classList.add("tabbed"),(k=Wr("span")).classList.add("tab"),k.id="tab_cat_"+U,k.innerText=x,function(e){k.onclick=function(){uo=e,window.location.hash="cat_fake_"+e,lo()}}(U),U===uo?k.classList.add("active"):S.style.display="none",w[U].push(k),f.appendChild(k)):((q=Wr("h2")).innerText=x,S.appendChild(q));var q=Wr("div");if(q.id="subcat_"+U,q.classList.add("subcat"),q.classList.add("frame"),S.appendChild(q),fe[U]=q,U in Se)for(var T in Se[U]){var E=Wr("div"),A=U+"_"+T;E.id="subcat_"+A,E.classList.add("subcat"),E.classList.add("frame");var C=Wr("h3");C.innerText=Un(Se[U][T]),E.appendChild(C),S.appendChild(E),fe[A]=E}se.appendChild(S)}function _e(e){return Hr(e)&&1===e.length?Dr(e[0]):Dr(e)}function I(g){var f=Dn[g];if(f&&g in Te){var c=Rn[g],r=Te[g];if(!f.hidden&&(!f.userscript_only||be)&&(!f.extension_only||xr)&&(!f.advanced||he)&&(ve[f.category]=!0,!Rn.settings_tabs||f.category===uo)){var e=Wr("div");e.classList.add("option"),e.id="option_"+g,(/^t[0-9]+_/.test(g)||/_t[0-9]+$/.test(g))&&e.classList.add("trigger_profile");var t=Wr("table");t.classList.add("option-table");var o=Wr("tr");t.appendChild(o);var n=Wr("strong");ge(n,Un(f.name));var i=Un(f.description);(i=f.description_userscript&&be?Un(f.description_userscript):i)?n.title=i:n.classList.add("no-title");var a=Wr("td");a.classList.add("name_td"),a.classList.add("name_td_va_middle");var s=document.createElement("button");s.innerText="⮌",s.classList.add("revert-button"),s.title=Un("Revert"),s.onclick=function(){s.disabled||(_(g,r,f),Kn(lo))};function u(e){var t=_e(e),o=_e(r);"keysequence"===f.type&&(t=Dr(Gi(e)),o=Dr(Gi(r))),t!==o?(a.classList.add("value_modified"),a.appendChild(s)):(a.classList.remove("value_modified"),s.parentElement===a&&a.removeChild(s))}function l(e,t,o){_o(e,t),Kn(function(){u(t)}),o.needrefresh?ce("saved_refresh_target"):ce(le()),ue.setAttribute("style",""),ue.classList.remove("fadeout"),pe&&clearTimeout(pe),pe=setTimeout(function(){ue.classList.add("fadeout")},2e3)}var _=function(t,o,r){xr&&r.required_permission?so(r.required_permission,function(e){e?l(t,o,r):lo()}):l(t,o,r)};a.appendChild(n),u(c),o.appendChild(a);var h=Wr("td");h.classList.add("value_td");var p,d="options",m={};if("boolean"==typeof r)d="options",m.true={name:Un("yes")},m.false={name:Un("no")},c?m.true.checked=!0:m.false.checked=!0;else if(f.options){if(f.options._randomize){var v,y=Object.keys(f.options),b={};for(v in f.options)"_"!=v[0]&&!f.options[v].is_null||(b[v]=f.options[v]);y.sort(function(){return we(2*ke())?1:-1});for(var w=0;w<y.length;w++)y[w]in b||(b[y[w]]=f.options[y[w]]);f.options=b}"combo"===f.options._type?d="combo":(d="options",m=Cn(f.options),p=function(e,t){if(e in t)t[e].checked=!0;else for(var o in t)o.match(/^_group/)&&p(e,t[o])},Hr(c)?Qr(c,function(e){p(e,m)}):p(c,m))}else f.type&&("textarea"!==f.type&&"keysequence"!==f.type&&"number"!==f.type&&"lineedit"!==f.type||(d=f.type));if("options"===d){function k(l,e,t,c,p,d){var o="input_"+g+"_"+e,r=g;p&&"and"===d&&(r+="_"+p);var m=Wr("input");m.setAttribute("type","checkbox"),m.name=r,m.value=e,m.id=o,t.checked&&m.setAttribute("checked","true"),m.addEventListener("change",function(e){var t=this.value;if("false"===(t="true"===t?!0:t)&&(t=!1),this.checked){if(p&&"or"===d)for(var o=0;o<h.children.length;o++)if((i=h.children[o]).id!==g+p)for(var r=0;r<i.children.length;r++)"INPUT"===(a=i.children[r]).tagName&&(a.checked=!1);if("or"===c)for(o=0;o<l.children.length;o++)"INPUT"===(i=l.children[o]).tagName&&i.id!=m.id&&(i.checked=!1)}else{for(var n=!1,o=0;o<h.children.length;o++){for(var i=h.children[o],r=0;r<i.children.length;r++){var a=i.children[r];if("INPUT"===a.tagName&&a.checked){n=!0;break}}if(n)break}n||(this.checked=!0)}if(p||"or"!==c){for(var s=[],u=h.getElementsByTagName("input"),o=0;o<u.length;o++)(i=u[o]).checked&&s.push(i.value);_(g,s,f)}else _(g,t,f);de(),me()}),l.appendChild(m);e=Wr("label");e.setAttribute("for",o),ye[o]=Un(t.name),ye[o]?e.innerText=ye[o]:e.innerHTML="&nbsp;",t.description&&(e.title=Un(t.description)),l.appendChild(e)}var x,S=(S=m._type)||"or";for(x in m)if(!m[x].extension_only||xr)if(x.match(/^_group/)){var q,T=(T=m[x]._type)||"or";for(q in(E=Wr("div")).classList.add("group"),E.id=g+x,m[x])q.match(/^_/)||k(E,q,m[x][q],T,x,S);h.appendChild(E)}else x.match(/^_/)||k(h,x,m[x],S)}else if("textarea"===d){var E=Wr("table"),A=Wr("tr"),C=Wr("td");C.style.verticalAlign="middle";var I=Wr("tr"),z=Wr("td");z.style.textAlign="center";var U=Wr("textarea");U.style.height="5em",U.style.width="20em",c&&(U.value=c);n=Wr("button");n.innerText=Un("save"),n.onclick=function(){_(g,U.value,f),de()},C.appendChild(U),z.appendChild(n),I.appendChild(z),A.appendChild(C),E.appendChild(A),E.appendChild(I),h.appendChild(E)}else if("number"===d||"lineedit"===d){E=Wr("table"),A=Wr("tr");Wr("td").style="display:inline";var R=Wr("input");R.type="text",R.setAttribute("spellcheck",!1),"number"===d&&(R.style="text-align:right",void 0!==f.number_max&&R.setAttribute("max",f.number_max.toString()),void 0!==f.number_min&&R.setAttribute("min",f.number_min.toString()),f.number_int&&R.setAttribute("step","1")),void 0!==c&&(R.value=c),R.oninput=R.onblur=function(e){var t=!1,o=!0;"blur"===e.type&&(o=!(t=!0));var r=R.value.toString();if("number"===d){var n=r=parseFloat(r);if(isNaN(r)){if(!t)return;r=0}if(f.number_int&&(r=parseInt(r)),void 0!==f.number_max&&(r=Zr(r,f.number_max)),void 0!==f.number_min&&(r=Xr(r,f.number_min)),isNaN(r))return void Pr("Error: number is NaN after min/max");!f.number_int&&r===n||(R.value=r),r=parseFloat(r),"blur"===e.type&&r!==n&&(o=!0)}o&&_(g,r,f)};I=Wr("td");I.classList.add("number_units"),f.number_unit&&(I.innerText=Un(f.number_unit)),A.appendChild(R),A.appendChild(I),E.appendChild(A),h.appendChild(E)}else if("keysequence"===d){var E=Wr("table"),L=Cn(c);0<L.length&&!Hr(L[0])&&(L=[L]);for(var D=[],w=0;w<L.length;w++)D.push(w);function j(){for(var e=0,t=0;t<D.length;t++)0<=D[t]&&e++;return e<2}function P(){for(var e=[],t=0;t<D.length;t++)0<=D[t]&&0<L[t].length&&e.push(L[t]);_(g,e,f),de()}function M(){for(var e=!f.keyseq_allow_none&&j(),t=0;t<E.children.length;t++){var o=E.children[t].getElementsByClassName("removebtn");0<o.length&&(o[0].style.display=e?"none":"initial")}}function N(t,e){var o=Wr("tr");o.classList.add("keyseq");var r=Wr("td");r.classList.add("record_keybinding"),c&&(r.innerText=Jt(L)[t]);var n=Wr("td");n.style="display:inline";var i=Wr("button");i.innerText=Un("record");function a(){ne?no(ie)&&(L[t]=ie,P(),u()):(ie=[],ae=[],ne=function(){var e=ie;0===e.length&&(e=L[t]),r.innerText=Jt(e),no(ie)?i.classList.remove("disabled"):i.classList.add("disabled")},i.innerText=Un("save"),s.style="display:inline-block")}i.onmousedown=a;var s=Wr("button");s.innerText=Un("cancel"),s.style="display:none";var u=function(){ne=!1,i.innerText=Un("Record"),i.classList.remove("disabled"),s.style="display:none",r.innerText=Jt(L)[t]};s.onmousedown=u;var l=Wr("button");return l.innerText="×",l.title=Un("Remove"),l.classList.add("removebtn"),l.classList.add("small"),!f.keyseq_allow_none&&j()&&(l.style="display:none"),l.onclick=function(){if(f.keyseq_allow_none||!j()){ne=!1,D[t]=-1;for(var e=t+1;e<D.length;e++)D[e]--;o.parentElement.removeChild(o),M(),P()}},o.appendChild(r),n.appendChild(i),n.appendChild(s),n.appendChild(l),o.appendChild(n),e&&a(),o}for(w=0;w<D.length;w++)E.appendChild(N(w));var H=Wr("tr"),$=Wr("td"),A=Wr("button");A.innerText="+",A.title=Un("Add keybinding"),A.classList.add("small"),A.onclick=function(){for(var e=-1,t=D.length-1;0<=t;t--)if(0<=D[t]){e=D[t];break}D.push(e+1),L.push([]),E.insertBefore(N(D.length-1,!0),H),M()},$.appendChild(A),H.appendChild($),E.appendChild(H),h.appendChild(E)}else if("combo"===d){var F,O,G,B,W,E=Wr("select"),V=null;for(F in f.options)F&&"_"!==F[0]&&(G=(O=f.options[F]).name,"name_gettext"in O&&!O.name_gettext||(G=Un(G)),ye[B="input_"+g+"_"+F]=G,(W=Wr("option")).innerText=G,W.value=F,W.id=B,O.description&&(W.title=Un(O.description)),O.is_null&&(V=F),E.appendChild(W));$=Rn[g];null===$&&V&&($=V),E.value=$,E.onchange=function(){var e=E.value;e in f.options&&f.options[e].is_null&&(e=null),_(g,e,f),de(),me()},h.appendChild(E)}o.appendChild(h),e.appendChild(t),i&&Rn.settings_visible_description&&(ge(t=Wr("p"),i),t.classList.add("description"),e.appendChild(t)),f.warning&&((J=Wr("p")).style.display="none",J.classList.add("warning"),e.appendChild(J));var X,Z,K,Y,J=Wr("div");if(J.classList.add("requirements"),J.classList.add("hidden"),e.appendChild(J),f.example_websites){var Q=Wr("ul");Q.classList.add("examples");for(var ee=0;ee<f.example_websites.length;ee++){var te=f.example_websites[ee],oe=Wr("li");oe.innerText=Un(te),Q.appendChild(oe)}e.appendChild(Q)}f.documentation&&(re=(X=function(e){return decodeURIComponent(e?"%E2%AF%86":"%E2%AF%88")+" "+Un(f.documentation.title)})(!1),(Z=Wr("span")).classList.add("spoiler-title"),Z.innerText=re,K=!1,Z.onclick=function(){K=!K,Y.style.display=K?"block":"none",Z.innerText=X(K)},(Y=Wr("div")).classList.add("spoiler-contents"),Y.style.display="none",Y.innerHTML=f.documentation.value,e.appendChild(Z),e.appendChild(Y));var re=Wr("div");re.classList.add("error"),e.appendChild(re),f.category?(re=f.category,f.subcategory&&(re+="_"+f.subcategory),fe[re].appendChild(e)):se.appendChild(e)}}}var he=Rn.advanced_options,ve={},ye={},z=Object.keys(Rn);Rn.settings_alphabetical_order&&z.sort(function(e,t){var o=Dn[e],r=Dn[t];return o&&r&&o.name&&r.name?Un(o.name).localeCompare(Un(r.name)):e.localeCompare(t)});for(var U,R,L=0;L<z.length;L++)I(z[L]);for(U in de(),me(),w){var D=w[U];if(!(U in ve))for(L=0;L<D.length;L++)D[L].parentNode.removeChild(D[L])}for(R in fe){var j=fe[R];0===j.querySelectorAll(".option").length&&j.parentNode.removeChild(j)}document.body.appendChild(ue),e.appendChild(se),se=e}function Ei(e){return Hr(e)?e[0]:e}function Ai(e){return Ei(Rn[e])}function co(t){try{return void 0===t?t:"true"===t||"false"!==t&&N(t)}catch(e){return t}}function po(o,r){if(xr)Sr({type:"getvalue",data:o},function(o){o=o.data,on(o,function(e,t){o[e]=co(t)}),r(o)});else{if("undefined"!=typeof GM_getValue&&"FireMonkey"!==y){var n={};return Qr(o,function(e){n[e]=co(GM_getValue(e,void 0))}),r(n)}var i;"undefined"!=typeof GM&&GM.getValue&&(i=0,n={},Qr(o,function(t){GM.getValue(t,void 0).then(function(e){n[t]=co(e),++i>=o.length&&r(n)},function(e){Pr(e),++i>=o.length&&r(n)})}))}}function mo(t,o){return po([t],function(e){return o(e[t])})}v&&(!(ae=window.location.hash)||(ae=ae.match(/^#?cat(?:_fake)?_(.*)$/))&&(uo=ae[1]));var go=0;function fo(e,t,o){var r;e in Dn&&Dn[e].onedit&&Dn[e].onedit(t),t=Dr(t),xr?((r={})[e]=t,go++,Sr({type:"setvalue",data:r},function(){go--,o&&o()})):"undefined"!=typeof GM_setValue?(GM_setValue(e,t),o&&o()):"undefined"!=typeof GM&&GM.getValue&&GM.setValue(e,t).then(function(){o&&o()})}function _o(e,t){return t!==Rn[e]&&(t=Cn(t),Rn[e]=t,xr&&(e in _e||(_e[e]=[]),_e[e].push(t)),fo(e,t),1)}function ho(e){if(Rn.allow_live_settings_reload){var t,o=!1;for(t in e)if(void 0!==e[t].newValue){var r=N(e[t].newValue);if(t in _e){var n=$r(_e[t],r),i=!1;if(0<=n&&n<_e[t].length-1&&(i=!0),_e[t].splice(n,1),i)continue}r=yo(t,r),o=r||o;r&&t in Dn&&"onupdate"in Dn[t]&&Dn[t].onupdate()}o&&go<=0&&qr&&lo()}}function vo(e,t,o){e?"number"!=typeof e&&(e=parseInt(e),isNaN(e)&&(e=0)):e=0,void 0===t&&(t=Rn);var r,n=!1;if(0===e){if(t.mouseover_trigger){for(var i=[],a=0;a<t.mouseover_trigger.length;a++){var s,u=t.mouseover_trigger[a];u.match(/^delay_[0-9]+/)?_o("mouseover_trigger_delay",s="number"==typeof(s=(s=parseInt(t.mouseover_trigger[a].replace(/^delay_([0-9]+).*?$/,"$1")))<=0||isNaN(s)?!1:s)&&10<=s?10:s):i.push(u)}0===i.length?(_o("mouseover_trigger_key",Te.mouseover_trigger_key),_o("mouseover_trigger_behavior","mouse")):(_o("mouseover_trigger_key",i),_o("mouseover_trigger_behavior","keyboard"))}_o("settings_version",1),n=!0,e=1}if(1===e&&(r="none",void 0===t.mouseover_use_fully_loaded_video&&void 0===t.mouseover_use_fully_loaded_image||(!1!==t.mouseover_use_fully_loaded_video&&void 0!==t.mouseover_use_fully_loaded_video||(r="video"),void 0===t.mouseover_use_fully_loaded_image?Te.mouseover_use_fully_loaded_image||(r="media"):!1===t.mouseover_use_fully_loaded_image&&(r="media"),_o("mouseover_allow_partial",r)),_o("settings_version",2),n=!0,e=2),2===e&&("mouseover_close_on_leave_el"in t&&_o("mouseover_close_el_policy",t.mouseover_close_on_leave_el?"both":"popup"),_o("settings_version",3),n=!0,e=3),3===e&&("mouseover_scroll_behavior"in t&&("zoom"!==Ei(t.mouseover_scroll_behavior)&&_o("mouseover_scrollx_behavior",t.mouseover_scroll_behavior),_o("mouseover_scrolly_behavior",t.mouseover_scroll_behavior)),_o("settings_version",4),n=!0,e=4),4===e&&("mouseover_mask_styles"in t&&t.mouseover_mask_styles&&(_o("mouseover_mask_styles2",t.mouseover_mask_styles),_o("mouseover_enable_mask_styles",!0)),_o("settings_version",5),n=!0,e=5),5===e&&("mouseover_video_seek_vertical_scroll"in t&&t.mouseover_video_seek_vertical_scroll&&_o("mouseover_scrolly_video_behavior","seek"),"mouseover_video_seek_horizontal_scroll"in t&&t.mouseover_video_seek_horizontal_scroll&&_o("mouseover_scrollx_video_behavior","seek"),_o("settings_version",6),n=!0,e=6),6===e&&("mouseover_support_pointerevents_none"in t&&t.mouseover_support_pointerevents_none&&_o("mouseover_find_els_mode","full"),_o("settings_version",7),n=!0,e=7),7===e&&("mouseover_enable_mask_styles"in t&&t.mouseover_enable_mask_styles&&_o("mouseover_enable_mask_styles2","always"),_o("settings_version",8),n=!0,e=8),8===e){if("allow_video"in t&&!t.allow_video){_o("mouseover_allow_video",!1);for(a=0;a<Ln;a++)_o("t"+(a+2)+"_mouseover_allow_video",!1);_o("redirect_video",!1)}_o("settings_version",9),n=!0,e=9}if(9===e){if("allow_audio"in t&&t.allow_audio){_o("mouseover_allow_audio",!0);for(a=0;a<Ln;a++)_o("t"+(a+2)+"_mouseover_allow_audio",!0);_o("redirect_audio",!0)}_o("settings_version",10),n=!0,e=10}10===e&&("replaceimgs_remove_size_constraints"in t&&t.replaceimgs_remove_size_constraints&&_o("replaceimgs_size_constraints","remove"),_o("settings_version",11),n=!0,e=11),o(n)}function yo(e,t){return void 0!==t&&("number"==typeof Rn[e]&&(t=parseFloat(t)),(pe[e]=t)!==Rn[e])&&(Rn[e]=t,!0)}var Ci=!0;try{/^[a-z]+:\/\/[^/]*txxx\.com\//.test(window.location.href)&&(Ci=!1)}catch(e){}function Ii(e){Ci&&(e.style.all="initial"),e.style.removeProperty("offset-inline-start"),e.style.setProperty("transition-duration","0s","important")}function bo(e,t){if(kr&&jr("check_bad_if",e,t),!e||!Hr(e)||0===e.length)return kr&&jr("check_bad_if (!badif)"),!1;for(var i=Yn(t.responseHeaders),o=0;o<e.length;o++)if(function(e){if(e.headers)for(var t in e.headers){for(var o=t.toLowerCase(),r=!1,n=0;n<i.length;n++)if(i[n].name.toLowerCase()===o){if("function"==typeof e.headers[t]?r=e.headers[t](i[n].value):"string"==typeof e.headers[t]&&(r=i[n].value===e.headers[t]),r)break;return!1}if(!r)return!1}return!0}(e[o]))return!0;return!1}pi.check_bad_if=bo;var zi,Ui={},wo=function(e){return"video"===e.media_info.type||!!/\.(?:mp4|webm|mkv|mpg|ogv|wmv|m3u8|mpd)(?:[?#].*)?$/i.test(e.url)},ko=function(e){return"audio"===e.media_info.type||!!/\.(?:mp3|m4a|oga|mkv|wma|mp4|ogg)(?:[?#].*)?$/i.test(e.url)},xo=function(e){return wo(e)||ko(e)},So=function(e){e=Gn(e,{split_ext:!0});return"mpd"===e[1]?"dash":"m3u8"===e[1]?"hls":null},qo=function(e){e=e.replace(/^\s*\[?\s*(.*?)\s*\]?\s*$/,"$1");var t={type:null,delivery:null};return/^audio\//.test(e)&&(t.type="audio"),/^video\//.test(e)&&(t.type="video"),"application/oga"===e&&(t.type="audio"),"application/ogv"===e&&(t.type="video"),"application/ogg"===e&&(t.type="video"),"application/x-mpegurl"===e&&(t.type="video",t.delivery="hls"),t.type?t:null},To=function(e,t){return e?("image"===e.type||"video"===e.type||"audio"===e.type)&&(("video"!==e.type||!t.deny_video)&&(("audio"!==e.type||!t.deny_audio)&&(!e.delivery||!(e.need_custom_xhr&&!Rn.custom_xhr_for_lib)&&!!(e.delivery&&e.delivery in Ui&&Ui[e.delivery].active())))):(Pr("is_media_type_supported called without media_info"),!0)};var Ri=function(e,t){if(e.method||(e.method="GET"),e.headers||(e.headers={}),t.headers)for(var o in t.headers)Tt(e.headers,o,t.headers[o]);return e.url===t.url&&(t.can_head||"HEAD"!==e.method||(e.method="GET")),e},Eo=function(e,t){(Rn.popup_use_anonymous_crossorigin||t&&!t.need_credentials)&&e.setAttribute("crossorigin","anonymous")};function Ao(e){return e?"VIDEO"===(e=gi(e))?"video":"AUDIO"===e?"audio":"PICTURE"===e||"IMG"===e?"image":null:null}function Co(e,t,o,r,n){var i=Wr(t);function a(){i.onloadedmetadata=null,i.removeEventListener("loadedmetadata",l)}function s(e){var t;Pr("Error loading video",((e=t=e).path&&t.path[0]&&(e=t.path[0].error),e=t.originalTarget?t.originalTarget.error:e)),a(),n()}Eo(i,e),Rn.mouseover_video_autoplay&&i.setAttribute("autoplay","autoplay"),!Rn.mouseover_video_controls&&"audio"!==t||i.setAttribute("controls","controls"),Rn.mouseover_video_loop&&!Rn.mouseover_gallery_move_after_video&&i.setAttribute("loop",!0),t=parseInt(Rn.mouseover_video_volume),t=Xr(Zr(t,100),0),i.volume=t/100,Rn.mouseover_video_muted&&(i.muted=!0);var u=!1,l=function(){if(!u){if(u=!0,i.removeEventListener("error",s,!0),a(),!o.running)return n(!0);i.hasAttribute("loop")&&Rn.mouseover_video_autoloop_max&&Rn.mouseover_video_autoloop_max<i.duration&&i.removeAttribute("loop");var e,t=null;o.source&&o.source.el&&("VIDEO"===(e="SOURCE"===(e=o.source.el).tagName?e.parentElement:e).tagName&&(t=e)),Rn.mouseover_video_resume_from_source&&t&&t.currentTime&&(Rn.mouseover_video_resume_if_different||Kr(t.duration-i.duration)<1||Kr(1-t.duration/i.duration)<.01)&&(i.currentTime=t.currentTime),Rn.mouseover_video_pause_source&&t&&t.pause(),Kn(function(){r(i)})}};return i.onloadedmetadata=l,i.addEventListener("loadedmetadata",l),i.onended=function(){Rn.mouseover_enable_gallery&&Rn.mouseover_gallery_move_after_video&&zi(1)},i.addEventListener("error",s,!0),i}var Io=function(e,t){var o=new FileReader;o.onload=function(e){try{t(e.target.result)}catch(e){Pr(e),Pr(e.stack),t(null)}},o.readAsDataURL(e)},Li=function(e){return S.createObjectURL(e)},Di=function(e){return En(e)&&(e=e.src),S.revokeObjectURL(e)},ji=function(e){return"VIDEO"===e.tagName||"SOURCE"===e.tagName&&!(!e.parentElement||"VIDEO"!==e.parentElement.tagName)},Pi=function(e){var t=Ao(e);return t||("SOURCE"===gi(e)?Ao(e.parentElement):null)},zo=function(e,t,o){var r,n;e&&(r=function(e,t){e.src=t},n="string"==typeof t&&/^https?:\/\//i.test(t),xr&&n?Sr({type:"override_next_headers",data:{url:t,method:"GET",headers:o.headers,anonymous:"anonymous"===e.getAttribute("crossorigin"),content_type:o.content_type||null}},function(){r(e,t)}):r(e,t))},Uo=function(e,t,o,r,n){return"image"===t?function(e,t,o){var r=Wr("img");Eo(r,e);function n(){clearInterval(i),r.onload=null,r.onerror=null}r.onload=function(){if(n(),0===r.naturalWidth||0===r.naturalHeight)return kr&&jr("naturalWidth or naturalHeight == 0",r),o();t(r)},r.onerror=function(e){kr&&jr("Error loading image",r,e),n(),o()};var i=setInterval(function(){0!==r.naturalWidth&&0!==r.naturalHeight&&(n(),t(r))},15);return r}(e,r,n):"video"===t||"audio"===t?Co(e,t,o,r,n):(Pr("Currently unsupported media type",t),n(),null)},Ro=he(),Mi=function(e){var t;ve(Ro,e)?(t=Pn(Ro,e),jn(Ro,e,++t)):jn(Ro,e,1)},Ni=function(e){var t,o;ve(Ro,e)&&(t=Pn(Ro,e),--t<=0?(o=e,kr&&jr("destroy_image",o),Di(o.src),o.setAttribute("imu-destroyed","true"),ye(Ro,e)):jn(Ro,e,t))},Lo=null,Do={};function Hi(u,o,l){if(kr&&Nr("check_image_get","check_image_get",Cn(u),o,Cn(l)),!u||!u[0]||!u[0].url)return o(null);if(!l.running)return o(null);function r(){return Di(p),u.shift(),kr&&Nr("check_image_get","check_image_get(err_cb):",u,l),Hi(u,o,l)}var e,c=r;if((l.set_cache||l.use_cache)&&(Lo||(e=Rn.popup_cache_itemlimit,Lo=new $n({max_keys:e=e<=0?null:e,destructor:function(e,t){t&&t.img&&Ni(t.img)}}))),!u[0].media_info)return Pr("No media info"),c();if(!To(u[0].media_info,l))return Mr("Media type",u[0].media_info,"is not supported"),c();if(l.use_cache&&Lo.has(u[0].url)){var t=Lo.get(u[0].url);kr&&Nr("check_image_get","check_image_get(cached):",t.img,t.resp,u[0]);var n=!1;if((s=t.img)&&("VIDEO"!==s.tagName&&"AUDIO"!==s.tagName||Rn.popup_cache_resume_video||(s.currentTime=t.currentTime||0),s.hasAttribute("imu-destroyed")&&(n=!0)),!n)return t.filesize&&!u[0].filesize&&(u[0].filesize=t.filesize),void(l.head?o(t.resp,u[0]):o(t.img,t.resp.finalUrl,u[0],t.resp))}var i="GET",a="blob",p=null,n=wo(u[0]),t=xo(u[0]),d=!1;if((l.incomplete_image||t&&l.incomplete_video||l.head)&&(d=!0),(u[0].need_blob||u[0].need_data_url)&&(d=!1),t&&!u[0].media_info.delivery&&(u[0].media_info.delivery=So(u[0].url)),(l.head||d)&&(i=d&&!u[0].can_head?"GET":"HEAD",a=void 0),u[0].url.match(/^data:/)&&!u[0].media_info.delivery){var s=Wr("img");return Eo(s,u[0]),s.src=u[0].url,s.onload=function(){o(s,u[0].url,u[0])},void(s.onerror=function(e){jr("Error loading image",e),c()})}function m(t,o,e){if(e)return g.apply(t,o);(e=Do[v])?(delete Do[v],Qr(e,function(e){e(t,o)})):Pr("Already ran cbs?",t,o,v)}var g=o,f=u[0].url;if(jr("Trying "+f),u[0].url&&/^blob:/.test(u[0].url))return jr("Blob URL"),c();if(u[0].bad)return jr("Bad image"),c();if(u[0].is_pagelink)return jr("Page link"),c();if(De(u[0].url))return jr("Invalid URL"),c();f.replace(/^([a-z]+:\/\/[^/]*).*?$/,"$1");var _=u[0].headers;_&&0!==Object.keys(_).length?_.Origin||_.origin:(t=window.location.href,/^https?:\/\//.test(t)||(t=""),_={Referer:t});function h(o){if(!b){if(b=!0,!l.running)return g(null);0,kr&&Nr("check_image_get","check_image_get(onload)",Cn(o),o.readyState);var e=o.status.toString()[0],t=Yt(u[0].head_ok_errors,o.status);if("4"!==e&&"5"!==e||405===o.status||!0===t){if(bo(u[0].bad_if,o))return jr("Bad image (bad_if)",o,u[0].bad_if),c();if(l.head)g(o,u[0]);else{var t=Jn(Yn(o.responseHeaders)),i=u[0].media_info;if("image"!==i.type||!t["content-type"]||(r=qo(t["content-type"]))&&(i.type=r.type,r.delivery&&(i.delivery=r.delivery)),!To(i,l))return Mr("Media type",i,"is not supported"),c();if(Rn.mouseover_matching_media_types&&l&&l.source&&l.source.el){var r=Pi(l.source.el);if(r&&r!==i.type)return jr("Source was ",r,", this is",i.type,"skipping"),c()}function a(e){var t;kr&&Nr("check_image_get","check_image_get(good_cb):",e,o.finalUrl,u[0],o),l.set_cache&&(t={img:e,resp:o,filesize:u[0].filesize},"VIDEO"!==e.tagName&&"AUDIO"!==e.tagName||(t.currentTime=e.currentTime),Lo.set(u[0].url,t,60*(parseFloat(Rn.popup_cache_duration)||0))),e&&Mi(e),g(e,o.finalUrl,u[0],o)}t["content-length"]&&100<parseInt(t["content-length"])&&(u[0].filesize=parseInt(t["content-length"]));var s=function(t,e){var o=c;!e&&u[0].head_wrong_contenttype&&"audio"!==i.type&&(o=function(){var e=["video","image"];e.splice($r(e,i.type),1),s(t,e[0])}),e=e||i.type;var r,n=Uo(u[0],e,l,a,o);return r=n,e=t,"image"===i.type||!i.delivery||l.deny_nondirect_delivery?zo(r,e,u[0]):i.delivery in Ui&&((o=Ui[i.delivery]).active()&&o.el_init({success:function(){},fail:c,info_obj:u[0],el:r,src:e})),n};d?s(o.finalUrl):o.response?(t=function(e){if(kr&&jr("check_image_get's loadcb",e,i),!(p=e))return c();s(e)},u[0].need_data_url||!Rn.mouseover_use_blob_over_data&&!u[0].need_blob?Io(o.response,t):t(Li(o.response))):c()}}else c?(jr("Bad status: "+o.status+" ( "+f+" )"),c()):Pr("Error: "+o.status)}}var v,y,b=!1,w=null;u[0].can_multiple_request&&!Rn.mouseover_partial_avoid_head||!d||u[0].bad_if&&0!==u[0].bad_if.length?(c=function(e){m(null,null,e)},g=function(){m(this,arguments)},(v=i+" "+d+" "+f)in Do||(Do[v]=[]),Do[v].push(function(e,t){return t||e?o.apply(e,t):r()}),1<Do[v].length||(y=function(){w=bn({method:i,url:f,responseType:a,headers:_,trackingprotection_failsafe:!0,need_blob_response:"GET"==i,retry_503:!0,onprogress:function(e){function t(){w&&w.abort?w.abort():Mr("Unable to abort request")}l.running||t(),l.progress_cb&&e.lengthComputable&&e.loaded&&e.total&&l.progress_cb({total:e.total,loaded:e.loaded}),d&&2<=e.readyState&&e.responseHeaders&&(t(),h(e))},onload:h})},u[0].cookie_url&&Y?Y(u[0].cookie_url,function(e){return e?(Tt(_,"cookie",Q(e)),void y()):y()},{need_full:!0}):y())):h({status:200,responseHeaders:"Content-Type: "+(n?"video/mp4":"image/jpeg"),readyState:3,finalUrl:u[0].url})}var jo={8:"backspace",13:"enter",16:"shift",17:"ctrl",18:"alt",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",111:"/",106:"*",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",226:"\\"},$i=Number.MAX_SAFE_INTEGER,Fi='"Noto Sans", Arial, Helvetica, sans-serif',Oi=function(e,t){if(Rn.mouseover_ui_use_safe_glyphs)return t[t.length-1];try{for(var o=0;o<t.length;o++)if(document.fonts.check(e,t[o]))return t[o]}catch(e){Pr(e)}return t[t.length-1]};function Po(e){var t=e.which;if(e.code){e=e.code.match(/^Numpad([0-9]+)$/);if(e)return e[1]}return t in jo?jo[t]:65<=t&&t<=90||48<=t&&t<=57?T(t).toLowerCase():void 0}function Gi(e){return 0===e.length?[[]]:Hr(e[0])?e:[e]}function Bi(o,e,t){if(kr&&jr("general_extension_message_handler",o),"settings_update"===o.type)ho(o.data.changes);else if("request"===o.type){var i=o.data;if(i.id in $){function r(){for(var e=$[i.id].data,t=["onload","onerror","onprogress","onabort","ontimeout"],o=!1,r=0;r<t.length;r++){var n=t[r];i.event===n&&e[n]&&(kr&&jr("Running "+n+" for response",i),e[n](i.data),o=!0)}kr&&!o&&Mr("No event handler for",i),i.final&&delete $[i.id]}if(i.data&&"blob"===i.data.responseType){var n=i.data._responseEncoded;if(n){var a="blob";if("arraybuffer"===i.data._wanted_responseType&&(a="arraybuffer"),n.value){for(var s=new Uint8Array(n.value.length),u=0;u<n.value.length;u++)s[u]=n.value.charCodeAt(u);if("blob"===a)try{i.data.response=new x([s.buffer],{type:n.type})}catch(e){Pr(e),i.data.response=null}else i.data.response=s.buffer}else if(n.objurl){var l=new XMLHttpRequest;return l.open("GET",n.objurl),l.responseType=a,l.onload=function(){Di(n.objurl),i.data.response=l.response,r()},l.onerror=function(){Di(n.objurl),Pr("Unable to load blob for",n,l),i.data.response=null,r()},void l.send()}}else i.data.response=null}else i.data&&i.data.responseText&&!i.data.response&&(i.data.response=i.data.responseText);r()}else kr&&jr("Request ID "+i.id+" not in extension_requests")}else if("bg_redirect"===o.type&&Rn.redirect&&Rn.redirect_extension&&Rn.imu_enabled)try{var c=Jn(o.data.responseHeaders);c["content-type"]&&eo(c["content-type"])&&to(o.data.url,!1,function(e,t){Wt(t,function(){chrome.tabs.update(o.data.tabId,{url:e})},o.data.tabId)})}catch(e){Pr(e)}}var Wi=function(e,t,o){t%o!=o-1?e():setTimeout(e,0)};function Mo(){kr&&jr("do_mouseover ran");function l(){return!!Rn.imu_enabled&&!(Rn.apply_blacklist_host&&!Tn(window.location.href))}function d(){return l()&&Rn.mouseover&&!1!==R&&"number"==typeof R&&D}var m=!1,_e=0,he=0,c="top",r=null,n=null,ve=!1,g=0,f=0,ye=0,be=0,o=[],we=[],p=null,ke=null,xe=null,_=null,Se=null,qe=null,h=null,Te=!1,Ee=null,e=null,v=null,y=null,b=null,w=null,Ae=!1,k=!1,Ce=!1,x=null,Ie=[!1,!1],ze=!1,Ue=nn.nullfunc,Re=nn.nullfunc,Le=nn.nullfunc,De=null,je=null,Pe=null,Me=nn.nullfunc,Ne=null,He=0,$e=0,a=!1,Fe=null,S=null,q=0,s=null,u=0,Oe=!1,Ge=null,Be=null,We=null,Ve=null,Xe=null,Ze=null,Ke=!1,T=!1,E=null,A=null,C=null,I=[],z={},U=[],Ye=!1,t=ri(Tr),Je=ni(t);var R=!1,L=null,Qe=!1,D=!0,j=null;function P(e){return Rn[t=e,!p||(e="t"+p+"_"+t)in Rn&&(t=e),t];var t}function M(e){return Ei(P(e))}function N(){var e,t;E&&(e=_e,t=he,E.style.left=e-100+"px",E.style.top=t-100+"px")}var H=function(e,t){if(C=t=t||"wait",T=!0,!Rn.mouseover_wait_use_el)return A&&$(),(A=Wr("style")).innerText="*,a,img,video {cursor: "+t+"!important}",void document.documentElement.appendChild(A);var o;E||(Ii(E=Wr("div")),E.style.zIndex=$i,E.style.cursor=t,E.style.width="200px",E.style.height="200px",E.style.position="fixed",o=function(e,t){E.style.display="none",document.elementFromPoint(e.clientX,e.clientY).dispatchEvent(new MouseEvent(t,e)),E.style.display="block"},Gr(E,"click",function(e){return o(e,"click")}),Gr(E,"contextmenu",function(e){return o(e,"contextmenu")}),document.documentElement.appendChild(E)),E.style.cursor=t,E.style.display="block",N()};var $=function(){kr&&jr("stop_waiting"),T=!1,Rn.mouseover_wait_use_el||A&&(A.parentElement.removeChild(A),A=null),E&&(E.style.display="none")};function et(){$()}var F=null;function O(){kr&&jr("cursor_not_allowed"),H(void 0,"not-allowed"),F&&clearTimeout(F),F=setTimeout(function(){F=null,"not-allowed"===C&&et()},Rn.mouseover_notallowed_duration)}function tt(){(Rn.mouseover_enable_notallowed_cant_load?O:$)()}function G(e,t,o,r){return!isNaN(r)&&void 0!==r||(r=0),e>=o.left-r&&e<=o.right+r&&t>=o.top-r&&t<=o.bottom+r}function B(){for(var e=0;e<o.length;e++)o[e].running=!1}var W=function(){e&&(clearTimeout(e),e=null)},ot=function(){Rn.mouseover_auto_close_popup&&Rn.mouseover_auto_close_popup_time&&(W(),e=setTimeout(it,1e3*Rn.mouseover_auto_close_popup_time))},V=null;function rt(){Qr(we,function(e){for(var t=e.querySelectorAll("img, video, audio"),o=0;o<t.length;o++)"VIDEO"!==t[o].tagName&&"AUDIO"!==t[o].tagName||t[o].pause(),Ni(t[o]);e.parentNode&&e.parentNode.removeChild(e);e=$r(we,e);-1<e&&we.splice(e,1)}),V&&(clearTimeout(V),V=null)}var X,Z,K,nt=function(){ke&&(ke.parentElement&&ke.parentElement.removeChild(ke),ke=null),Y&&(clearTimeout(Y),Y=null)},Y=null;function it(e){kr&&jr("resetpopups(",e,")");var t=!!(e=e||{}).from_remote;Qr(we,function(e){0<Rn.mouseover_fade_time&&(Rn.mouseover_enable_fade||Rn.mouseover_enable_zoom_effect)?(Rn.mouseover_enable_fade&&(e.style.opacity=0),Rn.mouseover_enable_zoom_effect&&(e.style.transform="scale(0)"),V=V||setTimeout(rt,Rn.mouseover_fade_time)):rt()}),ke&&(ut(ke,"pointer-events","none"),0<Rn.mouseover_mask_fade_time?(ut(ke,"opacity",0),Y=Y||setTimeout(nt,Rn.mouseover_mask_fade_time)):nt()),!t&&fn()&&(Lr?cn("top",{type:"resetpopups"}):k&&cn(k,{type:"resetpopups"})),Qe=Ce=!1,W(),qe&&(b=qe),Te=k=Ae=!1,Ee=h=v=qe=y=null,Ue=nn.nullfunc,Re=nn.nullfunc,Le=nn.nullfunc,a=!1,s=S=Pe=je=De=null,u=q=0,e.automatic||(ze=!1),e.new_popup||(Ie=[!1,!1]),B(),e.new_popup&&!Rn.mouseover_wait_use_el||$(),!D&&L&&(clearTimeout(L),L=null)}function at(){return window.visualViewport?[window.visualViewport.width,window.visualViewport.height]:[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight]}function J(t,o,r){var e=Ri({url:o,onload:function(e){if(200!==e.status)return Pr("Unable to load",e),r(null);var n,i,a,s;n=t.media_info.delivery,i=e.responseText,a=e.finalUrl||o,s=function(e){r(e)},ti("stream_parser",Rn,bn,function(e){if(!e)return s(null);var t,o=e[n];"dash"===n?t=o.parse:"hls"===n&&(t=function(e){var t=new o.Parser;return t.push(e),t.end(),t.manifest});try{var r=t(i,a)}catch(e){return Pr(e),s(null)}return s(r)})}},t);bn(e)}function Q(t,r,e){function n(o,r){var n,e;o.uri?(o.uri=(e=o.uri,On(t.url,e,!0)),n=o.uri,J(t,n,function(e){if(!e)return r(null);var t=o.attributes;rn(o,e),t&&(o.attributes=t),o.base_uri=n,o.uri=null,r(o)})):r(o)}(r=!Hr(r)?[r]:r).sort(function(e,t){e=e.attributes,t=t.attributes;if(e.BANDWIDTH&&t.BANDWIDTH)return t.BANDWIDTH-e.BANDWIDTH;if(e.RESOLUTION&&t.RESOLUTION){e=e.RESOLUTION.width*e.RESOLUTION.height;return t.RESOLUTION.width*t.RESOLUTION.height-e}return 0});var i=function(t,o){var e=r[t];if(!e)return o(null);n(e,function(e){return e?o(e):i(t+1,o)})};i(0,e)}function ee(t,o){function r(e){return On(o.base_uri||t.url,e,!0)}function n(e){e&&(e=r(e),en(i,e))}function e(e){e.map&&n(e.map.uri||e.map.resolvedUri),n(e.uri||e.resolvedUri)}var i=[];return o.sidx&&e(o.sidx),Qr(o.segments,e),i}zr.push(it),X=function(t,a){J(t,t.url,function(e){return e?(i=function(e){if(!e)return a(null);var o,r,e=(o=t,r={},on(e,function(e,t){r[e]=ee(o,t)}),r);return a(e)},void Q(r=t,(n=e).playlists,function(e){if(!e)return i(null);var t=(t=e.attributes.AUDIO)&&t in n.mediaGroups.AUDIO?(t=n.mediaGroups.AUDIO[t])[Object.keys(t)[0]]:null,o={video:e};if(!t)return i(o);Q(r,t.playlists||t,function(e){return e?(o.audio=e,i(o)):i(null)})})):a(null);var r,n,i})},Z=function(t){if(null!==K)return t(K);!function(o){if("function"!=typeof SharedArrayBuffer)return Mr("SharedArrayBuffer doesn't exist"),o(!1);try{var r=new SharedArrayBuffer(1);new Uint8Array(r)[0]=30;Or("self.addEventListener('message', function(m) {try {var a = new Uint8Array(m.data); postMessage(a[0] === 30);} catch (e) {postMessage(false);}});",function(e){if(!e)return Mr("Unable to create blob"),o(!1);var t=Li(e),e=new Worker(t);e.onmessage=function(e){o(!!e.data)},e.postMessage(r),setTimeout(function(){Di(t)},10)})}catch(e){return Pr(e),o(!1)}}(function(e){t(K=e)})};function te(t){if(!Cr)return Pr("Unable to load FFmpeg library: disabled for this build"),t(null);Z(function(e){return e?(o=t,void ti("ffmpeg",Rn,bn,function(t){return!t||t._imu_failed_loading?o(null):(t._imu_instance?e=t._imu_instance:(t.overridden_xhr&&(t.xhr.do_request=function(e){return e=Ri(e,{headers:{Referer:"",Origin:""}}),/\/ffmpeg-core(?:\.worker)?\.js$/.test(e.url)&&(e.url="data:application/javascript,void%200"),bn(e)}),e=t.lib.createFFmpeg({log:!0,progress:function(e){se&&se(e.ratio)}}),t._imu_instance=e),void(e.isLoaded()?o(e):e.load().then(function(){o(e)},function(e){Pr(e),t._imu_failed_loading=!0,o(null)})));var e})):(Pr("Unable to load FFmpeg library: SharedArrayBuffer is missing or unusable"),t(null));var o})}var oe,re,ne,ie,ae,se=K=null;function ue(e,t,o,r,n){re.push({op:t,progress:o,success:r,fail:n}),ne||ie(e)}function le(e){return e+"_"+an(10)+"_"}function ce(t,e,o,r,n,i,a){function s(e){try{t.FS("unlink",r)}catch(e){}a(e)}var u=[];e&&u.push("-i",e),o&&u.push("-i",o),u.push("-c","copy",r),ue(t,u,n,function(e){return function(e,t){try{var o=e.FS("stat",t);return o?o.size:null}catch(e){return null}}(t,r)?void i(e):s()},s)}function pe(e,o,t,r){var n=new xn({elements_num:o.length,cb:t}),a={},s=Zr(3,o.length),u=Xr(1,s/3*5|0),l=2097152;function c(){g=!0}1===(u=e.max_chunks?Zr(u,e.max_chunks):u)&&(l=0);var p=0,d=0,m=0,g=!1,f=function(){if(!g){if(m>=o.length){var t=[];return Qr(o,function(e){t.push(a[e])}),r(t)}if(!(d>=o.length))for(i=p;i<s;i++)!function(t,o){p++,Sn({url:t,headers:e.headers,can_head:e.can_head,head_wrong_contentlength:e.head_wrong_contentlength},{chunks:u,chunk_size:l,onload:function(e){p--,e||o(!1),a[t]=e,o(!0)},onprogress:function(e){n.update_progobj(t,e)}})}(o[d++],function(e){return m++,!g&&(e?void f():(c(),r(null)))})}};return f(),{abort:c}}ne=!(re=[]),ie=function(t){function o(e){se=null,ne=!1,re.length&&(e?Qr(re,function(e){Kn(e.fail)}):ie(t))}var r=re.shift();se=function(e){r.progress(e=1<e?1:e)},ne=!0;var e=null;try{e=t.run.apply(this,r.op)}catch(e){return Pr(e),o(!0),void r.fail(!1)}e.then(function(e){o(),r.success(e)},function(e){o(!0),r.fail(!1)})},oe=function(r,e,n,t){var i=[];if(e.video&&i.push(e.video),e.audio&&i.push(e.audio),!i.length)return t(null);function o(){Qr(s,function(e){r.FS("unlink",e)}),n(1)}function a(){o(),t(null)}var s=[],u=le("join"),l=function(t){if(t>=i.length)return c();n(t/i.length*.5);var e,o=i[t];o.length?1===o.length?(r.FS("writeFile",e=u+"stream"+t,o[0].data),s.push(e),l(t+1)):function(e,t,o){var r=0;Qr(t,function(e){r+=e.data.byteLength});var n=new Uint8Array(r),i=0;Qr(t,function(e){n.set(e.data,i),i+=e.data.byteLength});t=le("concat");e.FS("writeFile",t,n),o(t)}(r,o,function(e){return e?(s.push(e),void l(t+1)):a()}):(Mr("No stream data for",t),l(t+1))},c=function(){return n(.5),s.length?2<s.length?(Pr("Unknown extra file(s)",s),a()):void function(e,t,o,r,n){if(!e)return n(null);function i(){ce(e,t,o,s+".mkv",r,function(){n(s+".mkv")},function(e){Pr("Error muxing into .mkv",e),n(null)})}var a,s=le("out");Rn.stream_mux_mp4_over_mkv?ce(e,t,o,a=s+".mp4",function(e){r(e=.95<=e?.95:e)},function(){n(a)},function(e){return!1===e?n(null):void i()}):i()}(r,s[0],s[1],function(e){n(.5+.5*e)},function(e){return e?(o(),t(e)):a()}):(Mr("No files"),a())};l(0)},ae=function(o,r,e,n){var i=new xn({elements_num:Object.keys(r).length,cb:e}),a={},s={},u=!1;on(r,function(t,e){s[t]=pe(o,e,function(e){i.update_progobj(t,e)},function(e){if(!u){if(!e)return u=!0,on(s,function(e,t){t.abort()}),n(null);a[t]=e,Object.keys(a).length===Object.keys(r).length&&n(a)}})})};var de;function me(r,i,a,s,u){ti("shaka",Rn,bn,function(e){if(!e)return u();var t,o=e.lib;if(o.log.setLevel(o.log.Level.ERROR),!o.Player.isBrowserSupported())return Mr("Unsupported browser for Shaka"),u();t=r,(e=e).overridden_xhr&&(e.xhr.do_request=function(e){bn(Ri(e,t))});var n=new o.Player(i),o=function(e){return Pr(e),u()};n.addEventListener("error",o),n.load(a).then(function(){var e=n.getVariantTracks();Rn.hls_dash_use_max&&(e.sort(function(e,t){return t.bandwidth-e.bandwidth}),n.configure("abr.enabled",!1),n.selectVariantTrack(e[0],!0,0));var t,o,r,t=t=(t=Ai("max_video_quality"))&&parseInt(t.substr(1));return t&&(e.sort(function(e,t){var o=e.height-t.height;return o||e.bandwidth-t.bandwidth}),o=t,r=-1,Qr(e,function(e,t){return e.height===o?(r=t,!1):e.height>o?(r=0===t?t:t-1,!1):void 0}),0<=(t=r)&&(n.configure("abr.enabled",!1),n.selectVariantTrack(e[t],!0,0))),s()},o)})}de={el_init:function(e){me(e.info_obj,e.el,e.src,e.success,e.fail)},active:function(){return Rn.allow_thirdparty_libs&&P("mouseover_allow_hlsdash")}},Ui.dash=de,Ui.hls=de;var ge=function(e,o){if("string"==typeof e&&(e=oi(e))){for(var r={},t="default",n=e.split("\n"),i=0;i<n.length;i++){var a=oi(n[i]);if(a&&!/^\/\//.test(a)){var s,u,l,c,p=a.match(/^(#[-a-zA-Z0-9]+(?:\s*,\s*#[-a-zA-Z0-9]+){0,})\s*{/);if(p){if("default"!==t)return void Pr("Nested blocks aren't supported");t=p[1].split(/\s*,\s*/),n[i--]=a.substr(p[0].length)}else if("}"!==a[0])Fr(a,":")<0||("default"!==(s=t)&&/}$/.test(a)&&(a=oi(a.replace(/}$/,"")),s="default"),u=oi(a.replace(/^(.*?)\s*:.*/,"$1")),l=oi(a.replace(/^.*?:\s*(.*)$/,"$1")),0<=(p=Fr(l,";"))&&((a=l.search(/['"]/))<0?(n[i--]=l.substr(p+1),l=oi(l.substr(0,p))):(a=l.substr(a+1).search(/['"]/)+a+1,0<=(p=Fr(l.substr(a+1),";"))&&(p+=a+1,n[i--]=l.substr(p+1),l=oi(l.substr(0,p))))),c=!1,l.match(/!important$/)&&(c=!0,l=oi(l.replace(/!important$/,""))),Hr(p=t)||(p=[p]),Qr(p,function(e){var t={property:u,value:l,important:c};e in r||(r[e]={}),o?(u in r[e]||(r[e][u]=[]),r[e][u].push(t)):r[e][u]=t}),t=s);else{if("default"===t)return void Pr("No block to escape from");t="default"}}}return r}};function fe(e){var t=function(e){if(e&&"string"==typeof e&&oi(e)){for(var t={},o=e.split(/[;\n]/),r=0;r<o.length;r++){var n,i,a=oi(o[r]);a&&(Fr(a,":")<0||/^\s*\/\//.test(a)||(n=oi(a.replace(/^(.*?)\s*:.*/,"$1")),i=!1,(a=oi(a.replace(/^.*?:\s*(.*)$/,"$1"))).match(/!important$/)&&(i=!0,a=oi(a.replace(/!important$/,""))),t[n]={value:a,important:i}))}return t}}(e);if(t){var o,r=[];for(o in t){var n=o+": "+t[o].value;t[o].important,n+=" !important",r.push(n)}return r.join("; ")}}function st(i,e,a){var t=ge(e,!0);if(t){e=i.getAttribute("style");e&&i.setAttribute("data-imu-oldstyle",e);var o={};if("default"in t&&(o=t.default),a.id&&"#"+a.id in t){var r=t["#"+a.id];for(n in r)n in o||(o[n]=[]),Jr(o[n],r[n])}var n,s=An(a.format_vars);for(n in o)Qr(o[n],function(e){!function(e,t){var o=t.value;if(o.match(/^['"].*['"]$/)&&(o=o.replace(/^["'](.*)["']$/,"$1")),a.old_variables)for(var r in a.old_variables)o=tn(o,r,a.old_variables[r]);if(a.format_vars){var n=ct(o,s);if(!n)return;o=n}a.properties&&e in a.properties&&a.properties[e](o,e),t.important||a.force_important?i.style.setProperty(e,o,"important"):i.style.setProperty(e,o),i.setAttribute("data-imu-newstyle",!0)}(n,e)})}}function ut(e,t,o){e.style.setProperty(t,o,"important")}function lt(e){var t=gi(e);return"VIDEO"===t?[e.videoWidth,e.videoHeight]:"CANVAS"===t?[e.width,e.height]:"SVG"===t?[e.width.animVal.value,e.height.animVal.value]:"IMG"===t||"PICTURE"===t?[e.naturalWidth,e.naturalHeight]:[e.offsetWidth||ht(e.style.width),e.offsetHeight||ht(e.style.height)]}var ct=function(e,t){if(e=e.replace(/\/\/.*/,""),!(e=oi(e)))return null;for(var o=function(e){function t(){r.length&&(n?o.push({text:r,type:"var"}):o.push(r),r="")}for(var o=[],r="",n=!1,i=!1,a=0;a<e.length;a++){var s=e[a];if("\\"!==s)if(i)r+=s;else{if("{"===s){if(!n){t(),n=!0;continue}}else if("}"===s&&n){t(),n=!1;continue}r+=s}else i?r+="\\":i=!0}return t(),o}(e),r="",n=0;n<o.length;n++)if("string"==typeof o[n])r+=o[n];else{var i=o[n].text,a=null,s=null,u=!1,l=null,c=[],p=i.match(/^([^?]+)[?](.*)$/);p&&(i=p[1],a=p[2]),(p=i.match(/^([^!/:=]+)([!=]=)(.*)$/))&&(i=p[1],s=p[3],u="!="===p[2],l="eq"),(p=i.match(/^([^!/:=]+)(!)?\/([rc]{0,2})=(.*)$/))&&(i=p[1],s=p[4],u="!"===p[2],l="contains",d=p[3],0<=Fr(d,"r")&&c.push("regex"),0<=Fr(d,"c")&&c.push("nicase")),(p=i.match(/^([^!/:=]+):=(.*)$/))&&(i=p[1],s=p[2],l="set");var d=t[i];(p=i.match(/^(.*?):([0-9]+)(\.)?$/))&&(d=t[p[1]])&&(m=d.substr(0,parseInt(p[2])),p[3]&&m!==d&&(m+="…"),d=m);var m,p=!!d;if(d&&"object"==typeof d&&(m=d,d="","usable"in m&&(p=m.usable),"value"in m&&(d=m.value)),l&&(p&&("eq"===l?p=d===s:"contains"===l&&($r(c,"nicase")<0&&(d=d.toLowerCase(),s=s.toLowerCase()),p=0<=$r(c,"regex")?new RegExp(s).test(d):0<=Fr(d,s))),"set"===l&&(t[i]=s,p=!0),u&&(p=!p),d=""),!p){if("string"!=typeof a)return null;d=a}r+=d}return oi(r)},pt=function(t,e,o){"string"!=typeof t.filename&&(t.filename="");var r=null,n=null,i=null,a=null;if(o){try{for(var s=Yn(o.responseHeaders),u=0;u<s.length;u++){var l=s[u].name.toLowerCase(),c=s[u].value;if("content-disposition"===l)for(var p=0;p<100&&"string"==typeof c&&0<c.length;){var d=c.replace(/^\s*([^;]*?)\s*(?:;.*)?$/,"$1").replace(/^\s*([^=;]*?)\s*(?:[=;].*)?$/,"$1").toLowerCase(),m=c.match(/^[^=;]*(?:(?:=\s*(?:(?:["']([^'"]*?)["'])|([^;]*?))\s*(;.*)?\s*)|;\s*(.*))?$/);if(!m){Pr("Header value does not match pattern:",c);break}var g=m[1]||m[2];0===t.filename.length&&"filename"===d&&"string"==typeof g&&0<g.length&&(t.filename=g),c=m[3]||m[4],p++}else"content-type"===l?n=ei(c):"last-modified"===l&&(r=new Date(c),isNaN(r.getTime())&&(r=null));if(0<t.filename.length&&n&&r)break}}catch(e){Pr(e)}var f=/^data:/.test(e);f&&(t.filename="");var _=!1;0!==t.filename.length||f||(t.filename=e.replace(/.*\/([^?#/]*)(?:[?#].*)?$/,"$1"),_=!0),_&&(t.filename=decodeURIComponent(t.filename)),i=t.filename,0===t.filename.length&&(t.filename="download");f=Gn(t.filename,{split_ext:!0,known_ext:!0});n&&!f[1]&&(i.length&&(i+="."+n),t.filename+="."+n),(f=Gn(t.filename,{split_ext:!0,known_ext:!0}))[1]&&(a=f[1])}"_orig_filename"in t||(t._orig_filename=i);var h={filename:t._orig_filename};h.host_url=Tr,h.host_domain=ri(Tr),h.host_domain_nosub=ni(h.host_domain);try{h.host_title=document.title}catch(e){}t.url&&/^https?:\/\//i.test(t.url)&&(h.url=t.url,h.domain=ri(t.url),h.domain_nosub=ni(h.domain));e=function(e,t){var o,r,n={year:"FullYear",month:"Month",day:"Date",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},i=[];for(o in n){var a=t["get"+n[o]](),s=t["getUTC"+n[o]]();"month"===o&&(a++,s++),a=Xn(a,2),s=Xn(s,2),i[o]=a,i[o+"_utc"]=s,h[e+"_"+o]=a,h[e+"_"+o+"_utc"]=s}h[e+"_iso"]=i.year+"-"+i.month+"-"+i.day+"T"+i.hours+"-"+i.minutes+"-"+i.seconds,h[e+"_iso_utc"]=i.year_utc+"-"+i.month_utc+"-"+i.day_utc+"T"+i.hours_utc+"-"+i.minutes_utc+"-"+i.seconds_utc,h[e+"_yyyymmdd"]=i.year+i.month+i.day,h[e+"_yyyymmdd_utc"]=i.year_utc+i.month_utc+i.day_utc,h[e+"_hhmmss"]=i.hours+i.minutes+i.seconds,h[e+"_hhmmss_utc"]=i.hours_utc+i.minutes_utc+i.seconds_utc,"download"!==e&&(r=function(e,r){r=r||2;var n={seconds:(e=e/1e3|0)%60,minutes:(e/60|0)%60,hours:(e/60/60|0)%24,days:e/60/60/24|0,months:e/60/60/24/30.4375|0,years:e/60/60/24/365.25|0},i={months_years:12,days_years:365.25,days_months:30.4375,days_weeks:7},o={seconds:"second",minutes:"minute",hours:"hour",days:"day",weeks:"week",months:"month",years:"year"},e=Object.keys(n).reverse(),a=[];if(Qr(e,function(e){if(a.length>=r)return!1;var t=n[e],o=a[a.length-1];if(!o||(o=i[e+"_"+o[0]])&&(t=t%o|0),!t)return!a.length&&void 0;a.push([e,t])}),!a.length)return null;var s=[];return Qr(a,function(e){var t=e[0],e=e[1],t=o[t],t=(t=[t,t+"s"],1===e?t[0]:t[1]);s.push(e+" "+t)}),s.join(" and ")+" ago"}(Date.now()-t.getTime()))&&(h[e+"_ago"]=r),h[e+"_unix_ms"]=t.getTime(),h[e+"_unix"]=t.getTime()/1e3|0},_=null,f=null,i=new Date;t.extra&&(Qr(["caption","author_username","id"],function(e){h[e]=t.extra[e]}),t.extra.created_date&&(_=new Date(t.extra.created_date)),t.extra.updated_date&&(f=new Date(t.extra.updated_date))),!f&&r&&(f=r),_&&e("created",_),(f||_)&&e("updated",f||_),i&&e("download",i),(_||f)&&e("date",_||f),h.filename&&(f=Gn(h.filename,{split_ext:!0,known_ext:!0}),h.filename_noext=f[0],a&&(h.ext="."+a)),t.format_vars=An(h);a=mt(Rn.filename_format,h);t.filename=a||dt(t.filename,h)},dt=function(e,t){var o,r;return r=t,(o=e)&&(r.prefix&&(o=r.prefix+o),r.suffix&&(o+=r.suffix)),!Gn(e=o,{split_ext:!0,known_ext:!0})[1]&&t.ext&&(e+=t.ext),e},mt=function(e,t){e=function(e,t){Hr(e)||(e=e.split("\n"));for(var o=0;o<e.length;o++){var r=ct(e[o],t);if(r)return r}return null}(e,t);return e?dt(e,t):null};function gt(e,t,pe,de){kr&&jr("makePopup",e,t,pe,de),Rn.mouseover_add_to_history&&(o=de.data.obj.url,xr&&Sr({type:"add_to_history",data:{url:o}}));e=M("mouseover_open_behavior");if("newtab"===e||"newtab_bg"===e||"download"===e||"copylink"===e||"replace"===e){$();t=de.data.obj;"string"==typeof t&&(t={url:t});var o=de.data.resp||de.data.respdata;return o.finalUrl&&(t.url=o.finalUrl),pt(t,t.url,o),xe=t,void("newtab"===e||"newtab_bg"===e?yn(t,"newtab_bg"===e):"download"===e?or():"copylink"===e?qn(t.url):"replace"===e&&(e=vo(),mo(e,{el:qe},de,nn.nullfunc)))}var me=de.x,ge=de.y;null==me&&(me=ye),null==ge&&(ge=be);var fe=Oe=Ke=!1;!function(x,e){if(!x)return Qe=!1,pe.running&&tt();var t="VIDEO"===x.tagName,o="AUDIO"===x.tagName,S=t||o,q=de.data.obj;function c(e){return e.preventDefault(),T(e),1}xe=q=q||{};var T=function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!0};Xe=ye=me,Ze=be=ge;var r=Ai("mouseover_zoom_behavior"),n=Ai("mouseover_zoom_use_last"),i=!1;Fe&&("always"===n||"gallery"===n&&Ae)&&(i=!0);var a,s="#333",u="#fff",l="#fff",p=Ai("mouseover_enable_mask_styles2"),d=1;nt(),(Rn.mouseover_close_click_outside||Rn.mouseover_mask_ignore_clicks||"never"!==p)&&(ke=Wr("div"),Ii(a=ke),ut(a,"opacity",1),"never"!==p&&st(a,Rn.mouseover_mask_styles2,{force_important:!0}),d=a.style.opacity,"hold"===p&&ut(a,"opacity",0),Rn.mouseover_close_click_outside||Rn.mouseover_mask_ignore_clicks||ut(a,"pointer-events","none"),ut(a,"position","fixed"),ut(a,"z-index",$i-3),ut(a,"width","100%"),ut(a,"height","100%"),ut(a,"left","0px"),ut(a,"top","0px"),0<Rn.mouseover_mask_fade_time&&(ut(a,"transition","opacity "+Rn.mouseover_mask_fade_time/1e3+"s"),"hold"!==p&&(Ae?ut(a,"opacity",d):(ut(a,"opacity",0),setTimeout(function(){ut(a,"opacity",d)},1)))),Gr(a,"mousedown",function(e){Rn.mouseover_close_click_outside&&T(e)}),Gr(a,"click",function(e){Rn.mouseover_close_click_outside&&(T(e),ut(a,"pointer-events","none"),it())},!0));var E=Wr("div");Ii(E),ut(E,"position","fixed"),ut(E,"z-index",$i-2);var m,g=!1;0<Rn.mouseover_fade_time&&!Ae&&(p=[],h=[],n=Rn.mouseover_fade_time/1e3+"s",Rn.mouseover_enable_fade&&(p.push("opacity "+n),ut(E,"opacity",0)),Rn.mouseover_enable_zoom_effect&&(p.push("transform "+n),ut(E,"transform","scale(0)"),Rn.mouseover_zoom_effect_move&&(h.push("top "+n),h.push("left "+n),g=!0)),0<p.length&&(m=p.join(", "),Jr(p,h),_=p.join(", "),ut(E,"transition",_),0<h.length&&setTimeout(function(){ut(E,"transition",m)},Rn.mouseover_fade_time)),setTimeout(function(){ut(E,"opacity",1),ut(E,"transform","scale(1)")},1));var f=Wr("div"),A=!1;Ii(f),ut(f,"box-shadow","0 0 15px rgba(0,0,0,.5)"),ut(f,"border","3px solid "+u),ut(f,"position","relative"),ut(f,"top","0px"),ut(f,"left","0px"),ut(f,"display","block"),ut(f,"background-color","rgba(255,255,255,.5)");var _="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",h={};function U(e,t){R=at(),L=R[0],D=R[1],L-=40,D-=50,void 0!==e&&(j=Zr(L,Xr(e-20,0)),P=Zr(D,Xr(t-30,0)))}function v(e){var t;t=e[1],E.style.top=t+"px",e=e[0],E.style.left=e+"px"}h["%thumburl%"]=Ee&&!Te?Vn(Ee):_,h["%fullurl%"]=S?_:Vn(hi(x)),st(f,Rn.mouseover_styles,{force_important:!0,old_variables:h}),E.appendChild(f);var R,L,D,j=Xr(me-20,0),P=Xr(ge-30,0);function y(e){var t;e.img_display?(t=e.img_display,x.style.setProperty("display",t[0],t[1])):e.func&&e.func()}U(me,ge),o&&(x.style.width="500px",x.style.minWidth="500px",x.style.height="50px",x.style.minHeight="50px"),_=lt(x),o||Ii(x),h=!1,(h=!S&&Rn.mouseover_add_link||t&&Rn.mouseover_add_video_link?!0:h)&&(x.style.cursor="pointer"),x.style.verticalAlign="bottom",ut(x,"display","block");var b=[{domain_nosub:/^pornhub(?:premium)?\./,img_display:["block"]},{domain_nosub:/^pornhub(?:premium)?\./,img_display:["initial","important"]},{domain_nosub:/^gelbooru\./,func:function(){var e=Wr("span");e.appendChild(x),ie.appendChild(e)}}],w=function(){setTimeout(function(){var e,t=vt(x);if("none"===t.display)for(;0<b.length;){var o=b.shift();if(!(e=o).domain_nosub||e.domain_nosub.test(Je)){y(o),0<b.length&&w();break}}},50)};function k(e,t){var o,r=!1;"custom"===e||t?(o=Rn.mouseover_zoom_custom_percent/100,N=Xr(I*(o=t?Fe:o),20),M=Xr(C*o,20),r=!0):"fit"===e||"fill"===e?(x.style.maxWidth=L+"px",x.style.maxHeight=D+"px","fill"===e&&I<L&&C<D&&(o=1,N*=o=I<C?D/C:L/I,M*=o,r=!0)):"full"===e&&(N=I,M=C,r=!0),r&&(x.style.maxWidth=N+"px",x.style.width=x.style.maxWidth,x.style.maxHeight=M+"px",x.style.height=x.style.maxHeight)}w(),ut(x,"object-fit","contain");var C,I=_[0],M=C=_[1],N=I;if(k(r,i),M<20||N<20)return tt(),Pr("Image too small to popup ("+N+"x"+M+")");function H(e,t){void 0===e&&(e=L);var o=M,r=N;return((t=void 0===t?D:t)<M||e<N)&&(o/=e=N/e<M/t?M/t:N/e,r/=e),[r,o]}function $(e,t){t=H(e,t);N=t[0],M=t[1]}"fit"!==r&&"fill"!==r||i||$(),_=Rn.mouseover_zoom_max_width||void 0,i=Rn.mouseover_zoom_max_height||void 0,(_||i)&&$(_,i),Pe=function(e){var t=!1;"last"===e&&(e=Ai("mouseover_zoom_behavior"),Fe&&(t=!0)),k(e,t),"fit"!==e&&"fill"!==e||$(),O(N,"initial"),G(M,"initial")};var z=(je=function(e,t,o){var r,n;U(e,t);mr(),dr();var i,a,s,u=L<N,l=D<M,c=Ai("mouseover_position");if("cursor"===(c=ze&&Rn.mouseover_hold_position_center||Rn.mouseover_overflow_position_center&&(u||l)?"center":c))n=0+Zr(Xr(P-M/2,0),Xr(D-M,0)),r=0+Zr(Xr(j-N/2,0),Xr(L-N,0));else if("center"===c){var p=Ai("mouseover_overflow_origin"),d=p[1],m=p[2],g=(L-N)/2,f=(D-M)/2,_=g,p=f;u&&("0"===d?_=0:"1"===d?_=g:"2"===d&&(_=L-N)),l&&("0"===m?p=0:"1"===m?p=f:"2"===m&&(p=D-M)),n=0+p,r=0+_}else if("beside_cursor"===c){A=o?function(e,t){$(e,t)}:nn.nullfunc;var _=function(e,t,o){var r=e?j:P,n=e?C:I;switch(t){case-1:return Zr(n-o,Xr(0,r-o/2));case 0:return Xr(0,r-o-E);case 1:return Zr(n-o,r+E)}},h=[[-1,0,C=L-(E=20),P-E],[1,-1,C-j-E,I=D-E],[-1,1,C,I-P-E],[0,-1,j-E,I]],v=[];e>R[0]/2?v.push(h[3]):v.push(h[1]),t>R[1]/2?v.push(h[0]):v.push(h[2]);for(var y=0;y<h.length;y++)$r(v,h[y])<0&&v.push(h[y]);for(var b=-1,w=null,y=0;y<v.length;y++){var k,x=(i=v[y][2],a=v[y][3],s=void 0,s=[N,M],(s=o?H(i,a):s)[0]>i||s[1]>a?null:s);x&&(b<(k=x[0]*x[1])&&(b=k,w=v[y]))}if(!w)for(b=-1,y=0;y<v.length;y++){var S=v[y][2]*v[y][3];b<S&&(w=v[y],b=S)}w&&(A(w[2],w[3]),n=_(!1,w[1],M),r=_(!0,w[0],N))}else if("beside_cursor_old"===c){var q,T,E,A,C=L-(E=20),I=D-E;(A=o?function(e,t){$(e,t)}:nn.nullfunc)(C,I);for(var z=0;z<(o?16:1);z++)t>R[1]/2?T=P-M-E:void 0===T&&(T=P+E),e>R[0]/2?q=j-N-E:void 0===q&&(q=j+E),T<0&&(T=0,Rn.mouseover_prevent_cursor_overlap&&A(C,P)),q<0&&(q=0,Rn.mouseover_prevent_cursor_overlap&&A(j,I)),D<T+M&&(Rn.mouseover_prevent_cursor_overlap?A(C,I-P):T=Xr(D-M-E,0)),L<q+N&&(Rn.mouseover_prevent_cursor_overlap?A(C-j,I):q=Xr(L-N-E,0));n=T,r=q}return[r+20,n+30]})(me,ge,!0);function F(e,t,o){void 0===t&&(t=e),"number"==typeof e&&(e+="px"),"number"==typeof t&&(t+="px"),o?(x.style.width=e,x.style.maxWidth=t):(x.style.height=e,x.style.maxHeight=t)}g?(v([me-N/2,ge-M/2]),setTimeout(function(){v(z)},1)):v(z);var O=function(e,t){F(e,t,!0)},G=function(e,t){F(e,t,!1)};function B(){var e=Rn.mouseover_ui_opacity/100;return e=(e=1<(e=isNaN(e)?1:e)?1:e)<0?0:e}O(N,"initial"),G(M,"initial");var W=B();function V(e,t,o){t=t||e,Gr(e,"mouseover",function(e){t.style.opacity="1.0",o&&(t.style.boxShadow="0px 0px 5px 1px white")},!0),Gr(e,"mouseout",function(e){t.style.opacity=B(),o&&(t.style.boxShadow="none")},!0)}var X=function(){return[A&&E.clientWidth||N,A&&E.clientHeight||M]},Z=!1;function K(o){var e="span";"string"==typeof o.action&&(e="a");var t,r,n=Wr(e);return o.action&&("object"==typeof o.action&&(t=o.action,o.action=function(){ur(t)}),Gr(n,"mousedown",function(e){e.stopPropagation(),e.stopImmediatePropagation()}),"function"==typeof o.action?Gr(n,"click",function(e){if(!n.hasAttribute("data-btn-noaction"))return e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),o.action(),!1},!0):"string"==typeof o.action&&(n.href=o.action,n.target="_blank",n.setAttribute("rel","noreferrer"),Gr(n,"click",function(e){e.stopPropagation(),e.stopImmediatePropagation()},!0)),Gr(n,"mouseover",function(e){ut(n,"box-shadow","0px 0px 5px 1px white")},!0),Gr(n,"mouseout",function(e){ut(n,"box-shadow","none")},!0)),Gr(n,"mousedown",function(e){Z=!0},!0),Gr(n,"mouseup",function(e){Z=!1},!0),"object"==typeof o.text&&o.text.truncated!==o.text.full&&(Gr(n,"mouseover",function(e){var t=vt(n);ut(n,"width",t.width||n.clientWidth+"px"),ut(n,"height","initial"),n.innerText=o.text.full},!0),Gr(n,"mouseout",function(e){n.innerText=o.text.truncated,n.style.width="initial"},!0)),Ii(n),o.action&&ut(n,"cursor","pointer"),ut(n,"background",s),ut(n,"border","3px solid "+u),ut(n,"border-radius","10px"),ut(n,"direction",J),"string"==typeof o.text&&1===o.text.length&&256<o.text.charCodeAt(0)?(ut(n,"color","transparent"),ut(n,"text-shadow","0 0 0 "+l)):ut(n,"color",l),ut(n,"padding","4px"),ut(n,"line-height","1em"),ut(n,"font-size","14px"),ut(n,"font-family",Fi),st(n,Rn.mouseover_ui_styles,{id:o.id,force_important:!0,format_vars:q.format_vars,properties:{"-imu-text":function(e){"object"==typeof o.text?o.text.truncated=e:o.text=e},"-imu-title":function(e){o.title=e},"-imu-image":function(e){o.image=e},"-imu-pos":function(e){o.pos=e,$r(["top-left","top-middle","top-right","left","middle","right","bottom-left","bottom-middle","bottom-right"],e)<0&&(Mr("Invalid pos",e),o.pos="top-left")}}}),o.image&&(o.text=null),ut(n,"z-index",$i-1),ut(n,"position","relative"),ut(n,"margin-right","4px"),ut(n,"vertical-align","top"),ut(n,"white-space","pre-wrap"),ut(n,"display","inline-block"),o.action&&ut(n,"user-select","none"),"string"==typeof o.image&&(Ii(r=Wr("img")),ut(r,"padding","0px"),ut(r,"margin","0px"),ut(r,"display","inline"),ut(r,"height","1em"),ut(r,"cursor","inherit"),r.src=o.image,n.appendChild(r)),o.text&&("object"==typeof o.text&&o.text.link_underline&&Rn.mouseover_ui_link_underline&&ut(n,"text-decoration","underline"),"string"==typeof o.text?n.innerText=o.text:"object"==typeof o.text&&(n.innerText=o.text.truncated)),o.title&&(n.title=o.title),o.containers&&o.pos&&((e=o.containers[o.pos]).appendChild(n),r=X(),e.hasAttribute("data-imu-middle_x")&&ut(e,"left",(r[0]-e.clientWidth)/2+"px"),e.hasAttribute("data-imu-middle_y")&&ut(e,"top",(r[1]-e.clientHeight)/2+"px")),n}var Y=[],J="initial";(g=vt(qe||document.body))&&"rtl"===g.direction&&(J="rtl");var Q=0,ee=0;function te(t,o){zi(t?1:-1,function(e){e||(o&&t&&Rn.scroll_past_gallery_end_to_close?it:ne)()})}var oe=function(e,t,o,r){var n=Wr("div");Ii(n),ut(n,"position","absolute"),ut(n,"opacity",W),Ci&&ut(n,"z-index",$i-1),ut(n,"white-space","nowrap"),ut(n,"direction","ltr");var i=null,a=null,s=null,u=null,l=N||I,c=((r.width||l)-l)/2,l=M||C,l=((r.height||l)-l)/2;return"left"===e?i=-(o+c)+"px":"middle"===e?(i="calc(50%)",n.setAttribute("data-imu-middle_x","true")):"right"===e&&(u=-(o+c)+"px"),"top"===t?a=-(o+l)+"px":"middle"===t?(a="calc(50%)",n.setAttribute("data-imu-middle_y","true")):"bottom"===t&&(s=-(o+l)+"px"),i&&ut(n,"left",i),u&&ut(n,"right",u),a&&ut(n,"top",a),s&&ut(n,"bottom",s),n},re=!!Rn.mouseover_ui;function ne(i,e){for(var t=0;t<Y.length;t++){var o=Y[t];o.parentNode.removeChild(o)}Y=[];var r=x.getBoundingClientRect(),a="14px "+Fi,s={};on({"top-left":["left","top"],"top-middle":["middle","top"],"top-right":["right","top"],left:["left","middle"],middle:["middle","middle"],right:["right","middle"],"bottom-left":["left","bottom"],"bottom-middle":["middle","bottom"],"bottom-right":["right","bottom"]},function(e,t){s[e]=oe(t[0],t[1],14,r)});var n,u=!Rn.mouseover_ui;if(e&&("toggle"===e?u=re:!0===e&&(u=!0)),u)return E.appendChild(s["top-left"]),void(re=!1);for(n in re=!0,s)V(s[n]),E.appendChild(s[n]),Y.push(s[n]);Rn.mouseover_ui_closebtn&&K({id:"closebtn",text:"×",title:Un("Close")+" ("+Un("ESC")+")",action:function(){it()},pos:"top-left",containers:s});function l(){return e=Jt(),Kr(e)%180==90?r.width||N||I:r.height||M||C;var e}var c=0,p=0,d=!1;(Rn.mouseover_ui_imagesize||Rn.mouseover_ui_zoomlevel||Rn.mouseover_ui_filesize)&&ut(K({id:"sizeinfo",text:function(){var e="",t=l(),o=parseInt(100*(t/C)),t=0;q&&q.filesize&&(t=q.filesize);for(var r=[{value:I+"x"+C,valid:Rn.mouseover_ui_imagesize},{value:o+"%",valid_paren:100!==o,valid:Rn.mouseover_ui_zoomlevel},{value:wi(t),valid:Rn.mouseover_ui_filesize&&t}],n=[],i=0;i<r.length;i++){var a=r[i];a.valid&&(0<n.length&&!1===a.valid_paren||n.push(a.value))}return 0===n.length?"":(e=n[0],1<n.length&&(e+=" ("+n.slice(1).join(", ")+")"),e)}(),pos:"top-left",containers:s}),"font-size","13px");function m(){return d?Un("Loading..."):c+p>Rn.mouseover_ui_gallerymax?Rn.mouseover_ui_gallerymax+"+":c+1+" / "+(c+p+1)}function g(){v||(0<c+p||d?(ut(_,"display","inline-block"),_.innerText=m()):ut(_,"display","none"))}function f(){Ye=!1,v&&(ut(h,"display","none"),_.removeChild(h),_.removeAttribute("data-btn-noaction"),v=!1,g())}var _,h,v,y,b=A&&E.clientWidth||N;Rn.mouseover_enable_gallery&&Rn.mouseover_ui_gallerycounter&&(_=K({id:"gallerycounter",text:m(),action:function(){Ye=v=!0,_.innerText="",ut(h,"display","initial"),h.value=c+1,_.setAttribute("data-btn-noaction",!0),_.appendChild(h),setTimeout(function(){h.select(),h.setSelectionRange(0,h.value.length)},100)},pos:"top-left",containers:s}),ut(_,"font-size","13px"),ut(_,"display","none"),h=Wr("input"),v=!1,Ii(h),ut(h,"display","none"),ut(h,"background-color","white"),ut(h,"font-family",Fi),ut(h,"font-size","12px"),ut(h,"padding","1px"),ut(h,"padding-left","2px"),ut(h,"width","5em"),Gr(h,"mouseout",f),Gr(h,"keydown",function(e){if(13===e.which){var t=h.value.replace(/\s+/g,"");return/^[0-9]+$/.test(t)&&(t=parseInt(t),zi(t-(c+1))),f(),e.stopPropagation(),e.preventDefault(),!1}},!0)),Rn.mouseover_ui_optionsbtn&&K({id:"optionsbtn",text:"⚙",title:Un("Options"),action:sn(),pos:"top-left",containers:s}),Rn.mouseover_ui_downloadbtn&&K({id:"downloadbtn",text:Oi(a,["🡇","🡫","↓"]),title:Un("Download ("+yi(Rn.mouseover_download_key)+")"),action:{type:"download"},pos:"top-left",containers:s}),Rn.mouseover_ui_rotationbtns&&(K({id:"rotleftbtn",text:"↶",title:(y=function(e){return Un("rotate_"+e+"_btn")+" ("+yi(Rn["mouseover_rotate_"+e+"_key"])+")"})("left"),action:{type:"rotate_left"},pos:"top-left",containers:s}),K({id:"rotrightbtn",text:"↷",title:y("right"),action:{type:"rotate_right"},pos:"top-left",containers:s})),Rn.mouseover_ui_caption&&(e=function(e,t){if(e&&e.extra&&e.extra.caption)return oi(e.extra.caption);if(t)do{var o=t.getAttribute("title"),r=t.getAttribute("alt");if(o||r){r=o||r;return r===t.src?null:oi(r)}}while(t=t.parentElement);return null}(q,qe),u=Rn.mouseover_ui_caption_link_page&&q.extra&&q.extra.page,(e=!e&&u?"(original page)":e)&&(y=e,Rn.mouseover_ui_wrap_caption&&(k=parseInt(Xr(10,Zr(60,(b-s["top-left"].clientWidth)/10))),y={truncated:bi(e,k),full:e,link_underline:u}),k=null,K({id:"caption",text:y,title:e,action:k=u?q.extra.page:k,pos:"top-left",containers:s})));function w(t){var e,o,r,n;Rn.mouseover_enable_gallery&&Rn.mouseover_ui_gallerybtns&&(e=function(){return te(t)},o=t?"Next":"Previous",n=Oi(a,t?["🡒","→"]:["🡐","←"]),r=t?Rn.mouseover_gallery_next_key:Rn.mouseover_gallery_prev_key,r=yi(r),o=Un(o)+" ("+Un(r)+")",r="gallery",r+=t?"next":"prev",n=K({id:r+="btn",text:n,title:o,action:e,containers:s,pos:t?"right":"left"}),function(e,t,o,r){if(Rn.mouseover_enable_gallery&&!(b<200)){var n=l(),i=0,a=20,n=n-(a=n<100?0:a)-(i=S?60:i);if(!(n<10)){i=Wr("div");Ii(i),i.title=r,e?i.style.left="0em":i.style.right="0em",i.style.top=a+"px",i.style.height=n+"px",i.style.position="absolute",i.style.width="15%",i.style.maxWidth="200px",i.style.zIndex=$i-2,i.style.cursor="pointer",V(i,t,!0),Gr(i,"click",function(e){return Ke||(T(e),o(e)),!1},!0),E.appendChild(i),Y.push(i)}}}(!t,n,e,o),Rn.mouseover_enable_gallery&&Rn.mouseover_ui_gallerycounter&&(i?(t?p=ee:c=Q,g()):(Wt(t,void 0,d=!0,void 0,void 0,function(e){d=!1,t?ee=p=e:Q=c=e,g()}),setTimeout(g,1))))}var k=function(t){Rn.mouseover_enable_gallery&&Xt(t,function(e){e&&w(t)})};k(!1),k(!0)}Le=ne,pt(q,e,de.data.respdata),ne();var ie=Wr("a");function ae(e){ut(ie,"pointer-events",e=e?"none":"initial"),ut(x,"pointer-events",e),ut(f,"pointer-events",e),ut(E,"pointer-events",e)}Ii(ie),h&&(ie.style.cursor="pointer",ie.onclick=function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!0}),ie.style.setProperty("vertical-align","bottom","important"),ie.style.setProperty("display","block","important"),Rn.mouseover_clickthrough&&ae(!0),Ue=function(){var e=Ai("mouseover_enable_mask_styles2");ze?(Rn.mouseover_hold_unclickthrough&&ae(!1),!ke||"always"!==e&&"hold"!==e||(ke.style.opacity=d)):(Rn.mouseover_clickthrough?ae(!0):ae(!1),!ke||"hold"!==e&&"never"!==e||(ke.style.opacity=0))},h?(ie.href=e,ie.target="_blank",Rn.mouseover_download&&(ie.href="#",Gr(ie,"click",function(e){return or(),e.preventDefault(),e.stopPropagation(),!1},!0))):(e=!1,(e=!S&&Rn.mouseover_click_image_close||t&&Rn.mouseover_click_video_close?!0:e)&&Gr(ie,"click",function(e){if(!Ke)return it(),e.preventDefault(),e.stopPropagation(),!1})),ie.appendChild(x),f.appendChild(ie),Ne=null;var se=ie.style.cursor,ue=x.style.cursor;function le(e){Ke=!(Oe=!0),Ge=e.clientX,Be=e.clientY,We=Ge-parseFloat(E.style.left),Ve=Be-parseFloat(E.style.top)}Me=function(e){He=_e,$e=he,Rn.mouseover_hide_cursor&&e?(ie.style.cursor="none",x.style.cursor="none"):(Ne&&(clearTimeout(Ne),Ne=null),ie.style.cursor=se,x.style.cursor=ue)},$e=He=1/0,Rn.mouseover_hide_cursor&&Rn.mouseover_hide_cursor_after<=0&&Me(!0),f.onmouseover=f.onmousemove=function(e){Kr(_e-He)<Rn.mouseover_mouse_inactivity_jitter&&Kr(he-$e)<Rn.mouseover_mouse_inactivity_jitter||(0<Rn.mouseover_hide_cursor_after||!Rn.mouseover_hide_cursor)&&(Me(!1),Rn.mouseover_hide_cursor&&(Ne=setTimeout(function(){Me(!0)},Rn.mouseover_hide_cursor_after)))},"drag"===Ai("mouseover_pan_behavior")&&(S&&(x.onseeking=function(e){fe=!0},x.onseeked=function(e){fe=!1}),f.ondragstart=ie.ondragstart=x.ondragstart=function(e){if(!fe)return le(e),T(e),!1},f.onmousedown=f.onpointerdown=ie.onmousedown=ie.onpointerdown=function(e){if(!Z&&0===e.button&&!fe)return le(e),e.preventDefault(),T(e),!1},x.onmousedown=x.onpointerdown=function(e){if(!Z&&0===e.button&&!fe)return le(e),T(e),!0},ie.onclick=function(e){return Oe=!1,Ke?(T(e),Ke=!1):(e.stopPropagation(),e.stopImmediatePropagation(),!0)},f.onmouseup=f.onpointerup=f.onclick=ie.onmouseup=ie.onpointerup=function(e){return Oe=!1,!Ke&&(e.stopPropagation(),e.stopImmediatePropagation(),!0)},x.onmouseup=x.onpointerup=x.onclick=function(e){return!(Oe=!1)},t&&(x.onclick=function(e){if(!x.controls)return Ke||(x.paused?nr(x):x.pause()),!(Oe=!1)}));var ce=r;"fill"===ce&&(ce="fit"),Re=function(e,t,o,r,n){var i=!1,a=parseFloat(E.style.left),s=parseFloat(E.style.top),u=E.clientWidth,l=E.clientHeight;U(),void 0===o&&(o="center"),void 0===r&&(r="center");var c,p,d=null,m=null;0<t&&("always"===(c=Ai("scroll_zoomout_pagemiddle"))?r=o="pagemiddle":"viewport"===c&&(u<L&&(o="pagemiddle"),l<D&&(r="pagemiddle"))),"center"===o||"pagemiddle"===o?("pagemiddle"===o&&(d=L/2),o=(p=Xr(a,0))+(Zr(p+u,L)-p)/2):o<a?o=a:a+u<o&&(o=a+u),"center"===r||"pagemiddle"===r?("pagemiddle"===r&&(m=D/2),r=(p=Xr(s,0))+(Zr(p+l,D)-p)/2):r<s?r=s:s+l<r&&(r=s+l);u=(o-a)/u,l=(r-s)/l;if("fitfull"===e){if(n&&"fit"===ce&&0<t)return it(),!1;if(0<t&&"fit"!==ce){M=C,N=I,$();var g=parseFloat(x.style.width),f=parseFloat(x.style.height);if(O(N,L),G(M,D),n&&parseFloat(x.style.width)===g&&parseFloat(x.style.height)===f)return it(),!1;ce="fit",i=!0}else t<0&&"full"!==ce&&(O(I,"initial"),G(C,"initial"),N=I,M=C,ce="full",i=!0)}else if("incremental"===e){var _=x.clientWidth,h=x.clientHeight,g=1,g=_<I?I/_:_/I,f=Rn.scroll_incremental_mult-1;g=Vr(g/f),g*=f,_<I&&0!==g&&(g=1/g),0<t?g/=1+f:g*=1+f,_=I*g,h=C*g;g=0<t&&(_<64||h<64);if(g||t<0&&(512*I<_||512*C<h))return n&&g&&it(),!1;M=h,O(N=_),G(h),i=!0}if(!i)return!1;_=E.clientWidth,h=E.clientHeight,i=(_/I+h/C)/2;i&&(Fe=i);i=function(e,t,o){e-=t,o=Xr(100,o/10);return t+(e=e<0?-Zr(o,-e):Zr(o,e))};return u=o-u*_,null!==d&&(u=i(d-_/2,u,L)),l=r-l*h,null!==m&&(l=i(m-h/2,l,D)),"fitfull"===e&&_<=L&&h<=D&&(u=Xr(u,20),L-20<u+_&&(u=L+20-_),l=Xr(l,20),D-20<l+h&&(l=D+20-h)),E.style.left=u+"px",E.style.top=l+"px",ne(!0),ve=!1},E.onwheel=De=function(o,e){var t,r=!1,n=!1,i=function(e){var t=!1;if(e)if(o.deltaX<0)t=!1;else{if(!(0<o.deltaX))return;t=!0}else{if(o.deltaY<0)t=!1;else{if(!(0<o.deltaY))return;t=!0}Rn.mouseover_scrolly_video_invert&&(t=!t)}return rr(!t),c(o),!0},a=!0,s=!0;S&&(u=Ai("mouseover_scrollx_video_behavior"),t=Ai("mouseover_scrolly_video_behavior"),r||"default"===u||("seek"===u?i(!0)&&(r=!0):"nothing"===u&&(a=!1)),n||"default"===t||("seek"===t?i(!1)&&(n=!0):"nothing"===u&&(s=!1)));var i=Ai("mouseover_scrollx_behavior"),u=Ai("mouseover_scrolly_behavior");ze&&("default"!==(l=Ai("mouseover_scrollx_hold_behavior"))&&(i=l),"default"!==(l=Ai("mouseover_scrolly_hold_behavior"))&&(u=l));var l=function(e){if(Rn.mouseover_enable_gallery){var t=!1;if(e)if(o.deltaX<0)t=!1;else{if(!(0<o.deltaX))return;t=!0}else if(o.deltaY<0)t=!1;else{if(!(0<o.deltaY))return;t=!0}return te(t,!0),c(o),!0}};if(a&&!r)if("pan"===i)E.style.left=parseInt(E.style.left)+o.deltaX+"px",r=!0;else if("gallery"===i){if(l(!0))return;r=!0}if(s&&!n)if("pan"===u)E.style.top=parseInt(E.style.top)+o.deltaY+"px",n=!0;else if("gallery"===u){if(l(!1))return;n=!0}if(n)return c(o),!1;if(s&&"zoom"===u&&0!==o.deltaY){c(o);n=o.clientX,s=o.clientY;"center"===Ai("scroll_zoom_origin")&&(s=n="center");u=Ai("scroll_zoom_behavior");return!1!==Re(u,o.deltaY,n,s,Rn.zoom_out_to_close)&&void 0}},ke&&document.documentElement.appendChild(ke),document.documentElement.appendChild(E),rt(),Mi(x),S&&(Rn.mouseover_video_autoplay?nr(x):x.pause()),we.push(E),A=!0,de.data.respdata&&de.data.respdata.responseHeaders&&("content-length"in(r=Jn(Yn(de.data.respdata.responseHeaders)))&&(Se=parseInt(r["content-length"])||0)),Ie[1]=!1,Ae||(ze=!1),Qe=ve=!1,setTimeout(function(){et()},1),Ce=!0,ot()}(de.data.img,de.data.newurl)}var ft=null,_t=new $n;function ht(e){if(e.match(/^ *([0-9]+)px *$/))return e.replace(/^ *([0-9]+)px *$/,"$1");if(_t.has(e))return _t.get(e);var t,o=document.body;o||(o=t=Wr("body"),t.style.cssText="font-size:"+e+"!important;",document.documentElement.insertBefore(t,document.body)),ft||(Ii(ft=Wr("i")),ut(ft,"position","absolute"),ut(ft,"visibility","hidden"),ut(ft,"padding","0")),ut(ft,"width",e),ut(ft,"font-size",e),o.appendChild(ft);var r=ft.clientWidth;return _t.set(e,r,300),t?document.documentElement.removeChild(t):o.removeChild(ft),r}function vt(e){return e.currentStyle||window.getComputedStyle(e)}var yt=function(e){return e.left=e.x,e.top=e.y,e.right=e.left+e.width,e.bottom=e.top+e.height,e},bt=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height}},wt=function(e){if("number"==typeof e)return e;var t=e.match(/^([-0-9.]+)%$/);return t?parseFloat(t[1])/100:(t=e.match(/^([-0-9.]+)$/))?parseFloat(t[1]):null};function kt(e,t){t=function e(t,o,r){if(!t)return null;if(o&&o.has(t)){var n=o.get(t);if(!r)return n;if(n.orig_rect)return n}var i={},a=t.parentElement;a&&(i=e(a,o,!1));n=null;r&&(n=t.getBoundingClientRect());a=null,r=1;"style"in t&&t.style.zoom&&(r=wt(t.style.zoom))&&1!==r&&(n=n||t.getBoundingClientRect(),(a=bt(n)).width*=r,a.height*=r),i.zoom&&1!==i.zoom&&(n=n||t.getBoundingClientRect(),(a=a||bt(n)).x*=i.zoom,a.y*=i.zoom,a.width*=i.zoom,a.height*=i.zoom,r*=i.zoom),a&&yt(a);r={zoom:r};return n&&(r.orig_rect=n),a&&(r.rect=a),o&&o.set(t,r),r}(e,t,!0);return t.rect||t.orig_rect}function xt(){if(!we||!we[0])return null;var e=tr();if(!e)return null;var t=Date.now();return(!s||30<t-u)&&(s=e.getBoundingClientRect(),u=t),s}function St(e,t){"links"in(t=t||{})||(t.links=Ai("mouseover_links"));var o=[],r=function(e,_,t){kr&&Nr("find_source","_find_source (els)",e);var h={},v={},a=[],y=Mn(),b=0,o=parseInt(Rn.mouseover_minimum_size);isNaN(o)&&(o=0);var w=function(e){var t,o={document:document,window:Ir(),host_url:window.location.href,do_request:bn,rule_specific:{}};for(t in e)o[t]=e[t];return ai(o)}({});function s(e){var t=!0;do{if(!e)break;var o=vt(e);if(!o)break;if(o.opacity.toString().match(/^0(?:\.0*)?$/)||t&&"hidden"===o.visibility)return!1}while(t&&"visible"===o.visibility&&(t=!1),e=e.parentElement);return!0}function r(){var e,t=null,o=!1;for(e in h){if(o)return;o=!0,t=h[e]}return t}function k(e){return On(window.location.href,e,!0)}function x(e,t,o){if(kr&&Nr("find_source","_find_source (addImage)",e,t,s(t),o),Fn(e))if(e&&Rn.mouseover_apply_blacklist&&!Tn(e))kr&&Nr("find_source","blacklisted");else{e in h||(h[e]={count:0,src:e,el:t,id:b++});if(t&&(window.getComputedStyle(t)||t.style),!(o=o||{}).isbg||!Rn.mouseover_exclude_backgroundimages){var r=function(e,t){for(var o=pi(e,{fill_object:!0,use_cache:"read",do_request:null,document:document,window:Ir(),host_url:window.location.href,element:t,include_pastobjs:!0,iterations:2,cb:null}),r=e,n=0;n<o.length;n++){if(o[n].url===e)return!o[n].bad&&(1<o.length?r||!0:void 0);r===e&&(r=o[n].url)}return r||!0}(e,t);if(!1!==r)if("imu"in h[e]||(h[e].imu=!!r),!0===r&&e&&e.match(/^data:/)&&!/^data:image\/svg\+xml;/.test(e)&&e.length<=500)kr&&Nr("find_source","Tiny data: image",t,e);else{if(s(t)){if(Rn.mouseover_only_links){if(!t)return;var n=!1,i=t;do{if("A"===gi(i)){n=!0;break}}while(i=i.parentElement);if(!n)return}return"layer"in o&&(o.layer in a||(a[o.layer]=[]),a[o.layer].push(e)),h[e].count++,1}kr&&Nr("find_source","Invisible: image",t)}else kr&&Nr("find_source","Bad image",t)}}}function p(e){for(var t=[],o=[],r="",n=null,i=!1,a=0;a<e.length;a++){var s=e[a];if(i)r+=s,i=!1;else if(n)s===n?(n=null,o.push(r),r=""):r+=s;else if(/\s/.test(s))0<r.length&&(o.push(r),r="");else if("\\"!==s)if('"'!==s&&"'"!==s)if("("!==s){if(")"===s){a++;break}","!==s?r+=s:(r&&o.push(r),t.push(o),o=[],r="")}else{var u=p(e.substr(a+1));o.push({name:r,tokens:u[0]}),a+=u[1],r=""}else n=s;else i=!0}return r&&o.push(r),o&&t.push(o),[t,a]}function d(e){for(var t=0;t<e.length;t++)if(!(e[t].length<1)&&"object"==typeof e[t][0]){var o=e[t][0],r=o.name;if(!($r(["url","-webkit-image-set","image-set"],r)<0))if("url"===r){if(1<=o.tokens.length&&0<o.tokens[0].length&&0<o.tokens[0][0].length)return 1}else if(d(o.tokens))return 1}}function l(e){return"object"!=typeof e||"url"!==e.name||e.tokens.length<1||e.tokens[0].length<1||0===e.tokens[0][0].length?null:e.tokens[0][0]}function m(e){for(var t,o,r,n=[],i=0;i<e.length;i++)e[i].length<1||"object"==typeof e[i][0]&&(t=(r=e[i][0]).name,$r(["url","-webkit-image-set","image-set"],t)<0||("url"===t?(o=l(r))&&n.push(o):"-webkit-image-set"!==t&&"image-set"!==t||(r=function(e){for(var t=[],o=0;o<e.tokens.length;o++)if(!(e.tokens[o].length<1)){var r=l(e.tokens[o][0]);if(r){for(var n={src:r},i=1;i<e.tokens[o].length;i++){var a,s=e.tokens[o][i],u=s.match(/^([0-9.]+)(x|dp(?:px|i|cm))$/);u?0<(a=parseFloat(u[1]))&&("dppx"===(u=u[2])?(a*=96,u="dpi"):"dpcm"===u&&(a*=96/2.54,u="dpi"),"x"===u?n.desc_x=a:"dpi"===u&&(n.dpi=a)):Mr("Unknown descriptor: "+s)}t.push(n)}}return t}(r))&&Jr(n,r)));return n}function n(e,t,o,r,n){var i=(o=o,!d(t=p(t=t)[0])||o&&!d(p(o)[0])?null:m(t));if(i)for(var a,s=0;s<i.length;s++)if(x(a="string"!=typeof(a=i[s])?a.src:a,e,{isbg:n,layer:r}),"string"!=typeof i[s])for(var u=["desc_x","dpi"],l=0;l<u.length;l++){var c=u[l];i[s][c]&&(!h[a][c]||h[a][c]>i[s][c])&&(h[a][c]=i[s][c])}}function i(e,t,o,r){o&&"style"in t&&(o.getPropertyValue("background-image")&&n(t,o.getPropertyValue("background-image"),t.style.getPropertyValue("background-image"),e,r||!0),r&&o.getPropertyValue("content")&&n(t,o.getPropertyValue("content"),void 0,e,r))}function S(e,t){kr&&Nr("find_source","_find_source (addElement)",e,t),Rn.mouseover_exclude_page_bg&&"BODY"===e.tagName||(function(e,t){var o;w&&w.element_ok&&(Hn(y,e)||(r=w.element_ok(e),o={count:1,src:null,el:e,id:b++,is_ok_el:!0},!0===r?(_.push(o),Nn(y,e)):En(r)&&(o.el=r,_.push(o),Nn(y,e),e=r)));var r=gi(e);if("PICTURE"===r||"VIDEO"===r)for(var n=0;n<e.children.length;n++)S(e.children[n],t);if("SOURCE"===r||"IMG"===r||"IMAGE"===r||"VIDEO"===r||Rn.mouseover_allow_canvas_el&&"CANVAS"===r||Rn.mouseover_allow_svg_el&&"SVG"===r){if(Rn.mouseover_exclude_imagemaps&&"IMG"===r&&e.hasAttribute("usemap")){var i=document.querySelector('map[name="'+e.getAttribute("usemap").replace(/^#/,"")+'"]');if(i)return kr&&Nr("find_source","_find_source skipping",e,"due to image map",i)}i=hi(e);if(i&&(x(d=k(i),e,{layer:t}),!e.srcset&&d in h&&(i=lt(e),h[d].width=i[0],h[d].height=i[1])),!e.srcset)return;for(var a=[],s=e.srcset;0<s.length;){var u=s,l=(s=s.replace(/^\s+/,"")).match(/^(\S+(?:\s+[^,]+)?)(?:,[\s\S]*)?\s*$/);if(l&&(a.push(l[1].replace(/\s*$/,"")),s=s.substr(l[1].length)),(s=s.replace(/^\s*,/,""))===u)break}e.sizes&&e.sizes.split(",");for(n=0;n<a.length;n++){var c,p,d=k(a[n].replace(/^(\S+)(?:\s+[\s\S]+)?\s*$/,"$1")),m=a[n].slice(d.length).replace(/^\s*([\s\S]*?)\s*$/,"$1");if(x(d,e,{layer:t})){if(h[d].picture=e.parentElement,m)for(h[d].desc=m;0<m.length;){var g=(m=m.replace(/^\s+/,"")).match(/^([0-9.]+)([whx])(?:\s+[0-9.]+[\s\S]*)?\s*$/);if(!g)break;var f=parseFloat(g[1]);0<f&&("w"===g[2]&&(!h[d].width||h[d].width>f)?h[d].width=f:"h"===g[2]&&(!h[d].height||h[d].height>f)?h[d].height=f:"x"===g[2]&&(!h[d].desc_x||h[d].desc_x>f)&&(h[d].desc_x=f)),m=m.substr(g[1].length+g[2].length)}e.media&&(h[d].media=e.media,e.media.match(/min-width:\s*([0-9]+)/)&&(picture_minw=!0,c=ht(e.media.replace(/.*min-width:\s*([0-9.a-z]+).*/,"$1")),(!h[d].minWidth||h[d].minWidth>c)&&(h[d].minWidth=c)),e.media.match(/max-width:\s*([0-9]+)/)&&(picture_maxw=!0,c=ht(e.media.replace(/.*max-width:\s*([0-9.a-z]+).*/,"$1")),(!h[d].maxWidth||h[d].maxWidth>c)&&(h[d].maxWidth=c)),e.media.match(/min-height:\s*([0-9]+)/)&&(picture_minh=!0,p=ht(e.media.replace(/.*min-height:\s*([0-9.a-z]+).*/,"$1")),(!h[d].minHeight||h[d].minHeight>p)&&(h[d].minHeight=p)),e.media.match(/max-height:\s*([0-9]+)/)&&(picture_maxh=!0,p=ht(e.media.replace(/.*max-height:\s*([0-9.a-z]+).*/,"$1")),(!h[d].maxHeight||h[d].maxHeight>p)&&(h[d].maxHeight=p)))}}}("A"===r||Rn.mouseover_allow_iframe_el&&"IFRAME"===r)&&(d=hi(e),v[d]={count:1,src:d,el:e,id:b++})}(e,t=void 0===t?a.length:t),i(t,e,window.getComputedStyle(e)),i(t,e,window.getComputedStyle(e,":before"),"before"),i(t,e,window.getComputedStyle(e,":after"),"after"))}for(var u=0;u<e.length;u++)if("IMG"===e[u].tagName&&e[u].parentElement&&"PICTURE"===e[u].parentElement.tagName&&$r(e,e[u].parentElement)<0&&e.splice(u+1,0,e[u].parentElement),"PICTURE"===e[u].tagName&&1==u){e.splice(0,u),u=0;break}for(u=0;u<e.length;u++)S(e[u]);kr&&(kr&&Nr("find_source","_find_source (sources)",Cn(h)),kr&&Nr("find_source","_find_source (layers)",Cn(a)),kr&&Nr("find_source","_find_source (ok_els)",Cn(_)));for(var c=[],u=0;u<a.length;u++)for(var g=0;g<a[u].length;g++)$r(c,a[u][g])<0&&c.push(a[u][g]);var f=[];for($ in h){for(u=0;u<_.length;u++)h[$].el===_[u].el&&(_[u]=h[$],f[u]=!0);$r(c,$)<0&&delete h[$]}for(u=0;u<_.length;u++)f[u]||_[u].src||S(_[u].el);if(void 0!==($=r())){if(kr&&Nr("find_source","_find_source (getsource())",$),null===$){if(0<_.length)return _[0];if(t.links&&0<Object.keys(v).length){var q,T=null;for(q in v){if(!Rn.mouseover_only_valid_links){T=q;break}if(ii(q,v[q].el)){T=q;break}}if(T)return v[T]}}return $}for(u=0;u<a.length;u++){for(var E=0,A=null,C=0,I=null,z=0,U=null,R=0,L=null,D=0,j=0,P=0,M=null,N={},H=!1,g=0;g<a[u].length;g++){var $,F=a[u][g];($=h[F]).width&&$.width>E&&(E=$.width,A=$,H=!0),$.height&&$.height>C&&(C=$.height,I=$,H=!0),$.minWidth&&$.minWidth>z&&(z=$.minWidth,U=$,H=!0),$.minHeight&&$.minHeight>R&&(R=$.minHeight,L=$,H=!0),$.maxWidth&&$.maxWidth>D&&(D=$.maxWidth,0),$.maxHeight&&$.maxHeight>j&&(j=$.maxHeight,0),$.desc_x&&$.desc_x>P&&(P=$.desc_x,M=$,H=!0),$.dpi&&0<$.dpi&&(dpiX=$.dpi,H=!0),$.isbg&&(N[$.src]=!0,H=!0)}if(H)for(var O in 1<P&&(N[M.src]=!0),o<E&&z<E&&(N[A.src]=!0),o<C&&R<C&&(N[I.src]=!0),o<z&&E<=z&&(N[U.src]=!0),o<R&&C<=R&&(N[L.src]=!0),a[u]=[],N)a[u].push(O)}function G(e){for(var t=0;t<e.length;t++){var o=e[t],o=h[o];if(o.desc_x)return o}return h[e[0]]}kr&&Nr("find_source","_find_source (new layers)",Cn(a));(function(){for(var e=[],t=0;t<a.length;t++)0!==a[t].length&&e.push(a[t]);a=e})(),kr&&Nr("find_source","_find_source (rebuilt layers)",Cn(a));if(1<a.length&&1===a[0].length&&h[a[0][0]].isbg)for(u=1;u<a.length;u++)if(1!==a[u].length||!h[a[u][0]].isbg)return G(a[u]);if(0<a.length)return G(a[0]);return($=r())?$:function(e){var t,o=Number.MAX_SAFE_INTEGER,r=null;for(t in e){var n=e[t];n.id<o&&(o=n.id,r=e[t])}return r}(h)}(e,o,t);if(kr&&Nr("find_source","find_source: result =",r,"ok_els =",o),!r)return r;function n(){return 0<o.length?o[0]:null}if(r.el&&function(e){var t=e;do{if(0<=$r(we,t))return 1}while(t=t.parentElement)}(r.el))return kr&&Nr("find_source","find_source: result.el is popup el",r.el),n();if(!r.is_ok_el&&!r.src)return kr&&Nr("find_source","find_source: invalid src",r),n();e=parseInt(Rn.mouseover_minimum_size);(isNaN(e)||r.imu)&&(e=0);t=parseInt(Rn.popup_maximum_source_size);if(isNaN(t)&&(t=0),!isNaN(r.width)&&!isNaN(r.height)&&0<r.width&&0<r.height){if(r.width<e||r.height<e)return kr&&Nr("find_source","find_source: result size is too small"),n();if(t&&(r.width>t||r.height>t))return jr("Source media is too big to popup (user-configured maximum is",t,"px)"),null}return r}function qt(){"number"==typeof(R=(R=Rn.mouseover_trigger_delay)<0||isNaN(R)?!1:R)&&10<=R&&(R=10),D="mouse"===Ai("mouseover_trigger_behavior")||(R=!1),L&&(clearTimeout(L),L=null)}function Tt(e){return!qi(e)||!Ti(I)}function Et(){I=[],z={}}function At(e,t){return 0<=$r(t,e)}function Ct(e,t){if(t){if(!Tt(e))return;if(z[e]=Date.now(),$r(I,e)<0)return I.push(e),1}else if(delete z[e],0<=$r(I,e))return I.splice($r(I,e),1),Ti(I)&&Et(),1}function It(e,t){t=Gi(t);for(var o=0;o<t.length;o++)if(function(e,t){var o,r=Si(e,!0);for(o in r)if(r[o]&&At(o,t))return 1}(e,t[o]))return 1}function zt(e,t){var o=Si(e,t);!function(){var e,t=Date.now();for(e in z)5e3<t-z[e]&&Ct(e,!1)}();var r,n=!1;for(r in o)Ct(r,o[r])&&(n=!0);return n}function Ut(e,t,o){var r,n=Si(e,t);for(r in n)if((void 0===o||At(r,o))&&function(e,t){if(t){if(!Tt(e))return;if($r(I,e)<0)return 1}else if(0<=$r(I,e))return 1}(r,n[r]))return 1}function Rt(e){e=Gi(e);for(var t=0;t<e.length;t++)if(function(e){for(var t=0;t<e.length;t++){var o=e[t];if($r(I,o)<0)return}for(t=0;t<I.length;t++)if(!qi(I[t])&&$r(e,I[t])<0)return;return 1}(e[t]))return 1}function Lt(e,t){t=Gi(t);for(var o=0;o<t.length;o++)if(function(e){for(var t=0;t<e.length;t++){var o=e[t];if(0<=$r(I,o))return 1}}(t[o]))return 1}function Dt(){return Ai("mouseover_close_behavior")}function jt(){return Rn.mouseover_close_need_mouseout&&"esc"!==Dt()}function Pt(){return Rn.mouseover_exclude_imagetab&&"mouse"===Ai("mouseover_trigger_behavior")&&ki()&&!Ar}function Mt(e,t,o,r){var n=!1;if(o||(o=Mn(),n=!0),void 0===r)try{r=new Map}catch(e){r=null}var i=[],a=[],s=Ai("mouseover_find_els_mode");if(!t&&(a=t=document.elementsFromPoint(e[0],e[1]),kr&&jr("find_els_at_point (elsfrompoint)",Cn(t)),"simple"===s))return t;for(var u=0;u<t.length;u++)if(0<u&&n&&"hybrid"===s)i.push(t[u]);else{var l=t[u];if(!Hn(o,l)){Nn(o,l);var c=!1,p=null,d=null;if(0<l.childElementCount&&(p=l.children,c=!0),l.shadowRoot&&0<l.shadowRoot.childElementCount&&(d=l.shadowRoot.children,c=!0),c){var m=[];if(p)for(var g=p.length-1;0<=g;g--)m.push(p[g]);if(d)for(g=d.length-1;0<=g;g--)m.push(d[g]);for(var f=Mt(e,m,o,r),g=0;g<f.length;g++){var _=f[g];$r(i,_)<0&&i.push(_)}}c=kt(l,r);c&&0<c.width&&0<c.height&&c.left<=e[0]&&c.right>=e[0]&&c.top<=e[1]&&c.bottom>=e[1]&&$r(i,l)<0&&i.push(l)}}for(u=0;u<a.length;u++)$r(i,a[u])<0&&i.push(a[u]);if(kr&&0<i.length&&jr("find_els_at_point (unsorted ret)",An(i)),n&&"hybrid"===s)return i;function h(e){var t=vt(e).zIndex,o=0;return e.parentElement&&(o=v(e.parentElement)),"auto"===t?o:(t=parseFloat(t))<o?o+t:t}var v=function(e){if(r){var t=Pn(r,e);if(t&&"zIndex"in t)return t.zIndex;var o=h(e);return t?t.zIndex=o:jn(r,e,{zIndex:o}),o}return h(e)};return i.sort(function(e,t){var o=v(e),r=v(t);return r===o?$r(i,e)-$r(i,t):r-o}),kr&&0<i.length&&jr("find_els_at_point (ret)",t,An(i),e),i}ui=function(e,t){var o=si(xe,e,t);return o||!1===o?o:(e.parentElement||e.hasAttribute("imu-album-info")&&(e=w),_=[],function(e,t){if(!e)return null;for(var o=[(e=0<=$r(["SOURCE","IMG"],e.tagName)&&e.parentElement&&0<=$r(["PICTURE","VIDEO"],e.parentElement.tagName)?e.parentElement:e).tagName],r=e,n=!1;;){if(n)n=!1;else{var i=r.nextElementSibling;if(!(i=!t?r.previousElementSibling:i)){if(!(r=r.parentElement))break;o.unshift(r.tagName);continue}r=i}if(r.tagName===o[0])if(1!==o.length){if(t){for(var a=0;a<r.children.length;a++)if(r.children[a].tagName===o[1]){r=r.children[a],o.shift(),n=!0;break}}else for(a=r.children.length-1;0<=a;a--)if(r.children[a].tagName===o[1]){r=r.children[a],o.shift(),n=!0;break}}else if(Bt(r))return r}return null}(e,t))},qt(),Dn.mouseover_trigger_delay.onupdate=qt,Dn.mouseover_trigger_behavior.onupdate=qt;var Nt=function(e){return e.parentElement&&"SOURCE"===e.tagName?e.parentElement:e};function Ht(e){var t,o;e=e||{},kr&&jr("trigger_popup (options:",e,")",mn),!Rn.mouseover_allow_popup_when_fullscreen&&ir()&&!ar()||(Qe=!0,t=m?[_e,he]:null,null!==(t=e.is_contextmenu&&null!==r&&null!==n?[r,n]:t)?(o=Mt(t),kr&&jr("trigger_popup: els =",o,"point =",t),e.is_contextmenu&&(n=r=null),!(o=St(o))&&Rn.mouseover_allow_self_pagelink&&"keyboard"===x&&(o={el:document.body,src:window.location.href,pagelink:!0}),kr&&jr("trigger_popup: source =",o),!o||"mouse"===x&&Nt(o.el)===b?("keyboard"===x&&Rn.mouseover_enable_notallowed&&O(),Qe=!1):$t(o)):Qe=!1)}function $t(e,a,t,s){y=Nt(e.el),s=s||nn.nullfunc;var o=!1,r=M("mouseover_open_behavior");"newtab"!==r&&"newtab_bg"!==r&&"download"!==r&&"copylink"!==r||(o=!0);var u=e,n=!1,i=!1,r=Ai("mouseover_allow_partial");return"media"===r?i=n=!0:"video"===r&&(i=!0),Lr&&_n()&&(i=n=!0),Ft(e,{automatic:a,multi:!1,use_head:o,incomplete_image:n,incomplete_video:i,use_last_pos:t},function(e,t,o,r){if(!(e||t||o||r))return Qe=!1,(u.pagelink?tt:$)(),s(!1);if(a&&_&&e&&e[0]&&0<=$r(_,e[0].url))return Qe=!1,$(),s(!1);var n,i;ar();it({new_popup:!0,automatic:a}),a&&(Ae=!0,rt()),v=t.el,(qe=Nt(v)).parentElement&&(w=qe),h=Pi(qe),Te="video"===h||"audio"===h,Ee=hi(qe),Lr&&_n()&&"popup"===M("mouseover_open_behavior")?(r.data.img=(n=r.data.img,i={tag:n.tagName.toLowerCase(),src:n.src,autoplay:n.getAttribute("autoplay"),controls:n.getAttribute("controls"),loop:n.getAttribute("loop"),muted:n.muted,volume:n.volume},n.hasAttribute("crossorigin")&&(i.crossorigin=n.getAttribute("crossorigin")),i),cn("top",{type:"make_popup",data:{source_imu:e,src:t.src,processing:o,data:r}})):(gt(e,t.src,o,r),Lr&&fn()&&"popup"===M("mouseover_open_behavior")&&cn("top",{type:"popup_open"})),s(!0)}),0}function Ft(a,s,n){var u={running:!0};s.multi||(B(),o=[u]);function e(){function e(e,t){if(!t)return s.multi||tt(),n();s.use_last_pos&&(r=o=null),n(e,a,u,{data:t,x:o,y:r})}s.multi||H(a.el);var o=_e,r=he;try{var t=Rn.mouseover_ui_caption&&Rn.redirect_force_page;mi(a.src,{fill_object:!0,host_url:window.location.href,document:document,window:Ir(),element:a.el,force_page:t,cb:e},function(e,n){var i=e;if(kr&&jr("do_popup: brl query:",e),s.null_if_no_change&&e[0].url===a.src)return n(a.src,e[0],null);var t,o=Cn(e);if(Rn.mouseover_exclude_sameimage){if(a.src)for(;0<=(t=di(o,a.src));)o.splice(t,1)}else a.src&&di(o,a.src)<0&&o.push(Wn(a.src)[0]);a.pagelink&&(o=Bn(o),Qr(o,function(e){e.url.replace(/#.*/,"")===a.src.replace(/#.*/,"")&&(e.is_pagelink=!0)})),u.incomplete_image=s.incomplete_image,u.incomplete_video=s.incomplete_video,u.progress_cb=s.progress_cb,s.use_head&&(u.head=!0),Rn.popup_allow_cache&&!s.deny_cache&&(u.set_cache=!0,u.use_cache=!0),u.deny_nondirect_delivery=s.deny_nondirect_delivery,P("mouseover_allow_video")||(u.deny_video=!0),P("mouseover_allow_audio")||(u.deny_audio=!0),u.source=a,Hi(o,function(e,t,o,r){if(kr&&jr("do_popup: check_image_get response:",e,t,o,r),!e)return n(null);o={img:e,newurl:t,obj:o,respdata:r},r=t;s.use_head&&(r=(o={resp:e,obj:t}).resp.finalUrl),Rn.print_imu_obj&&jr(i),n(r,o.obj,o)},u)})}catch(e){Pr(e)}}var t;!R||D||s.automatic?e():(t=a.el,H(t,"progress"),L=setTimeout(function(){Qe||(L=null,e())},1e3*R))}function Ot(t,e,o,r,n){o=o||v;var i={element:e=e||w,document:document,window:Ir(),host_url:window.location.href,do_request:bn,rule_specific:{},cb:function(e){if(void 0===e||"default"===e)return r(ui(o,t));r(e)}};if(n)for(var a in n)i[a]=n[a];li(i),ci(i);var s=ai(i),e=ui,e=(e=s&&s.gallery?function(e,t){var o=s.gallery(e,t);return o||null===o?o:ui(e,t)}:e)(o,t);return"waiting"!==e&&r("default"===e?ui(o,t):e)}var Gt=new $n;function Bt(e){if(!e)return!1;if(Gt.has(e))return Gt.get(e);var t=!!St([e]);return Gt.set(e,t,3),t}function Wt(e,t,o,r,n,i){var a=0;void 0===t&&(t=Rn.mouseover_ui_gallerymax);var s=n;if(!(s=n||v)&&k&&_n()&&!Lr)return cn(k,{type:"count_gallery",data:{nextprev:e,is_counting:o,max:t}},function(e){i(e)});var u=function(){Ot(e,r,n,function(e){return e&&Bt(e)?t<=++a?i(a,e):(n=e,void Wi(u,a,100)):i(a,n)},{is_counting:o,counting_firstel:s})};u()}function Vt(e,o,r,n){if(r=r||v,0===e)return n();var i=!0,a=e;e<0&&(i=!1,a=-e),Wt(i,a,!1,o,r,function(e,t){e<a?Rn.mouseover_gallery_cycle?Wt(!i,void 0,!0,o,r,function(e,t){n(t)}):n(null):n(t)})}function Xt(e,t){if(k&&_n()&&!Lr)return cn(k,{type:"is_nextprev_valid",data:{nextprev:e}},function(e){t(e)});Vt(e?1:-1,void 0,void 0,function(e){t(Bt(e))})}function Zt(){var e,t=null;return we&&we[0]&&((e=tr())&&(t=e.parentElement.parentElement.style)),t&&t.transform?function(e){for(var t,o,r=[],n={},i=0,a=0;a<e.length;a++)")"!==e[a]||(o=(t=oi(e.substr(i,a-i+1))).replace(/\(.*/,""),r.push(t),o in n||(n[o]=[]),n[o].push(r.length-1),i=a+1);return{transforms:r,types:n}}(t.transform):{transforms:[],types:{}}}function Kt(e){var t=tr();t&&(t.parentElement.parentElement.style.transform=e.transforms.join(" "))}function Yt(e){var t=0;"rotate"in e.types?t=e.types.rotate[0]:e.transforms.unshift("rotate(0deg)");var o=e.transforms[t].match(/^rotate\(([-0-9]+)deg\)$/),e=0;return{deg:e=o?parseInt(o[1]):e,index:t}}var Jt=function(){var e=Zt();return Yt(e).deg};function Qt(e){var t,o;Ce&&(t=Zt(),o=Yt(t),t.transforms[o.index]="rotate("+(o.deg+e)+"deg)",Kt(t),Le(!0))}function eo(e){var t,o,r,n,i;Ce&&(o=(t=Zt()).transforms.length,"scale"in t.types?o=t.types.scale[0]:t.transforms.push("scale(1,1)"),i=n=1,(r=t.transforms[o].match(/^scale\(([-0-9.]+)\s*,\s*([-0-9.]+)\)$/))&&(n=parseFloat(r[1]),i=parseFloat(r[2])),e?i=-i:n=-n,t.transforms[o]="scale("+n+", "+i+")",Kt(t))}function to(e,t){return t=Yr(10,t),(0|(e*=t))/t}function oo(e){for(var t=["B","KB","MB","GB","TB","PB"];1<t.length&&1024<e;)e/=1024,t.shift();return to(e,2)+t[0]}function ro(e){var t=Wr("div");Ii(t),t.style.backgroundColor="rgba(0,0,0,0.7)",t.style.height="2em",t.style.zIndex=$i-2;var o=Wr("div");return Ii(o),o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.backgroundColor="#00aaff",o.style.height="100%",o.style.width="0%",o.style.zIndex=$i-1,t.appendChild(o),e&&(t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.width="80%",t.style.marginTop="100px",t.style.marginLeft="10%",document.documentElement.appendChild(t)),t}function no(e,t,o){var r=e.children[0];"number"==typeof t?(r.getAttribute("data-timer")&&(clearInterval(parseInt(r.getAttribute("data-timer"))),r.removeAttribute("data-timer")),1<=t&&o&&e.parentElement?e.parentElement.removeChild(e):r.style.width=100*t+"%"):"unknown"==t&&(r.style.width="10%",r.getAttribute("data-timer")||(r.style.left="0%",r.setAttribute("data-dir","right"),t=setInterval(function(){var e=parseFloat(r.style.left);"right"==r.getAttribute("data-dir")?90<=(e+=.015*90)&&(e=90-(e-90),r.setAttribute("data-dir","left")):(e-=.015*90)<=0&&(e=-e,r.setAttribute("data-dir","right")),r.style.left=e+"%"},15),r.setAttribute("data-timer",t)))}function io(e){return"IMG"===(t=e).tagName||"PICTURE"===t.tagName||"VIDEO"===e.tagName;var t}function ao(e){return(e=e||document).querySelectorAll("img, picture, video")}function so(e){return(e=e||document).querySelectorAll("img, picture, video, a")}function uo(e){return(Rn.mouseover_links?so:ao)(e)}function lo(e,t,o){Qr(e.attributes,function(e){t.hasAttribute(e.name)&&!o||t.setAttribute(e.name,e.value)})}function co(e,t){var o,r;t.parentElement&&(r=Wr((o=t).tagName),lo(o,r),(t=r).removeAttribute("style")),lo(e,t),e.parentElement.insertBefore(t,e),e.parentElement.removeChild(e)}function po(e,t,o,r){var n;s||(n=hi(o));var i=!1;"A"===t.tagName&&(e.plainlink_replace_link&&(t.href=n),e.plainlink_replace_text&&(t.textContent=n),e.plainlink_replace_media&&(i=!0));var a=lt(t),s=!1;if(i||"string"!=typeof o&&"VIDEO"===o.tagName){if("string"==typeof o)return Mr("Unable to replace",t,"due to invalid replacement:",o),0;t=co(t,o),s=!0}if(!s&&e.replace_imgs&&(t.hasAttribute("srcset")&&t.removeAttribute("srcset"),hi(t)!==n&&(t.src=n)),"remove"===e.size_constraints?(t.removeAttribute("height"),t.removeAttribute("width"),t.style.setProperty("height","auto","important"),t.style.setProperty("width","auto","important")):"force"===e.size_constraints&&a&&a[0]&&a[1]&&(t.setAttribute("height",a[1]),t.removeAttribute("width",a[0]),t.style.setProperty("height",a[1]+"px","important"),t.style.setProperty("width",a[0]+"px","important")),e.replace_css&&st(t,e.replace_css,{force_important:!0}),e.add_links){for(var u=t;u=u.parentElement;)if("A"===u.tagName){if(e.replace_links)break;return}u||(u=Wr("a"),t.parentElement.insertBefore(u,t),u.appendChild(t)),e.links_newtab&&(u.target="_blank"),u.href!==r&&(u.href=r)}}var mo=function(t,o,r,n){var e,i=!1;r.data.img?po(t,o.el,r.data.img,r.data.obj.url):r.data.obj&&(e=function(){var e;Rn.replaceimgs_wait_fullyloaded&&t.replace_imgs?((e=new Image).onload=function(){po(t,o.el,e.src,r.data.obj.url),n()},e.onerror=n,e.src=r.data.obj.url):(po(t,o.el,r.data.obj.url,r.data.obj.url),n())},xr?Sr({type:"override_next_headers",data:{url:r.data.obj.url,headers:r.data.obj.headers,method:"GET"}},function(){e()}):e(),i=!0),i||n()},go=!(zi=function(e,t){if(t=t||nn.nullfunc,k&&_n()&&!Lr)return cn(k,{type:"trigger_gallery",data:{dir:e}},function(e){t(e)});Vt(e,void 0,void 0,function(e){if(e){e=St([e]);if(e)return void $t(e,!0,!0,function(e){t(e)})}return t(!1)})}),fo=new $n;function _o(u){if(!go&&!ki()){var e=u.images;void 0===e&&(e=(u.support_plainlinks?so:ao)());var l,t=[];if(u.all_els_ok)t=e;else{for(var o=Mn(),r=0;r<e.length;r++){var n=io(e[r]);if((n=!n&&u.support_plainlinks&&"A"===e[r].tagName?!0:n)&&(t.push(e[r]),u.support_plainlinks))for(var i=e[r].parentElement;i;)Nn(o,i),i=i.parentElement}if(u.support_plainlinks)for(r=0;r<t.length;r++)"A"===t[r].tagName&&Hn(o,t[r])&&(t.splice(r,1),r--)}if(0!==t.length){u.use_progressbar&&jr("Replacing images");var c=0,p=1;u.finalcb&&u.finalcb_progress&&(p-=u.finalcb_progress);u.replace_image_func||(u.replace_image_func=function(n,i,a,s,e){if(n.use_elcache){if(fo.has(i.el))return s(),a();fo.set(i.el,!0,5)}var t=!Rn.replaceimgs_usedata,o=t,r=!0;"A"===i.el.tagName&&(t=r=!n.plainlink_replace_media,r=r||!ii(i.src,i.el)),Ft(i,{automatic:!0,multi:!0,use_head:t,incomplete_image:o,incomplete_video:o,null_if_no_change:r,use_last_pos:!1,progress_cb:e},function(e,t,o,r){return s(),r?void mo(n,t,r,a):(po(n,i.el,i.src,i.src),a())})});var d,m=0,g=function(){var e=parseInt(Rn.replaceimgs_totallimit);if(e<w)w--;else{w<e&&(w++,g());var t,o=null,r=null,n=Date.now();for(t in f)if(!(_[t]>=parseInt(Rn.replaceimgs_domainlimit))){var i=n-h[t],a=1e3*parseFloat(Rn.replaceimgs_delay)-i;if(!(0<a)){_[r=t]++,h[t]=n,o=f[t][0],f[t].splice(0,1),0===f[t].length&&delete f[t];break}null===v[t]&&function(e){v[e]=setTimeout(function(){v[e]=null,g()},1+a)}(t)}null===o&&0<y.length&&(o=y[0],y.splice(0,1));var s=m;m++,o?u.replace_image_func(u,o,function(){var e;e=s,c++,u.use_progressbar&&(l.finish_id(e),jr("Finished "+c+"/"+b)),b<=c?(u.use_progressbar&&no(d,p,!0),go=!1,u.finalcb&&u.finalcb(function(e){u.use_progressbar&&u.finalcb_progress&&no(d,p+e*u.finalcb_progress,!0)})):Wi(g,c,100)},function(){r&&_[r]--},function(e){var t;Rn.replaceimgs_simple_progress&&(t=e.loaded/e.total,e.total=1,e.loaded=t),l.update_progobj(s,e)}):w--}};u.use_progressbar&&(d=ro(!0));for(var f={},_={},h={},v={},y=[],b=t.length,r=0;r<t.length;r++){var a,s=St([t[r]],{links:u.support_plainlinks});s?(s._replace_id=r,s.src&&(a=s.src.match(/^https?:\/\/([^/]+)\//))?(a[1]in f||(f[a[1]]=[],_[a[1]]=0,h[a[1]]=0,v[a[1]]=null),f[a[1]].push(s)):y.push(s)):b--}u.use_progressbar&&(l=new xn({cb:function(e){no(d,e.percent*p,!1)},elements_num:b}));var w=1;g()}}}function ho(e){return _o(vo(e))}var vo=function(e){var t,o={replace_imgs:Rn.replaceimgs_replaceimgs,add_links:Rn.replaceimgs_addlinks,replace_links:Rn.replaceimgs_replacelinks,support_plainlinks:!1,plainlink_replace_text:!1,plainlink_replace_link:!1,plainlink_replace_media:!1,links_newtab:Rn.replaceimgs_links_newtab,size_constraints:Ai("replaceimgs_size_constraints"),replace_css:Rn.replaceimgs_css,use_progressbar:!0},r=Ai("replaceimgs_plainlinks");for(t in"none"!==r&&(o.support_plainlinks=!0,"replace_link_text"===r?(o.plainlink_replace_text=!0,o.plainlink_replace_link=!0):"replace_media"===r&&(o.plainlink_replace_media=!0)),e=e||{})o[t]=e[t];return o};hn("Replace images",ho);function yo(g,f,n){function i(e){e.headers={Referer:"https://qsniyg.github.io/maxurl/"},bn(e)}var t;t=function(e){if(!e)return n(!1);var e=function(){for(var e={},t=Ai("gallery_jd_referer"),o=0;o<g.length;o++){var r,n,i,a=g[o];a&&(r={url:a.obj.url,filename:a.filename||"",desc:""},n="",i=null,a.obj.headers&&"never"!==t&&(i=Qn(a.obj.headers,"referer")||null)&&(n=r.referer=i,"domain"===t&&(n=ri(n))),n in e||(e[n]={referer:i,urls:[]}),e[n].urls.push(r))}var s,u=[];for(s in e){var l=e[s],c=[],p=[],d=[];Qr(l.urls,function(e){c.push("directhttp://"+e.url),d.push(e.fnames),p.push(e.desc)});var m={urls:c.join("\n"),descriptions:p.join("\n"),fnames:d.join("\n")};f&&(m.package=f),m.referer=l.referer||"",Rn.gallery_jd_autostart&&(m.autostart="1"),u.push(Zn(m,!0))}return u}(),t=0,o=e.length,r=!1;Qr(e,function(e){i({method:"GET",url:"http://127.0.0.1:9666/flashgot?"+e,onload:function(e){if(t++,!r)return 200!==e.status?(Pr("Error with flashgot api",e),n(!(r=!0))):void(o<=t&&n(!0))}})})},i({method:"GET",url:"http://127.0.0.1:9666/jdcheckjson",onload:function(e){if(200!==e.status)return Pr("Unable to connect to JDownloader",e),t(!1);try{JSON.parse(e.responseText)}catch(e){return Pr(e),t(!1)}return t(!0)}})}function bo(){function c(e){return/^https?:\/\//i.test(e)?e:e.substr(0,1e3)}function s(){var e=function(){var e={};e.url=Tr;try{var t=Ir().location.href;t!==Tr&&(e.url_orig=Tr,e.url=t),e.title=document.title,e.download_time=(new Date).toString()}catch(e){Pr(e)}return e}(),t=[];t.push(" --- Page info ---",""),t.push(Dr(e,null,"\t")),t.push(""," --- Files ---","");for(var o,r=0;r<m.length;r++)m[r]&&m[r].filename&&(o=m[r].filename,t.push(o),t.push(Dr(g[r],null,"\t")),t.push(""));return l.length&&(t.push(""," --- Failed ---",""),Qr(l,function(e){t.push(Dr(e,null,"\t")),t.push("")})),t.join("\n").replace(/\r*\n/g,"\r\n")}function u(n,e,t,o){if(!n||!n.data||!n.data.obj)return Pr("Invalid data",n,e),o();var r=n.data.obj.url;if(n.data.resp){if(!n.data.resp.finalUrl)return Pr("Unable to load image from",n,e),o();r=n.data.resp.finalUrl}n.data.img&&("VIDEO"===n.data.img.tagName&&n.data.img.pause(),r=hi(n.data.img));var i=n.data.obj||{},a=i.url,s=null;return Hn(d,a)?o():(Nn(d,a),"jdownloader"===_?(u(!1),l(),0):void Sn({url:r,headers:i.headers},{onload:function(e){u(!0),p[s]=e.data,l()},onprogress:t}));function u(e){if(pt(i,a,n.data.respdata),s=i.filename,(s=e&&!s?"download":s)&&s in p){for(var t,o=1,r=Gn(s,{split_ext:!0});t=r[0]+" ("+o+++")",r[1]&&(t+="."+r[1]),t in p;);s=t}return s}function l(){Rn.gallery_zip_add_info_file&&(g[e._replace_id]=function(e,t,o,r){var n={};n.num_in_gallery=r._replace_id+1,n.download_url=c(o),t.headers&&(n.download_headers=t.headers);r=r.src;return r&&r!==o&&(n.thumb_url=c(r)),n.filename=e,t.filename!==e&&(n.orig_filename=t.filename),t.filesize&&(n.filesize=t.filesize),t.extra&&on(t.extra,function(e,t){null!==t&&""!==t&&(n["extra_"+e]=t)}),n}(s,i,a,e)),m[e._replace_id]={obj:i,filename:s},o()}}function t(e){ho({images:e,all_els_ok:!0,replace_image_func:function(e,n,i,a,t){t={automatic:!0,multi:!0,use_head:!1,incomplete_image:!1,incomplete_video:!0,deny_nondirect_delivery:!0,deny_cache:!0,null_if_no_change:!Rn.gallery_download_unchanged,use_last_pos:!1,progress_cb:t};"jdownloader"===_&&(t.use_head=!0,t.incomplete_image=!0,t.incomplete_video=!0),Ft(n,t,function(e,t,o,r){return a(),r?void u(r,n,function(e){},i):(void 0!==t||Rn.gallery_download_unchanged?(Pr("Unable to download",t,n),Rn.gallery_zip_add_info_file&&l.push(function(e){var t={};t.num_in_gallery=e._replace_id+1;e=e.src;return e&&(t.url=c(e)),t}(n))):Mr("Not downloading unchanged image",n),i())})},finalcb:function(t){if("zip"===_&&!Object.keys(p).length||!m.length)return Pr("No files!"),void t(1);o=function(){for(var e=0;e<m.length;e++)if(m[e]&&m[e].obj)return m[e].obj}(),!f&&o&&((o=Cn(o.format_vars)).ext=".zip",o.items_amt=Object.keys(m).length.toString(),f=(f=mt(Rn.gallery_zip_filename_format,o))||"download",/\.zip$/i.test(f)||(f+=".zip"));var r,n,i,a,e=(f=f||"download.zip").replace(/\.zip$/i,""),o=null;Rn.gallery_zip_add_tld&&(o=e),Rn.gallery_zip_add_info_file&&(p["info.txt"]=s()),H(),"jdownloader"===_?yo(m,e,function(e){t(1),(e?$:O)()}):(r=p,n=o,i=function(e){t(1),e?($(),kn(e,f)):O()},a=t,ti("jszip",Rn,bn,function(e){if(!e)return i(null);var t,e=new e,o=e;for(t in n&&(o=e.folder(n)),r)o.file(t,r[t]);e.generateAsync({type:"blob"},function(e){a(e.percent/100)}).then(function(e){i(e)},function(e){Pr(e),i(null)})}))},finalcb_progress:.1})}var p={},d=Mn(),m=[],g={},l=[],f=null,_=Ai("gallery_download_method");!function(e,r,n){var i=0,a=Mn(),s=[],t=n;(t=t||v)&&(Nn(a,t),s.push(t));var u=function(t,o){Ot(t,r,n,function(e){return e&&Bt(e)?(i++,Hn(a,n=e)||(Nn(a,n),t?s.push(n):s.unshift(n)),void Wi(function(){u(t,o)},i,100)):o()})};u(!1,function(){u(!0,function(){e(s)})})}(function(e){t(e)})}function wo(){/^text\//.test(document.contentType)&&(xo||(xo=Wr("style"),document.documentElement.appendChild(xo)),xo.innerText="."+So+"{"+fe(Rn.highlightimgs_css)+"}")}var ko,xo=null,So="imu-"+an(10)+"-highlight";xi(function(){try{wo()}catch(e){Pr(e)}}),ko=Dn.highlightimgs_css.onupdate,Dn.highlightimgs_css.onupdate=function(){if(wo(),ko)return ko.apply(this,arguments)};function qo(e){e.classList.add(So)}function To(e){e.classList.remove(So)}function Eo(e){if(e.hasAttribute("data-imu-valid"))return!!zn(e.getAttribute("data-imu-valid"));var t,o=(t=hi(o=e),!(!_i(t,ji(o))||"A"===o.tagName&&!ii(t,o)));return e.setAttribute("data-imu-valid",o+""),o}function Ao(e){if(e.hasAttribute("data-imu-supported"))return!!zn(e.getAttribute("data-imu-supported"));var t=vi(e);return e.setAttribute("data-imu-supported",t+""),t}function Co(e){if(!ki()||!Rn.mouseover_exclude_imagetab){var t=(e=e||{}).images;if((t=void 0===t?uo():t).length)for(var o=0;o<t.length;o++)Eo(t[o])&&(supported=!Rn.highlightimgs_onlysupported,Rn.highlightimgs_onlysupported&&(supported=Ao(t[o])),e.hoveronly||(supported?(e.is_auto&&$r(Io,t[o])<0&&Io.push(t[o]),qo(t[o])):To(t[o])))}}var Io=[];!function(){function e(){Rn.highlightimgs_enable?t||(o=hn("Highlight images",Co),t=!0):t&&(vn(o),t=!1)}var t=!1,o=null;e();var r=Dn.highlightimgs_enable.onupdate;Dn.highlightimgs_enable.onupdate=function(){if(e(),r)return r.apply(this,arguments)}}();function zo(){if(!Qe){var e=Ai("mouseover_trigger_enabledisable_toggle");if(Rt(Rn.mouseover_trigger_prevent_key)){if("disable"===e)return}else if("enable"===e)return;return x="mouse"}}function Uo(e){ki()&&Rn.mouseover_exclude_imagetab||("hover"!==Ai("highlightimgs_auto")||!Eo(e.target)||Rn.highlightimgs_onlysupported&&!Ao(e.target)||($r(Io,e.target)<0&&Io.push(e.target),qo(e.target)),d()&&Rn.mouseover_trigger_mouseover&&!L&&!Pt()&&(j=e.target,br(e),L=setTimeout(function(){j=null,L&&(clearTimeout(L),L=null),zo()&&Ht()},1e3*R)))}function Ro(e){"hover"===Ai("highlightimgs_auto")&&Eo(e.target)&&To(e.target),d()&&Rn.mouseover_trigger_mouseover&&L&&j===e.target&&(clearTimeout(L),L=null)}var Lo,Do,jo,Po,Mo,No,Ho,$o,Fo,Oo;function Go(e){var t=Ai("highlightimgs_auto");"always"!==t&&"hover"!==t||Co({images:e,hoveronly:"hover"===t,is_auto:!0});for(var o=0;o<e.length;o++)Br(e[o],"mouseover",Uo),Br(e[o],"mouseout",Ro),Gr(e[o],"mouseover",Uo),Gr(e[o],"mouseout",Ro);Rn.replaceimgs_auto&&ho({images:e,use_progressbar:!1,use_elcache:!0})}Ur()||Rn.apply_blacklist_host&&!Tn(window.location.href)||(Do={childList:!0,subtree:!0,attributes:!0},jo=function(){return new MutationObserver(function(e,t){for(var r=[],n=function(e){for(var t,o=0;o<e.length;o++)t=e[o],(io(t)||Rn.mouseover_links&&"A"===t.tagName)&&r.push(e[o]),e[o].children&&n(e[o].children)},o=0;o<e.length;o++){var i=e[o];i.addedNodes&&n(i.addedNodes),i.target&&"attributes"===i.type&&("src"!==i.attributeName&&"href"!==i.attributeName&&"srcset"!==i.attributeName||n([i.target]))}0<r.length&&Go(r)})},Po=function(){Ur()||(Go(uo()),Lo&&Lo.observe(document,Do))},Mo=function(){for(var e=0;e<Io.length;e++)To(Io[e]);Io=[]},No=function(){Mo(),Lo&&Lo.disconnect()},zr.push(No),Ho=function(){var e=Ai("highlightimgs_auto");return"always"===e||"hover"===e||Rn.replaceimgs_auto||d()&&Rn.mouseover_trigger_mouseover},function(){try{Lo=jo()}catch(e){Mr(e)}Ho()&&Po()}(),$o=function(){Ho()?("always"!==Ai("highlightimgs_auto")&&Mo(),Po()):No()},Fo=Dn.highlightimgs_auto.onupdate,Dn.highlightimgs_auto.onupdate=function(){Fo&&Fo(),$o()},Oo=Dn.imu_enabled.onupdate,Dn.imu_enabled.onupdate=function(){Oo&&Oo.apply(this,arguments),(Rn.imu_enabled?$o:No)()});function Bo(){var e=we[0].getElementsByTagName("video");return(e=e&&0!==e.length?e:we[0].getElementsByTagName("audio"))&&0!==e.length?e[0]:null}function Wo(e){var t=Bo();t&&(t.pause(),rr(e,1/Rn.mouseover_video_framerate))}function Vo(e){var t,o=Bo();o&&("number"!=typeof e?(t=Rn.mouseover_video_speed_amount,o.playbackRate+=t=!0===e?-t:t):o.playbackRate=e)}function Xo(e){var t,o=Bo();o&&("number"!=typeof e?(t=Rn.mouseover_video_volume_change_amt,t=o.volume+(t=!0===e?-t:t)/100,t=Zr(Xr(t,0),1),o.volume=t):o.volume=e)}function Zo(){ir()?(document.exitFullscreen(),a=!1):sr()}function Ko(){return Ce&&qe}function Yo(){var e;Ce&&(e=Ai("popup_hold_zoom"),Pe&&"none"!==e&&Pe(ze?e:"last"),je&&Rn.mouseover_hold_position_center&&(e=je(_e,he,!0),we[0].style.top=e[1]+"px",we[0].style.left=e[0]+"px"),Ue())}function Jo(){var e=Bo();e&&function(e,t){var o=Wr("canvas");o.width=e.videoWidth,o.height=e.videoHeight,o.getContext("2d").drawImage(e,0,0,o.width,o.height);var r="image/png",e=Ai("popup_video_screenshot_format");t(fi(o,r="jpg"===e?"image/jpeg":r))}(e,function(e){if(!e)return Pr("Unable to screenshot video"),void O();var t=Cn(xe.format_vars);t.is_screenshot={usable:!0},t.ext=".png","jpg"===Ai("popup_video_screenshot_format")&&(t.ext=".jpg"),t.filename=t.filename_noext+t.ext;t=mt(Rn.filename_format,t);wn({url:e},t)})}function Qo(e){r=e.clientX,n=e.clientY,e.pageX,e.pageY}function er(e,t){if(!1===t)try{e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}catch(e){}return t}var tr=function(){var e=we[0].getElementsByTagName("video");return 0<(e=0===e.length?we[0].getElementsByTagName("img"):e).length?e[0]:null},or=function(){xe.media_info&&xe.media_info.delivery&&Rn.enable_stream_download?(H(),X(xe,function(e){e?te(function(r){var i,a;r?($(),i=ro(!0),a=0,ae(xe,e,function(e){var t,o,r,n=Date.now();50<n-a&&(a=n,t=to(100*e.percent,2),o=oo(e.loaded),r=oo(e.total),n=e.total_accurate?"":"~",jr(o+" / "+n+r+" ("+t+"%)")),no(i,.9*e.percent,!0)},function(e){oe(r,e,function(e){no(i,.9+.1*e,!0)},function(o){no(i,1,!0);var e=r.FS("readFile",o);Or(e,function(e){var t=Gn(o,{split_ext:!0})[1],t=Gn(xe.filename||"download",{split_ext:!0,known_ext:!0})[0]+"."+t;kn(e,t,function(){r.FS("unlink",o)})})})})):O()}):O()})):wn(xe,xe.filename,Se)},rr=function(e,t){e=(e?-1:1)*(t=void 0===t?Rn.mouseover_video_seek_amount:t),t=Bo();t&&(t.currentTime+=e)},nr=function(t){try{t.play()}catch(e){Mr("Unable to autoplay",t,e)}},ir=function(){return null!==document.fullscreenElement||document.fullscreen},ar=function(){return ir()&&a},sr=function(){tr().requestFullscreen().then(function(e){a=!0},function(e){Pr("Error loading fullscreen",e)})},ur=function(e){if(kr&&jr("action_handler",e),!e.needs_popup||Ko()){switch(e.type){case"resetpopups":return it(),!0;case"replace_images":return ho(),!0;case"highlight_images":return Co(),!0;case"trigger_popup":return"keyboard"===e.trigger&&(x="keyboard"),Ht(),!0;case"gallery_prev":return zi(-1),!0;case"gallery_next":return zi(1),!0;case"download":return or(),!0;case"open_in_new_tab":return yn(xe,e.background_tab),!0;case"rotate_left":return Qt(-90),!0;case"rotate_right":return Qt(90),!0;case"flip_horizontal":return eo(!1),!0;case"flip_vertical":return eo(!0),!0;case"zoom_in":return Re("incremental",-1),!0;case"zoom_out":return Re("incremental",1),!0;case"zoom_full":return Re("fitfull",-1),!0;case"zoom_fit":return Re("fitfull",1),!0;case"fullscreen":return Zo(),!0;case"seek_left":return rr(!0),!0;case"seek_right":return rr(!1),!0;case"frame_left":return Wo(!0),!0;case"frame_right":return Wo(!1),!0;case"speed_down":return Vo(!0),!0;case"speed_up":return Vo(!1),!0;case"reset_speed":return Vo(1),!0;case"volume_up":return Xo(!1),!0;case"volume_down":return Xo(!0),!0;case"toggle_mute":return(o=Bo())&&(o.muted=!o.muted),!0;case"toggle_controls":return(t=Bo())&&("controls"===t.getAttribute("controls")?t.removeAttribute("controls"):t.setAttribute("controls","controls")),!0;case"toggle_play_pause":return(t=Bo())&&(t.paused?nr(t):t.pause()),!0;case"open_options":return yn({url:sn()},!1),!0;case"open_orig_page":return xe&&xe.extra&&xe.extra.page?yn({url:xe.extra.page},!1):jr("Unable to find original page for",xe),!0;case"hold":return Yo(),!0;case"toggle_hold":return ze=!ze,W(),ze||!Ie[1]&&!Rn.mouseover_hold_close_unhold?Yo():ur({type:"resetpopups"}),!0;case"toggle_ui":return Le(!0,"toggle"),!0;case"copy_link":return xe&&xe.url?qn(xe.url,function(e){e||Mr("Unable to write url to clipboard:",xe.url)}):Mr("Popup not open?"),!0;case"screenshot_video":return Jo(),!0;case"download_gallery":return bo(),!0}var t,o;return!1}},lr=new $n,cr=new $n,pr=function(o){if(!qr&&(kr&&Nr("input","keydown_cb",o),l()&&("wheel"!==o.type||!Ti(I)))){if("keydown"===o.type){if(o.repeat)return;if(Ye)return;if(Rn.disable_keybind_when_editing&&o.target){var e=lr.get(o.target);if(void 0===e&&(e=function(e){if("TEXTAREA"===e.tagName)return!0;if("INPUT"===e.tagName&&(!e.hasAttribute("type")||"text"===e.getAttribute("type")))return!0;do{if(e.hasAttribute("contenteditable"))return!0}while(e=e.parentElement);return!1}(o.target),lr.set(o.target,e,60)),!0===e)return}}var r=void 0,n=[];zt(o,!0);e=function(e){var t,o=!0,r=Si(e,o="mouseup"===e.type||"keyup"===e.type?!1:o),n=[];for(t in r)n.push(t+":"+r[t]);return o+" "+n.join(",")+" "+e.timeStamp}(o);if(cr.has(e))return er(o,cr.get(e));if(xr&&Rn.extension_contextmenu&&"mousedown"===o.type&&Rt(["shift","button2"])&&Qo(o),Rn.mouseover&&"keyboard"===Ai("mouseover_trigger_behavior")){for(var t=[Rn.mouseover_trigger_key],i=0;i<Ln;i++)t.push(Rn["mouseover_trigger_key_t"+(i+2)]);Qr(t,function(e,t){It(o,e)&&(Rt(e)&&!Ce&&(z={},L||(n.push({requires_mouse:!0,type:"trigger_popup",trigger:"keyboard"}),r=!1,U=e),p=t?t+1:null,"popup"!==P("mouseover_open_behavior")&&Et()),("all"===(t=Dt())||"any"===t&&Rt(e))&&(Ie[0]=!1))})}if(Rn.replaceimgs_enable_keybinding&&Rt(Rn.replaceimgs_keybinding)&&(n.push({type:"replace_images"}),r=!1,U=Rn.replaceimgs_keybinding),Rn.highlightimgs_enable_keybinding&&Rt(Rn.highlightimgs_keybinding)&&(n.push({type:"highlight_images"}),r=!1,U=Rn.highlightimgs_keybinding),Rn.mouseover&&!1!==r)for(var a=k||Ko(),s=[{key:Rn.mouseover_close_key,action:{type:"resetpopups"}},{key:Rn.mouseover_gallery_prev_key,action:{type:"gallery_prev"},requires:Rn.mouseover_enable_gallery},{key:Rn.mouseover_gallery_next_key,action:{type:"gallery_next"},requires:Rn.mouseover_enable_gallery},{key:Rn.mouseover_download_key,clear:!0,action:{type:"download"}},{key:Rn.mouseover_open_new_tab_key,clear:!0,action:{type:"open_in_new_tab"}},{key:Rn.mouseover_open_bg_tab_key,action:{type:"open_in_new_tab",background_tab:!0}},{key:Rn.mouseover_copy_link_key,action:{type:"copy_link"},requires:Rn.write_to_clipboard},{key:Rn.mouseover_open_options_key,clear:!0,action:{type:"open_options"}},{key:Rn.mouseover_open_orig_page_key,clear:!0,action:{type:"open_orig_page"}},{key:Rn.mouseover_rotate_left_key,action:{type:"rotate_left"}},{key:Rn.mouseover_rotate_right_key,action:{type:"rotate_right"}},{key:Rn.mouseover_flip_horizontal_key,action:{type:"flip_horizontal"}},{key:Rn.mouseover_flip_vertical_key,action:{type:"flip_vertical"}},{key:Rn.mouseover_zoom_in_key,action:{type:"zoom_in"}},{key:Rn.mouseover_zoom_out_key,action:{type:"zoom_out"}},{key:Rn.mouseover_zoom_full_key,action:{type:"zoom_full"}},{key:Rn.mouseover_zoom_fit_key,action:{type:"zoom_fit"}},{key:Rn.mouseover_fullscreen_key,action:{type:"fullscreen"}},{key:Rn.mouseover_video_seek_left_key,action:{type:"seek_left"}},{key:Rn.mouseover_video_seek_right_key,action:{type:"seek_right"}},{key:Rn.mouseover_video_frame_prev_key,action:{type:"frame_left"}},{key:Rn.mouseover_video_frame_next_key,action:{type:"frame_right"}},{key:Rn.mouseover_video_speed_down_key,action:{type:"speed_down"}},{key:Rn.mouseover_video_speed_up_key,action:{type:"speed_up"}},{key:Rn.mouseover_video_reset_speed_key,action:{type:"reset_speed"}},{key:Rn.mouseover_video_volume_up_key,action:{type:"volume_up"}},{key:Rn.mouseover_video_volume_down_key,action:{type:"volume_down"}},{key:Rn.mouseover_video_mute_key,action:{type:"toggle_mute"}},{key:Rn.mouseover_video_controls_key,action:{type:"toggle_controls"}},{key:Rn.mouseover_video_playpause_key,action:{type:"toggle_play_pause"}},{key:Rn.mouseover_video_screenshot_key,clear:!0,action:{type:"screenshot_video"}},{key:Rn.mouseover_ui_toggle_key,action:{type:"toggle_ui"}},{key:Rn.mouseover_gallery_download_key,action:{type:"download_gallery"},clear:!0},{key:Rn.mouseover_hold_key,action:{type:"toggle_hold"}}],i=0;i<s.length;i++)if(s[i].key&&Rt(s[i].key)&&(!("requires"in s[i])||s[i].requires)){var u=s[i].action;u.needs_popup=!0,n.push(u),s[i].clear&&Et(),a&&(U=s[i].key,r=!1);break}if(U=U&&U.length?Cn(U):[],n&&0<n.length){!function(){for(var e=0;e<I.length;e++)qi(I[e])&&(I.splice(e,1),e--)}();for(i=0;i<n.length;i++)ur(n[i]);!function(e){if(fn()){var t="top",o=!0;if(!Lr&&"top"===(t=c)){if(o=!1,!k)return;t=k}for(var r=0;r<e.length;r++)!o&&e[r].requires_mouse&&(e.splice(r,1),r--);0<e.length&&cn(t,{type:"action",data:e})}}(n)}return!1===r&&cr.set(e,r,5),er(o,r)}},t={capture:!0,passive:!1};Gr(document,"keydown",pr,t),Gr(document,"mousedown",pr,t),Gr(document,"contextmenu",pr,t),Gr(document.body,"contextmenu",pr,t),Gr(document,"wheel",pr,t);pr=function(e){if(kr&&Nr("input","keyup_cb",e),l()&&(zt(e,!1),Rn.mouseover)){var t=void 0,o=Rn.mouseover_trigger_key,r=function(e,t,o){o=Gi(o);for(var r=0;r<o.length;r++)if(Ut(e,t,o[r]))return!0;return!1}(e,!1,o=p?Rn["mouseover_trigger_key_t"+p]:o),n=Dt();r&&"all"===n&&(r=!Lt(0,o));var i,o=Ce;if(o||(Rn.mouseover_cancel_popup_when_release||Rn.mouseover_close_need_mouseout&&!Ie[1])&&(o=!0),!r||"esc"===n||"keyboard"!==x||!o){if(27===e.which){if(Qe&&"mouse"===x&&!Rn.mouseover_cancel_popup_with_esc)return;$(),it()}if(0<U.length)for(i in Si(e,!1)){var a=$r(U,i);0<=a&&(U.splice(a,1),t=!1)}return er(e,t)}!Rn.mouseover_close_need_mouseout||Ie[1]?($(),it()):Ie[0]=!0}};function dr(){var e=document.documentElement,t=document.body;return(e&&e.scrollLeft||t&&t.scrollLeft||0)-(e&&e.clientLeft||t&&t.clientLeft||0)}function mr(){var e=document.documentElement,t=document.body;return(e&&e.scrollTop||t&&t.scrollTop||0)-(e&&e.clientTop||t&&t.clientTop||0)}Gr(document,"keyup",pr,t),Gr(document,"mouseup",pr,t);function gr(i,e,a,s){var u,n,l,t,c,p,o,d,r=Ai("mouseover_pan_behavior"),m=Rn.mouseover_move_with_cursor&&!ze;("drag"!==r||0!==e.buttons&&Oe||m)&&(u=at(),n=parseInt(Rn.mouseover_drag_min),l=!1,t=function(e){var t=parseInt(e?i.style.top:i.style.left),o=e?be:ye,r=(e?s:a)-(e?Ve:We);r!==t&&(Ke||Kr(r-t)>=n)&&(o=r-(t-o),e?(be=o,i.style.top=r+"px"):(ye=o,i.style.left=r+"px"),l=Ke=!0)},o=function(e){c||(c=function(){if(!we||!we[0])return null;var e=Date.now();return(!S||50<e-q)&&(S=kt(we[0]),q=e),S}(),p=xt());var t=e?c.height:c.width,o=e?p.height:p.width,r=(o-t)/2;Kr(r)<20&&(o=t,r=0);var n=e?u[1]:u[0],t=e?s:a;Rn.mouseover_movement_inverted||(t=n-t),n<o&&(r=Zr(Xr(t-40,0),n-80)/(n-80)*(n-o-40)+r+20+"px",e?i.style.top=r:i.style.left=r,l=!0)},d=p=c=null,e=function(e){var t=parseInt(e?i.style.top:i.style.left),o=e?s:a,r=o-(e?Ze:Xe)+t;(r=Rn.mouseover_move_within_page&&je?(d=d||je(a,s,!1))[e?1:0]:r)!==t&&(o=o,e?(Ze=o,i.style.top=r+"px"):(Xe=o,i.style.left=r+"px"))},"drag"===r&&Oe?(t(!1),t(!0)):"movement"===r&&(o(!1),o(!0)),m&&(e(!1),e(!0)),l&&(ve=!1))}function fr(t,o,r){if(kr&&jr("ON_REMOTE_MESSAGE",t,o,r),"make_popup"===t.type)Lr||(it(),n=t.data.data.data.img,i=function(e){t.data.data.data.img=e,k=o,v=qe=null,gt(t.data.source_imu,t.data.src,t.data.processing,t.data.data)},a=Wr(n.tag),"video"!==n.tag&&"audio"!==n.tag||(n.autoplay&&a.setAttribute("autoplay",n.autoplay),n.controls&&a.setAttribute("controls",n.controls),n.loop&&a.setAttribute("loop",n.loop),n.muted&&(a.muted=n.muted),void 0!==n.volume&&(a.volume=n.volume),a.onloadedmetadata=function(){i(a)}),n.crossorigin&&a.setAttribute("crossorigin",n.crossorigin),a.src=n.src,"video"!==n.tag&&"audio"!==n.tag&&i(a));else if("count_gallery"===t.type)Wt(t.data.nextprev,t.data.max,t.data.is_counting,void 0,void 0,function(e){r(e)});else if("is_nextprev_valid"===t.type)Xt(t.data.nextprev,function(e){r(e)});else if("trigger_gallery"===t.type)zi(t.data.dir,function(e){r(e)});else if("resetpopups"===t.type)it({from_remote:!0});else if("mousemove"===t.type)wr(t.data);else if("action"===t.type)for(var e=0;e<t.data.length;e++)t.data[e].remote_origin=o,ur(t.data[e]);else"popup_open"===t.type&&(k=o,b=null);var n,i,a}function _r(t){if("remote"!==t.type)return"remote_reply"===t.type&&(t.response_id in dn&&(o=t.response_id,delete t.response_id,dn[o](t.data)),!0);var o,e=function(){};return t.response_id&&(o=t.response_id,e=function(e){pn(t.from,o,e)}),t.from===mn||t.to&&mn!==t.to||fr(t.data,t.from,e),1}xr?chrome.runtime.onMessage.addListener(function(e,t,o){kr&&jr("chrome.runtime.onMessage",e),"context_imu"===e.type?c===mn&&(x="contextmenu",Ht({is_contextmenu:!0})):"popupaction"===e.type?"replace_images"===e.data.action?ho():"highlight_images"===e.data.action&&Co():"remote"===e.type||"remote_reply"===e.type?_r(e):"suspend"===e.type?Rr(!0):"unsuspend"===e.type?Rr(!1):Bi(e)}):Gr(Ir(),"message",function(e){kr&&jr("window.onMessage",e),fn()&&e.data&&"object"==typeof e.data&&gn in e.data&&_r(e.data[gn])},!1),Gr(document,"contextmenu",Qo);var hr=0,vr=null,yr=null;Gr(document,"wheel",function(e){if(Rn.scroll_override_page&&Ce&&De)return De(e,!0)},{passive:!1}),"bilibili.com"===Je&&0<=navigator.userAgent.indexOf("Chrome/")&&Gr(document,"wheel",function(e){var t=document.createEvent("MouseEvents");t.initEvent("mousewheel",!0,!0),t.wheelDelta=e.wheelDelta,t.detail=e.detail,t.deltaMode=e.deltaMode,t.target=e.target,t.srcElement=e.srcElement,document.dispatchEvent(t)});var br=function(e){if(null===e.pageX&&null!==e.clientX&&(eventDoc=e.target&&e.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,e.pageX=e.clientX+dr(),e.pageY=e.clientY+mr()),fn()){if(e.remote_info&&e.remote_info.id!==mn){var t=ln(e.remote_info);if(!t)return;t=kt(t);e.clientX+=t.left,e.clientY+=t.top,e.pageX+=t.left+window.scrollX,e.pageY+=t.top+window.scrollY}else Lr&&(yr=e,t=16,(t=(t=!Rn.mouseover_use_remote?300:t)-(Date.now()-hr))<1&&(t=1),vr=vr||setTimeout(function(){"remote_info"in yr||(yr.remote_info=un()),vr=null,hr=Date.now(),cn("top",{type:"mousemove",data:In(yr)})},t));c=e.remote_info?e.remote_info.id:mn}_e=e.clientX,he=e.clientY,e.pageX,e.pageY},wr=function(e){m=!0,e=e||window.event,br(e),T&&N(),Ce&&gr(we[0],e,_e,he);var t=Rn.mouseover_jitter_threshold,o="keyboard"===x&&jt()&&Ce,r="mouse"===x;if(o||r)if(Ce){L&&(clearTimeout(L),L=null);var n=40,i=n,a=null,s=null,e=!1;tr()&&(p=xt(),e=G(_e,he,p,t),l=p.width,c=p.height,a=p.x+p.width/2,s=p.y+p.height/2,n=Xr(n,l/2),i=Xr(i,c/2),n+=t,i+=t,!1===ve&&G(_e,he,p)&&(ve=!0));var u,o=function(){ze?Ie[1]=!0:it()},l=Ai("mouseover_close_el_policy"),c=("thumbnail"===l||"both"===l)&&qe&&!Ae,t=!1,p=!1;if(c)if((u=kt(qe))&&0<u.width&&0<u.height){e="thumbnail"===l?!1:e;if(!G(_e,he,u)&&!e&&(t=!0,"thumbnail"===l))return o()}else p=!0;Ie[1]=!1,ve&&(!c||t||p)?a&&s&&(Kr(_e-a)>n||Kr(he-s)>i)&&o():c&&t&&o()}else r&&Qe&&y&&Rn.mouseover_cancel_popup_when_elout&&(u=kt(y),G(_e,he,u)||it());if(d()&&(!Ce||Ae)&&!Pt()){if(L&&!Rn.mouseover_trigger_mouseover){if(Kr(_e-g)<10&&Kr(he-f)<10)return;clearTimeout(L),L=null}g=_e,f=he,b&&(u=kt(b),G(_e,he,u)||(b=null)),Rn.mouseover_trigger_mouseover||(L=setTimeout(function(){zo()&&Ht()},1e3*R))}};Gr(document,"mousemove",wr),hn("Report issue",Er)}function No(e,t){var o=Wr("div");o.style.marginBottom="2em";var r=Wr("span");r.style.fontSize="90%",r.style.fontWeight=800,r.style.marginRight="2em";var n=null;try{n=_.script.version}catch(e){}Oo(r)||(r.innerText="Installed",null!==n&&(r.innerText+=" (v"+n,t&&-1===pt(t,n)&&(r.innerText+=", update available"),r.innerText+=")"),options_el=Wr("a"),options_el.innerText="Options",options_el.style.background="#0af",options_el.style.padding="0.5em 1em",options_el.style.color="white",options_el.style.display="inline-block",options_el.style.textDecoration="none",options_el.target="_blank",options_el.href="https://qsniyg.github.io/maxurl/options.html"),o.appendChild(r),d||o.appendChild(options_el),e.parentElement.appendChild(o)}var Ho,$o,Fo,Oo=function(e){if(!d)return!1;e.style.color="#ff3333",e.innerText="Error: Rules cannot be loaded.\nPlease either try reinstalling the script, or ";var t=document.createElement("a");t.href=l,t.target="_blank",t.innerText="install the github version",e.appendChild(t);t=document.createElement("p");t.innerText="Error reason:",t.style.color="#000",t.style.marginTop="1em",t.style.marginBottom="1em";try{var o=document.createElement("pre");o.style.color="#000",o.innerText=d.message,e.appendChild(t),e.appendChild(o)}catch(e){Pr(e)}return!0},Go=function(){var e,t,o=(o=document.querySelector("div.script-author-description > center > img[alt='Image Max URL']"))||document.querySelector("#additional-info > center > img[alt='Image Max URL']");o&&(o.parentElement.previousElementSibling||"UL"!==o.parentElement.nextElementSibling.tagName||(e=null,(t=document.querySelector("dd.script-show-version"))&&(e=t.innerText.replace(/^\s*|\s*$/,"")),No(o,e)))},Bo=function(){var e,t,o=document.querySelector("div#user-content > p[align='center'] img[alt='Image Max URL']");o&&(o.parentElement.previousElementSibling&&"HR"!==o.parentElement.previousElementSibling.tagName||"UL"!==o.parentElement.nextElementSibling.tagName||(e=null,!(t=document.querySelector("div.script-meta i.fa-history"))||(t=t.parentElement.querySelector("code"))&&(e=t.innerText.replace(/[+].*/,""),/^[0-9.]+$/.test(e)||(e=null)),No(o,e)))};function Wo(){var e;$$IMU_EXPORT$$=pi,m?module.exports=pi:g&&(imu_variable=pi),v?((a||qr)&&xi(function(){ao()}),qr&&xi(function(){try{lo()}catch(e){Pr(e);var t=Wr("pre");t.style.fontFamily="monospace",t.style.margin="1em",t.innerText=ne()+"\n"+e.toString()+"\n"+e.stack;var o=Wr("div"),r="Error loading options page, please report this to <a href='"+Er+"'>"+Er+"</a>, ";o.innerHTML=r+="and include the following information in the report:",o.appendChild(t),document.body.innerHTML=o.outerHTML}}),Rn.imu_enabled&&(Rn.redirect&&(Rn.redirect_host_html||ki())&&(Xt(),e=!1,Rn.redirect_force_page+""=="true"&&(e=!0),to(window.location.href,e,Vt)),Rn.website_inject_imu&&(window.location.href.match(/^https?:\/\/qsniyg\.github\.io\/+maxurl(\/+|\/+index\.html)?(?:[?#].*)?$/)||window.location.href.match(/^file:\/\/.*\/maxurl\/site\/index\.html/))&&"undefined"!=typeof unsafeWindow&&xi(function(){var r;d||(unsafeWindow.imu_variable=pi,unsafeWindow.imu_inject=1,unsafeWindow.do_imu=function(e,t){return pi(e,{fill_object:!0,do_request:bn,cb:t})},r=unsafeWindow.set_max,unsafeWindow.set_max=function(o){var s;o&&o[0].url?(s=function(r,n,i,a){Hi(r,function(t,e){var o=e;(o=!e&&t&&t.finalUrl?t.finalUrl:o)?di(r,o)<0&&a!==o?pi(o,{fill_object:!0,do_request:bn,cb:function(e){Ni(t),s(e,n,i,o)}}):n(t,e,r[di(r,o)]):n(t,e)},i)},Rn.website_image?s(o,function(e,t,o){e?(r([o||{url:t}]),maximgel.src=e.src):r("broken")},{running:!0}):o.can_head?s(o,function(e){var t;e?(t=(t=o)||{url:e.finalUrl},r([t])):r("broken")},{running:!0,head:!0}):r(o)):r(o)})})),be&&(window.location.href.match(/^https?:\/\/(?:www\.)?greasyfork\.org\/+[^/]*\/+scripts\/+36662(?:-[^/]*)?(?:[?#].*)?$/)?xi(function(){Go()}):window.location.href.match(/^https?:\/\/(?:www\.)?openuserjs\.org\/+scripts\/+qsniyg\/+Image_Max_URL(?:[?#].*)?$/)&&xi(function(){Bo()})),Mo(),xr&&Sr({type:"ready"})):o&&(imu_userscript_message_sender=Bi)}kr&&jr("Finished initial loading"),kr&&jr("do_config"),be||xr?(Ho=0,$o=Object.keys(Rn).length+le.length,(Fo=function(t){po(t,function(e){Ho+=t.length,on(e,function(e,t){yo(e,t)}),$o<=Ho&&function(t){try{wt()}catch(e){Pr(e)}Rn.last_update_check||_o("last_update_check",Date.now()),ft(),mo("settings_version",function(e){vo(e,Rn,t)})}(function(e){!function(e){if("undefined"==typeof GM_addValueChangeListener)return e();setTimeout(function(){for(var e in Rn)GM_addValueChangeListener(e,function(e,t,o,r){!1!==r&&((r={})[e]={newValue:o},ho(r))})},1),e()}(function(){Wo()})})})})(Object.keys(Rn)),Fo(le)):Wo()}();